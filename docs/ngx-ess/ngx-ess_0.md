# 序言

2006 年是一个令人兴奋的年份。围绕着互联网泡沫破裂的失望几乎完全被 Web 2.0 的复兴和更为自信的增长所取代，激发了对新一代技术的探索。

那时，我正在寻找一个可以为我的项目提供支持的 Web 服务器，它能以不同的方式处理许多事情。在积累了一些大型在线项目的经验后，我知道流行的 LAMP 堆栈并不理想，有时无法解决某些挑战，比如高效上传、基于地理位置的限速等问题。

在尝试并拒绝了多个选项后，我了解了 Nginx，并立即觉得我的搜索找到了终点。它小巧而强大，代码库简洁，扩展性好，功能齐全，并且解决了许多架构上的挑战。Nginx 无疑从人群中脱颖而出！

我立刻受到启发，并且对这个项目产生了某种亲近感。我尝试参与 Nginx 社区，学习、分享我的知识，并尽可能多地贡献。

随着时间的推移，我对 Nginx 的了解不断增长。我开始收到咨询请求，并且能够解决一些相当复杂的案例。过了一段时间，我意识到我的一些知识可能值得与大家分享。于是我在[www.nginxguts.com](http://www.nginxguts.com)上开设了一个博客。

博客最终变成了一个以作者为主导的媒介。更注重读者并更全面的媒介变得有需求，因此我抽出时间将我的知识汇编成一本更为扎实的书籍。这就是你现在手中的这本书的由来。

# 本书的内容

第一章，*Nginx 入门*，为你提供了有关 Nginx 的最基本知识，包括如何进行最基本的安装并快速启动 Nginx。还详细解释了配置文件的结构，让你清楚地知道书中其他部分的代码片段应用在哪些位置。

第二章，*管理 Nginx*，解释了如何管理一个正在运行的 Nginx 实例。

第三章，*代理与缓存*，解释了如何将 Nginx 转变为一个强大的 Web 代理和缓存。

第四章，*重写引擎与访问控制*，解释了如何使用重写引擎来操作 URL 并保护你的 Web 资源。

第五章，*管理进出流量*，描述了如何对进站流量施加各种限制，以及如何使用和管理上游服务器。

第六章，*性能调优*，解释了如何从你的 Nginx 服务器中榨取最大性能。

# 你需要为本书做的准备

需要对类 Unix 操作系统有良好的理解，假设是 Linux 系统，并具备一定的网页管理员经验。

# 本书适合谁阅读

本书旨在丰富网站管理员和站点可靠性工程师对 Nginx 核心深层次知识的了解。同时，本书也是一本*从零开始*的指南，允许初学者在经验丰富的指导下轻松切换到 Nginx。

# 约定

本书中，你将看到多种文本样式，这些样式用于区分不同类型的信息。以下是这些样式的示例及其含义的解释。

文本中的代码词汇、文件夹名称、文件名、文件扩展名、路径名、虚拟网址和用户输入，都会按如下方式显示：“我们可以通过使用`include`指令来包含其他上下文。”

代码块的显示方式如下：

```
types {
    text/html                   html htm shtml;
    text/css                    css;
    text/xml                    xml;
    image/gif                   gif;
    image/jpeg                  jpeg jpg;
    application/x-javascript    js;
    application/atom+xml        atom;
    application/rss+xml         rss;
}
```

当我们希望将你的注意力引向代码块的特定部分时，相关的行或项会以粗体显示：

```
types {
 text/html                   html htm shtml;
    text/css                    css;
    text/xml                    xml;
    image/gif                   gif;
    image/jpeg                  jpeg jpg;
    application/x-javascript    js;
    application/atom+xml        atom;
    application/rss+xml         rss;
}
```

任何命令行输入或输出如下所示：

```
# cp /usr/local/nginx/nginx.conf.default
 /etc/nginx/nginx.conf

```

**新术语**和**重要词汇**以粗体显示。你在屏幕上看到的词语，例如菜单或对话框中的词语，会以如下方式显示在文本中：“点击**下一步**按钮将带你进入下一个屏幕。”

### 注意

警告或重要说明以类似这样的框显示。

### 提示

小贴士和技巧以这种方式呈现。

配置文件部分的省略以[…]显示，或者用注释标注为[…这部分配置文件由你来决定...]

# 读者反馈

我们始终欢迎读者的反馈。让我们知道你对这本书的看法——你喜欢或不喜欢什么。读者反馈对我们来说非常重要，因为它帮助我们开发出你真正能从中受益的书籍。

若要向我们发送一般反馈意见，只需通过电子邮件发送至`<feedback@packtpub.com>`，并在邮件主题中提到本书的标题。

如果你在某个领域拥有专长，并且有兴趣撰写或参与书籍的编写，请访问我们的作者指南：[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在你已经成为一本 Packt 书籍的骄傲拥有者，我们有很多方法帮助你充分利用你的购买。

## 勘误

尽管我们已经尽力确保内容的准确性，但错误仍然可能发生。如果您在我们的书籍中发现任何错误——无论是文字错误还是代码错误——我们将非常感谢您能报告给我们。通过这样做，您可以帮助其他读者避免沮丧，同时帮助我们改进后续版本的内容。如果您发现任何勘误，请通过访问 [`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata) 提交，选择您的书籍，点击 **Errata Submission Form** 链接并输入勘误的详细信息。您的勘误一旦验证通过，我们将接受并将其上传到我们的网站或添加到该书籍的勘误列表中。

要查看之前提交的勘误，请访问 [`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索框中输入书名。所需的信息将显示在 **Errata** 部分。

## 盗版

网络上盗版受版权保护的材料是一个持续存在的问题，涵盖了所有媒体。在 Packt，我们非常重视保护我们的版权和许可。如果您在网络上发现任何形式的非法复制作品，请立即提供相关的网址或网站名称，以便我们采取措施。

请通过`<copyright@packtpub.com>`与我们联系，并提供涉嫌盗版材料的链接。

我们感谢您在保护我们的作者以及我们为您提供有价值内容方面的帮助。

## 电子书、折扣优惠及更多

您知道 Packt 提供了每本出版书籍的电子书版本吗？PDF 和 ePub 文件均可获取。您可以在 [www.PacktPub.com](http://www.PacktPub.com) 升级到电子书版本，作为纸质书籍的客户，您有资格享受电子书的折扣。详情请通过`<customercare@packtpub.com>`与我们联系。

在 [www.PacktPub.com](http://www.PacktPub.com) 上，您还可以阅读一系列免费的技术文章，订阅各种免费的电子通讯，并且在 Packt 的图书和电子书上获得独家折扣和优惠。

## 问题

如果您对本书的任何部分有疑问，您可以通过`<questions@packtpub.com>`与我们联系，我们将尽力解决问题。
