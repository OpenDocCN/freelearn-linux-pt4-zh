# 序言

NSX 通过在软件定义数据中心（SDDC）中引入安全性和自动化，彻底改变了数据中心网络。软件定义网络具有高度动态性，帮助组织扩展其数据中心。通过利用 VMware NSX 中丰富的功能服务，组织可以提高其资本支出（CAPEX）和运营支出（OPEX）。本书全面覆盖了 VMware NSX 提供的各种软件定义网络功能。

# 本书内容

第一章，*网络虚拟化简介*，本章从虚拟化的演变及软件定义数据中心的介绍开始，接着讨论网络虚拟化。我们还将讨论网络虚拟化如何通过各种用例和 VMware NSX 的功能，改变了传统数据中心的网络架构。

第二章，*NSX 架构*，理解 NSX 架构是了解 NSX 特性和各种用例的关键。本章将主要讲解管理平面、控制平面和数据平面架构，接着是 VXLAN 架构，这对于理解逻辑网络的创建以及在后续模块中排查虚拟网络问题至关重要。

第三章，*NSX Manager 安装与配置*，本章开始时介绍了成功安装 NSX 所需的所有要求，并按照逐步指引进行 NSX Manager、NSX Controller 和数据平面软件模块的部署与配置，涉及逻辑交换、路由和微分段。

第四章，*NSX 虚拟网络与逻辑路由器*，在前几章对 Overlay 网络有基本理解后，本章将讨论逻辑交换和分布式逻辑路由。我们从配置开始，逐步讲解如何部署逻辑交换机并在虚拟化层内建立一个简单的路由环境。

第五章，*NSX Edge 服务*，本章以介绍 NSX Edge 服务及其不同形态开始，随后讨论了 NAT、DHCP、负载均衡和路由等内容。通过掌握这些知识，本章将为您提供 NSX 在软件定义数据中心中提供的完整网络服务包。

第六章，*NSX 安全特性*，端到端的安全性是任何网络拓扑成功的关键。本章将介绍传统的网络安全方法以及 NSX 如何帮助在虚拟空间中更好地控制网络。分布式防火墙、服务组合器是本章的重点内容之一。

第七章，*NSX 跨 vCenter*，NSX 最令人兴奋的功能之一就是跨 vCenter 服务器。能够管理多个 vSphere 环境并利用 NSX 功能，改变了现代数据中心的游戏规则。本章将深入探讨 NSX 跨 vCenter 的架构和部署，以及支持本章中讨论拓扑的设计。

第八章，*NSX 故障排除*，本章将我们迄今为止学到的内容应用于识别和解决 NSX 安装、注册和日志处理步骤。章节的编排顺序与我们最初学习 NSX 架构的顺序一致——管理平面、控制平面和数据平面故障排除，随后是升级场景。

# 本书所需的内容

首先，我们需要 NSX Manager、vCenter Server 和带有本地/远程存储的 ESXi 主机。

请注意，要让 NSX Manager 参与跨 vCenter 的 NSX 部署，必须满足以下条件。

上述配置可以在嵌套的 ESXi 环境中进行配置和测试，然而强烈不建议在生产环境中以这种方式进行部署。

有关硬件兼容性的矩阵，请参考 VMware HCL 指南：[`www.vmware.com/resources/compatibility/search.php`](http://www.vmware.com/resources/compatibility/search.php)

# 本书的目标读者

如果你是网络管理员，想要找到一个既简单又强大的网络虚拟化解决方案，那么这本快速而实用的指南将是你的不二选择。

# 约定

在本书中，您会发现多种文本样式，用以区分不同类型的信息。以下是这些样式的一些示例及其含义说明。

文本中的代码词汇、数据库表名、文件夹名称、文件名、文件扩展名、路径名、虚拟 URL、用户输入以及 Twitter 用户名均按如下方式显示：“它所做的就是一个传统的广播，`ff:ff:ff:ff:ff:ff`（目标 MAC）。”

任何命令行输入或输出均按如下方式书写：

```
net-vdr –-route –l default+edge-19
```

**新术语**和**重要词汇**以粗体显示。屏幕上显示的词语，例如在菜单或对话框中，文本中也会以这样的形式出现：“从 NSX Manager，导航到管理**IP 池**并点击**+**按钮。”

### 注意

警告或重要说明会以类似于此的框框形式出现。

### 小贴士

小贴士和技巧以这种形式出现。

# 读者反馈

我们始终欢迎读者的反馈。告诉我们您对本书的看法——您喜欢或不喜欢的地方。读者反馈对我们非常重要，因为它帮助我们开发您能真正从中受益的书籍。如果您有任何意见反馈，请通过电子邮件发送至 feedback@packtpub.com，并在邮件主题中注明书名。如果您在某个领域拥有专业知识，并且有兴趣编写或参与撰写书籍，请参阅我们的作者指南，网址为[www.packtpub.com/authors](http://www.packtpub.com/authors)。

# 客户支持

现在您已经成为一本 Packt 图书的骄傲拥有者，我们为您提供了一些帮助，帮助您充分利用您的购买。

## 下载本书的彩色图片

我们还为您提供了包含本书中使用的截图/图表的彩色图片的 PDF 文件。这些彩色图片将帮助您更好地理解输出中的变化。您可以从[`www.packtpub.com/sites/default/files/downloads/VMwareNSXNetworkEssentials_ColorImages.pdf`](http://www.packtpub.com/sites/default/files/downloads/Bookname_ColorImages.pdf)下载该文件。

## 勘误表

尽管我们已经尽力确保内容的准确性，但错误有时仍会发生。如果您在我们的一本书中发现错误——可能是文本或代码中的错误——我们将非常感激您能向我们报告。通过这样做，您可以帮助其他读者避免困扰，并帮助我们改进本书的后续版本。如果您发现任何勘误，请访问[`www.packtpub.com/submit-errata`](http://www.packtpub.com/submit-errata)，选择您的书籍，点击**勘误提交表格**链接，并填写勘误详情。一旦您的勘误得到验证，您的提交将被接受，勘误将上传到我们的网站或添加到该书籍的勘误列表中。

要查看之前提交的勘误，请访问[`www.packtpub.com/books/content/support`](https://www.packtpub.com/books/content/support)，并在搜索框中输入书名。相关信息将显示在**勘误表**部分。

## 盗版

互联网上的版权材料盗版问题在所有媒体中都在持续存在。我们 Packt 公司对版权和许可保护非常重视。如果您在互联网上发现我们作品的任何非法复制品，请立即向我们提供相关的地址或网站名称，以便我们采取必要的措施。

如发现涉嫌盗版的材料，请通过邮件联系我们，邮箱地址为 copyright@packtpub.com，并附上相关链接。

我们感谢您在保护我们的作者和我们为您提供有价值内容方面的帮助。

## 问题

如果您在本书的任何方面遇到问题，请通过邮件联系我们，邮箱地址为 questions@packtpub.com，我们将尽力解决问题。
