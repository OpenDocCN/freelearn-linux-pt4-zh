- en: Delivering Published Apps with Horizon 7
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用Horizon 7交付发布的应用程序
- en: So far in this book, we have concentrated on the delivery of virtual desktop
    machines, but Horizon View also has the ability to deliver remote applications,
    or published applications, as they're more commonly known, as well as session-based
    desktops, all from the same platform. In this chapter, we are going to dive deeper
    into this feature, which is part of the Horizon Advanced Edition and above, and
    look at how Horizon View publishes an application directly into the Horizon View
    Client, without the need to launch a full virtual desktop machine.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 到目前为止，本书主要集中在虚拟桌面机器的交付上，但Horizon View还具有交付远程应用程序或称为发布应用程序的能力，以及基于会话的桌面，所有这些都可以通过同一个平台进行交付。在本章中，我们将深入探讨这一功能，它是Horizon
    Advanced Edition及以上版本的一部分，并查看Horizon View如何直接将应用程序发布到Horizon View客户端，而无需启动完整的虚拟桌面机器。
- en: A use case for this could be a call center worker who uses just a couple of
    different applications. It's far easier from a management perspective to just
    give them the applications they require rather than a full-blown virtual desktop.
    Another use case is the ability to launch applications using the View Client running
    on a device that wouldn't normally be able to run that application. For example,
    you could run the "real" version of Microsoft Word on your iPad using the Horizon
    View Client for iOS.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 一个使用案例可能是呼叫中心工作人员，他们只需要使用几个不同的应用程序。从管理角度来看，直接提供他们所需的应用程序比提供完整的虚拟桌面要简单得多。另一个使用案例是能够通过View客户端在通常无法运行该应用程序的设备上启动应用程序。例如，你可以在iPad上通过Horizon
    View客户端运行“真实”版本的Microsoft Word。
- en: The infrastructure required for this is based on Microsoft **Remote Desktop
    Services** (**RDS**) running at the backend, with Horizon View acting as the broker
    to connect users with the applications or desktop sessions. As it's View-based,
    it uses the View protocols, such as PCoIP and Blast, as the delivery protocols,
    taking advantage of all the features the protocols have to offer, as we have discussed
    previously.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 这一基础设施要求基于后台运行的Microsoft **远程桌面服务**（**RDS**），而Horizon View充当中介，将用户与应用程序或桌面会话连接。由于它是基于View的，因此使用View协议（如PCoIP和Blast）作为交付协议，利用这些协议所提供的所有功能，正如我们之前讨论的那样。
- en: 'In this chapter, we will cover the following topics:'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们将涵盖以下主题：
- en: Architectural overview
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 架构概述
- en: RDSH sizing guidelines
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: RDSH规模化指南
- en: Installing and configuring View-hosted apps
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装和配置View托管应用程序
- en: Installing the Horizon View Agent for RDSH
  id: totrans-8
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 安装Horizon View Agent以支持RDSH
- en: Configuring published apps in the View Administrator
  id: totrans-9
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在View管理员中配置发布的应用程序
- en: Load-balancing published apps in Horizon View
  id: totrans-10
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 在Horizon View中进行发布应用程序的负载均衡
- en: Architectural overview
  id: totrans-11
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 架构概述
- en: So, what does the architecture look like, and how does the hosted application
    feature work when compared to virtual desktop machine brokering? In terms of the
    architecture, delivering hosted applications is handled in pretty much the same
    way as virtual desktop machines are managed and brokered.
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，架构是什么样的，当与虚拟桌面机器的调度进行比较时，托管应用程序功能是如何工作的？从架构的角度来看，交付托管应用程序的方式与虚拟桌面机器的管理和调度方式几乎相同。
- en: Horizon View acts as the broker, using the same Connection Server, but instead
    of brokering a virtual desktop machine that would be running on the ESXi host
    server, it is now brokering an application session that is running on a Microsoft
    Windows server, configured with the RDSH role and the applications installed on
    it.
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: Horizon View充当中介，使用相同的连接服务器，但它不再调度运行在ESXi主机服务器上的虚拟桌面机器，而是调度运行在Microsoft Windows服务器上的应用程序会话，该服务器配置了RDSH角色，并安装了应用程序。
- en: 'The following diagram gives you a high-level outline of the architecture for
    delivering hosted applications:'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: 以下图表为你提供了交付托管应用程序的架构概览：
- en: '![](img/86227e67-de18-4b54-9e13-0804402a6caf.png)'
  id: totrans-15
  prefs: []
  type: TYPE_IMG
  zh: '![](img/86227e67-de18-4b54-9e13-0804402a6caf.png)'
- en: So, how does the hosted application feature work?
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: 那么，托管应用程序功能是如何工作的呢？
- en: To begin with, as with connecting to a View delivered to the virtual desktop
    machine, you launch the View client and log in to the Connection Server. You enter
    the details of the View Connection Server you want to connect to (**1**), enter
    your User name and Password (**2**), and then authenticate against AD (**3**).
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，与连接到虚拟桌面机器类似，你需要启动View客户端并登录到连接服务器。输入你要连接的View连接服务器的详细信息（**1**），输入用户名和密码（**2**），然后通过AD进行身份验证（**3**）。
- en: 'Once authenticated, the client sends a `<get-launch-items>` request to the
    Connection Server to request a list of all the entitled application sessions,
    applications, and desktops for that user. The response contains the following
    details:'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦身份验证通过，客户端向连接服务器发送 `<get-launch-items>` 请求，要求列出该用户所有有权限的应用程序会话、应用程序和桌面。响应中包含以下详细信息：
- en: '`<app-sessions>`, `<desktops>`, and `<applications>`'
  id: totrans-19
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`<app-sessions>`，`<desktops>`，和 `<applications>`'
- en: Absolute paths to the icons
  id: totrans-20
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 图标的绝对路径
- en: The client fetches any icons it doesn't have already cached via HTTPS using
    the paths that were provided by the Connection Server when it sent the response.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 客户端通过 HTTPS 获取任何尚未缓存的图标，使用连接服务器发送响应时提供的路径。
- en: Access to icon **uniform resource identifiers** (**URIs**) needs to be authenticated.
    The Connection Server performs an entitlement check and only returns an icon if
    that user is entitled to at least one application that has an icon associated
    with it. For applications that don't have any icons, the client will provide a
    default icon.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 对图标**统一资源标识符**（**URIs**）的访问需要进行身份验证。连接服务器会执行权限检查，只有当用户有权访问至少一个与图标相关的应用程序时，才会返回图标。对于没有任何图标的应用程序，客户端将提供一个默认图标。
- en: A list of entitled desktop and application pools is then displayed to the end
    user in the View Client (**4**).
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，一组有权限的桌面和应用程序池在 View 客户端中显示给最终用户（**4**）。
- en: The end user then double-clicks on an application (or desktop) to launch it
    (**5**), the connection is made, and the application opens in a new window (**6**).
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
  zh: 最终用户随后双击某个应用程序（或桌面）以启动它（**5**），建立连接，应用程序在新窗口中打开（**6**）。
- en: In the next section, we will take a deep dive into what happens during the connection
    process to connect the user to the application or desktop session they requested.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一节中，我们将深入探讨连接过程中的发生情况，以便将用户连接到他们请求的应用程序或桌面会话。
- en: Application connection sequence
  id: totrans-26
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 应用程序连接顺序
- en: In this section, we are going to break down the connection sequence into three
    separate parts, showing the process flow of what happens when the user launches
    an application.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将连接过程拆分为三个独立的部分，展示当用户启动应用程序时发生的流程。
- en: 'The process starts when the end user double-clicks to launch an application
    and is illustrated in the following diagram:'
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 该过程从最终用户双击启动应用程序开始，并在下图中进行了说明：
- en: So, now we have a user that has made a request via the View Client to the Connection
    Server to launch an application.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 现在，我们有一个通过 View 客户端向连接服务器请求启动应用程序的用户。
- en: The next phase of the connection process is for the Connection Server to talk
    to the Horizon Agent installed on the RDS host server.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 连接过程的下一阶段是连接服务器与安装在 RDS 主机服务器上的 Horizon Agent 进行通信。
- en: 'The following diagram illustrates the next part of the process:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 下图说明了该过程的下一部分：
- en: '![](img/83e038dc-7344-41ff-879c-1cc5d6859d84.png)'
  id: totrans-32
  prefs: []
  type: TYPE_IMG
  zh: '![](img/83e038dc-7344-41ff-879c-1cc5d6859d84.png)'
- en: The next step in the connection process is to set up the secure connection to
    the **PCoIP Secure Gateway server** (**PSG**).
  id: totrans-33
  prefs: []
  type: TYPE_NORMAL
  zh: 连接过程的下一步是建立与**PCoIP 安全网关服务器**（**PSG**）的安全连接。
- en: A tunnel is set up by the View agent on the RDS server by talking to the PSG.
    The details of this connection are then forwarded, via the Connection Server,
    back to the client. This is pretty much the same way that this process works when
    connecting to a virtual desktop machine hosted on an ESXi host server.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 通过与 PSG 通信，RDS 服务器上的 View 代理设置了一个隧道。然后，这个连接的详细信息通过连接服务器转发回客户端。这基本上与连接到托管在 ESXi
    主机服务器上的虚拟桌面机器时的过程相同。
- en: 'This process is illustrated in the following diagram, along with the final
    part of the process, which is to log the end user in and then connect them to
    the application that they requested:'
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 该过程在下图中进行了说明，并展示了流程的最后一部分，即将最终用户登录并将其连接到他们请求的应用程序：
- en: '![](img/cb391750-cea4-49ad-b1c0-05468e0502e0.png)'
  id: totrans-36
  prefs: []
  type: TYPE_IMG
  zh: '![](img/cb391750-cea4-49ad-b1c0-05468e0502e0.png)'
- en: We have now covered a deep dive on how the process works for connecting the
    end user to their remote applications. In the next section, we are going to look
    at some of the specifics around the RDS roles in this environment, starting with
    sizing guidelines.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 我们已经深入探讨了将最终用户连接到远程应用程序的过程。在下一节中，我们将重点介绍 RDS 角色在此环境中的一些具体内容，从尺寸指南开始。
- en: RDSH sizing guidelines
  id: totrans-38
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: RDSH 尺寸指南
- en: As with the sizing of View for virtual desktop machines, configuring the right
    specification for the RDSH servers is also key, and in a similar way in which
    we consider the desktop sizing, we are going to look at different user types.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 与虚拟桌面机器的View大小配置一样，配置RDSH服务器的正确规格也至关重要，类似于我们考虑桌面大小配置的方式，我们将查看不同的用户类型。
- en: 'The VMware recommendation for the user workloads and the memory requirements
    are shown in the following table:'
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: VMware对用户工作负载和内存需求的建议显示在下表中：
- en: '![](img/acdfdfed-f21e-4588-bd0c-296d8a162345.png)'
  id: totrans-41
  prefs: []
  type: TYPE_IMG
  zh: '![](img/acdfdfed-f21e-4588-bd0c-296d8a162345.png)'
- en: For the total memory in each RDSH server, VMware recommends that a virtual machine
    configured as an RDSH server should be provisioned with 64 GB memory, and in terms
    of CPU requirements, the VMware recommendation is to create virtual servers for
    the RDSH roles and configure each one with four vCPUs. Make sure that you do not
    overcommit on the number of cores.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 对于每台RDSH服务器的总内存，VMware建议将配置为RDSH服务器的虚拟机分配64 GB内存，至于CPU要求，VMware建议为RDSH角色创建虚拟服务器，并为每台服务器配置四个vCPU。确保不要过度分配核心数。
- en: So, for example, if you had a virtual machine running as an RDSH server configured
    with 64 GB of memory, and had heavy users hosted on it, you would be able to host
    a maximum of 64 sessions on that server.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 所以，举个例子，如果您有一台配置为64 GB内存的虚拟机运行RDSH服务器，并且上面托管了大量用户，您将能够在该服务器上最多托管64个会话。
- en: For the hardware configuration, let's say you had a physical ESXi host server,
    configured with a 2-socket CPU that had 12 cores, giving you a total of 24 cores.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 对于硬件配置，假设您有一台物理ESXi主机服务器，配置了一个12核心的2插槽CPU，总共提供24个核心。
- en: This would allow a maximum of 6 RDSH servers as we are going to provision virtual
    machines for the RDSH role that each has 4 cores (24 cores/4 cores per server).
    That would mean that the physical server would also need to be configured with
    384 GB of memory in total (64 GB x 6 RDSH host servers).
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 这将允许最多6台RDSH服务器，因为我们将为每台有4个核心的虚拟机配置RDSH角色（每台服务器24个核心/每台服务器4个核心）。这意味着物理服务器的总内存也需要配置为384
    GB（6台RDSH主机服务器，每台64 GB）。
- en: These figures are only guidelines and are based on some of the VMware-recommended
    best practices. It is always best to run an assessment on your environment to
    work out your optimum configuration.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: 这些数字仅作为指导，并基于一些VMware推荐的最佳实践。最好对您的环境进行评估，以确定最佳配置。
- en: In the next section, we are going to install and configure the View-hosted applications
    feature.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的章节中，我们将安装并配置视图托管应用程序功能。
- en: Installing and configuring View-hosted apps
  id: totrans-48
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装和配置视图托管应用程序
- en: We are now going to start the installation process, starting with configuring
    the server that is going to be used for hosting the remote applications, by adding
    the RDSH role to it. In the example lab, there is a Windows Server 2016 server
    ready built, called **RDSH-Apps**, to perform this role.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们将开始安装过程，从配置将用于托管远程应用程序的服务器开始，方法是向其添加RDSH角色。在示例实验室中，已经有一台名为**RDSH-Apps**的Windows
    Server 2016服务器准备好执行此角色。
- en: 'The installation and configuration process is pretty straightforward and can
    be summarized with the following schematic diagram:'
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 安装和配置过程非常直接，可以通过以下示意图来总结：
- en: '![](img/90e0fef1-4c4b-4225-a0bb-fae4c1e0e295.png)'
  id: totrans-51
  prefs: []
  type: TYPE_IMG
  zh: '![](img/90e0fef1-4c4b-4225-a0bb-fae4c1e0e295.png)'
- en: In the next sections, we are going to walk through this process in more detail,
    starting with configuring the RDSH role.
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的章节中，我们将更详细地介绍这一过程，从配置RDSH角色开始。
- en: Configuring the RDS server role
  id: totrans-53
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 配置RDS服务器角色
- en: 'The first thing that we are going to do is to configure the RDSH server role,
    and then configure this server to deliver the remote applications. In the example
    lab, the server we are going to configure is called **RDSH-Apps**. To configure
    the RDSH role, perform the following steps:'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将要做的第一件事是配置RDSH服务器角色，然后配置此服务器来提供远程应用程序。在示例实验室中，我们将配置的服务器名为**RDSH-Apps**。要配置RDSH角色，请执行以下步骤：
- en: 'Open a console to the server, and then from the Server Manager and the Dashboard
    screen, click on Add roles and features (**1**), as shown in the following screenshot:'
  id: totrans-55
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开到服务器的控制台，然后在服务器管理器和仪表板屏幕中，点击“添加角色和功能” (**1**)，如下图所示：
- en: '![](img/01715728-5418-4193-8630-5496a06da4e4.png)'
  id: totrans-56
  prefs: []
  type: TYPE_IMG
  zh: '![](img/01715728-5418-4193-8630-5496a06da4e4.png)'
- en: 'The first screen you will see is the Before You Begin screen, as shown in the
    following screenshot:'
  id: totrans-57
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将看到的第一个屏幕是“开始之前”屏幕，如下图所示：
- en: '![](img/d6e8c259-de54-47e4-abbb-990b2170ab0f.png)'
  id: totrans-58
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d6e8c259-de54-47e4-abbb-990b2170ab0f.png)'
- en: Click Next > to continue.
  id: totrans-59
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“下一步 >”继续。
- en: 'You will now see the Select installation type screen, as shown in the following
    screenshot:'
  id: totrans-60
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你将看到选择安装类型屏幕，如下图所示：
- en: '![](img/bd66acf7-deb5-4f45-98e5-50b606be2bf5.png)'
  id: totrans-61
  prefs: []
  type: TYPE_IMG
  zh: '![](img/bd66acf7-deb5-4f45-98e5-50b606be2bf5.png)'
- en: Click the radio button for Remote Desktop Services installation, and then click
    Next > to continue.
  id: totrans-62
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击远程桌面服务安装单选按钮，然后点击“下一步 >”继续。
- en: 'You will now see the Select deployment type screen, as shown in the following
    screenshot:'
  id: totrans-63
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你将看到选择部署类型屏幕，如下图所示：
- en: '![](img/0ecef8a3-7de2-4622-bc18-336f42356500.png)'
  id: totrans-64
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0ecef8a3-7de2-4622-bc18-336f42356500.png)'
- en: Click the radio button for Quick Start, and then click Next > to continue.
  id: totrans-65
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击快速启动单选按钮，然后点击“下一步 >”继续。
- en: 'You will now see the Select deployment scenari**o** screen, as shown in the
    following screenshot:'
  id: totrans-66
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你将看到选择部署场景**o**屏幕，如下图所示：
- en: '![](img/491fa8e0-1761-40b0-8d33-a3bf9b52b4a2.png)'
  id: totrans-67
  prefs: []
  type: TYPE_IMG
  zh: '![](img/491fa8e0-1761-40b0-8d33-a3bf9b52b4a2.png)'
- en: Click the radio button for Session-based desktop deployment, and then click
    Next > to continue.
  id: totrans-68
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击基于会话的桌面部署单选按钮，然后点击“下一步 >”继续。
- en: 'You will now see the Select a server screen, as shown in the following screenshot:'
  id: totrans-69
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你将看到选择服务器屏幕，如下图所示：
- en: '![](img/9c00eb59-21a6-427b-aace-5533faf18a23.png)'
  id: totrans-70
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9c00eb59-21a6-427b-aace-5533faf18a23.png)'
- en: From the Server Pool box, click and highlight the server you want to install
    the RDSH role onto and click the arrow to add it to the Selected box. In the example
    lab, this is the server called `rdsh-apps.pvolab.com`.
  id: totrans-71
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在服务器池框中，点击并高亮你想安装RDSH角色的服务器，并点击箭头将其添加到已选择框中。在示例实验室中，这是名为`rdsh-apps.pvolab.com`的服务器。
- en: Click Next > to continue.
  id: totrans-72
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“下一步 >”继续。
- en: 'You will now see the Confirm selections screen, as shown in the following screenshot:'
  id: totrans-73
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你将看到确认选择屏幕，如下图所示：
- en: '![](img/0db1a638-4c5e-4802-a28e-72febed2d7dc.png)'
  id: totrans-74
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0db1a638-4c5e-4802-a28e-72febed2d7dc.png)'
- en: Check the services that are going to be installed, and then check the box to
    Restart the destination server automatically if required.
  id: totrans-75
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查将要安装的服务，然后勾选“如果需要，自动重启目标服务器”复选框。
- en: Click Deploy to start the installation.
  id: totrans-76
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击部署以开始安装。
- en: 'You will now see the progress of the installation, as shown in the following
    screenshot:'
  id: totrans-77
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你将看到安装的进度，如下图所示：
- en: '![](img/af11eb06-d8b0-4648-8410-8acbf73202bc.png)'
  id: totrans-78
  prefs: []
  type: TYPE_IMG
  zh: '![](img/af11eb06-d8b0-4648-8410-8acbf73202bc.png)'
- en: During the installation, the server will reboot. After rebooting, log back in
    and launch the Server Manager again to monitor the rest of the installation process.
  id: totrans-79
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在安装过程中，服务器将重新启动。重新启动后，重新登录并再次启动服务器管理器以监控其余的安装过程。
- en: 'Once the installation has completed, from the Server Manager Dashboard**,**
    you will now see that the Remote Desktop Services role has been added, as shown
    in the following screenshot:'
  id: totrans-80
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，从服务器管理器仪表盘**，**你现在会看到远程桌面服务角色已添加，如下图所示：
- en: '![](img/7977ba47-0de5-4f93-b3b1-1572f35ae13e.png)'
  id: totrans-81
  prefs: []
  type: TYPE_IMG
  zh: '![](img/7977ba47-0de5-4f93-b3b1-1572f35ae13e.png)'
- en: You have now successfully installed the RDS role.
  id: totrans-82
  prefs: []
  type: TYPE_NORMAL
  zh: 你现在已经成功安装了RDS角色。
- en: You will need to add and configure the Remote Desktop Licensing role on this
    server.
  id: totrans-83
  prefs: []
  type: TYPE_NORMAL
  zh: 你需要在此服务器上添加并配置远程桌面授权角色。
- en: In the next section, we will configure some example applications that will be
    made available as remote applications.
  id: totrans-84
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的部分，我们将配置一些示例应用程序，这些应用程序将作为远程应用程序提供。
- en: Testing with the standard remote applications
  id: totrans-85
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用标准远程应用程序进行测试
- en: The first applications we are going to configure for session-based remote access
    are those that are integrated into the Windows operating system and configured
    by default when you create the RDSH server role. These include applications such
    as Calculator and Notepad.
  id: totrans-86
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将要为基于会话的远程访问配置的第一个应用程序是那些集成到Windows操作系统中的应用程序，并且在创建RDSH服务器角色时默认配置。这些包括计算器和记事本等应用程序。
- en: 'We are going to test that these applications work as remote applications by
    first checking they have been configured, and then whether or not we can access
    them remotely, before configuring the Horizon View components and any additional
    applications:'
  id: totrans-87
  prefs: []
  type: TYPE_NORMAL
  zh: 我们将通过首先检查这些应用程序是否已配置，然后测试我们是否可以远程访问它们，来测试这些应用程序是否作为远程应用程序工作，之后再配置Horizon View组件和任何额外的应用程序：
- en: 'From the Server Manager Dashboard screen, click on Remote Desktop Services
    (**1**), as shown in the following screenshot:'
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在服务器管理器仪表盘屏幕中，点击远程桌面服务（**1**），如图所示：
- en: '![](img/887f9e20-20fc-4578-89dd-ecd3c66a2882.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
  zh: '![](img/887f9e20-20fc-4578-89dd-ecd3c66a2882.png)'
- en: 'You will then see the list of servers that are configured with the RDSH role,
    as shown in the following screenshot:'
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将看到配置了 RDSH 角色的服务器列表，如下图所示：
- en: '![](img/4455f1f5-d6b3-48cc-ae20-27047e86ca21.png)'
  id: totrans-91
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4455f1f5-d6b3-48cc-ae20-27047e86ca21.png)'
- en: Click to highlight the `RDSH_APPS` server, and then click on QuickSessionCollection
    (**3**).
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击突出显示`RDSH_APPS`服务器，然后点击快速会话集合（**3**）。
- en: 'You will now see the QuickSessionCollection and REMOTEAPP PROGRAMS (**4**)
    boxes, as shown in the following screenshot:'
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将看到“快速会话集合”和“远程应用程序程序”（**4**）框，如下图所示：
- en: '![](img/d5fa29c4-3c78-483f-aba7-66abb4726fde.png)'
  id: totrans-94
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d5fa29c4-3c78-483f-aba7-66abb4726fde.png)'
- en: This will show WordPad, Paint, and Calculator listed as available remote applications.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
  zh: 这将显示 WordPad、画图和计算器作为可用的远程应用程序。
- en: 'So, now that the standard applications are available as remote sessions for
    end users, we are going to try connecting using the RD Web Access web portal to
    test that everything is working before continuing with the configuration. To do
    this, perform the following steps:'
  id: totrans-96
  prefs: []
  type: TYPE_NORMAL
  zh: 既然标准应用程序已经作为远程会话提供给最终用户，我们将尝试通过 RD Web Access Web 门户连接，以测试一切是否正常，然后继续配置。为此，请按照以下步骤操作：
- en: Open a browser from either your desktop or the server itself. It's best to test
    from a remote desktop rather than the server itself.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从你的桌面或服务器本身打开浏览器。最好从远程桌面进行测试，而不是直接从服务器进行测试。
- en: In the browser, type in the URL of the RDSH server. In the example lab, this
    address is `https://rdsh-apps.pvolab.com/rdweb`**.**
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在浏览器中，输入 RDSH 服务器的 URL。在本实验室中，这个地址是 `https://rdsh-apps.pvolab.com/rdweb`**。**
- en: 'You will then see the login screen, as shown in the following screenshot:'
  id: totrans-99
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将看到登录界面，如下图所示：
- en: '![](img/414c3d01-1aeb-4271-9268-d382ed0c7d54.png)'
  id: totrans-100
  prefs: []
  type: TYPE_IMG
  zh: '![](img/414c3d01-1aeb-4271-9268-d382ed0c7d54.png)'
- en: In the Domain\user name box, enter a username in the format of Domain\user name.
    So, for this example, we are logging in as the administrator using the format
    `pvolab\administrator`. Then enter the password.
  id: totrans-101
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“域\用户名”框中，输入格式为“域\用户名”的用户名。所以，在这个例子中，我们使用`pvolab\administrator`格式作为管理员登录。然后输入密码。
- en: 'Now click the Sign in button. You will now see the following Work Resources
    web page, which displays the available applications:'
  id: totrans-102
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在点击“登录”按钮。你将看到以下“工作资源”网页，显示可用的应用程序：
- en: '![](img/80e7a241-13ff-4e24-b638-58bdc2264f6d.png)'
  id: totrans-103
  prefs: []
  type: TYPE_IMG
  zh: '![](img/80e7a241-13ff-4e24-b638-58bdc2264f6d.png)'
- en: 'To test that an application launches, double-click on it. In this example,
    we will launch the calculator. The calculator should then successfully launch,
    as shown in the following screenshot:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
  zh: 为了测试应用程序是否启动，双击它。在这个例子中，我们将启动计算器。计算器应该能够成功启动，如下图所示：
- en: '![](img/28e38c7b-3d71-4277-b022-1309a5d47f33.png)'
  id: totrans-105
  prefs: []
  type: TYPE_IMG
  zh: '![](img/28e38c7b-3d71-4277-b022-1309a5d47f33.png)'
- en: Now that everything is working and applications can be published and launched,
    in the next section, we are going to add some more applications.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
  zh: 现在一切正常，应用程序可以发布和启动，在下一节中，我们将添加一些更多的应用程序。
- en: Installing additional applications
  id: totrans-107
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装额外的应用程序
- en: In this section, we are going to install some additional application for remote
    access, starting with Microsoft Office 2016.
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将安装一些额外的远程访问应用程序，从 Microsoft Office 2016 开始。
- en: 'Installing applications is almost identical to installing applications on any
    other Windows operating system; however, there are a few subtle differences given
    that this is a remote session host server. We are going to quickly run through
    the process, as described in the following steps:'
  id: totrans-109
  prefs: []
  type: TYPE_NORMAL
  zh: 安装应用程序几乎和在任何其他 Windows 操作系统上安装应用程序一样；但是，由于这是远程会话主机服务器，因此有一些细微的差别。我们将简要介绍这个过程，如以下步骤所示：
- en: 'As we are going to install Microsoft Office 2016, the first thing to do is
    mount the ISO image containing the installer, as shown in the following screenshot:'
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 由于我们将要安装 Microsoft Office 2016，首先需要做的是挂载包含安装程序的 ISO 镜像，如下图所示：
- en: '![](img/89f1c700-8124-405b-b407-628f7046d0f8.png)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
  zh: '![](img/89f1c700-8124-405b-b407-628f7046d0f8.png)'
- en: We can now move on to the actual installation process.
  id: totrans-112
  prefs: []
  type: TYPE_NORMAL
  zh: 现在我们可以开始实际的安装过程了。
- en: 'Open a console to the RDSH server on which you want to install the applications
    and open the Control Panel**,** as shown in the following screenshot:'
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开控制台并连接到你想要安装应用程序的 RDSH 服务器，然后打开控制面板**，**如下面的截图所示：
- en: '![](img/4364f1d5-9f5e-46d8-bae7-6b7d5270ff98.png)'
  id: totrans-114
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4364f1d5-9f5e-46d8-bae7-6b7d5270ff98.png)'
- en: 'Click on Programs. You will now see the Programs dialog box, as shown in the
    following screenshot:'
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“程序”。现在你将看到“程序”对话框，如下图所示：
- en: '![](img/8884c51d-ee2d-43a5-b4fd-f9c7b12b3583.png)'
  id: totrans-116
  prefs: []
  type: TYPE_IMG
  zh: '![](img/8884c51d-ee2d-43a5-b4fd-f9c7b12b3583.png)'
- en: Click on Install Application on Remote Desktop....
  id: totrans-117
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“在远程桌面上安装应用程序...”。
- en: 'You will now see the Install Program From Floppy Disk or CD-ROM dialog box,
    as shown in the following screenshot:'
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你将看到“从软盘或CD-ROM安装程序”对话框，如下图所示：
- en: '![](img/78c87c5c-5db3-4ce0-aced-c3f417a5b486.png)'
  id: totrans-119
  prefs: []
  type: TYPE_IMG
  zh: '![](img/78c87c5c-5db3-4ce0-aced-c3f417a5b486.png)'
- en: Before we continue, we are going to talk about how to install apps on an RDSH
    server. In this dialog box, it highlights something called the **RD-Install mode**;
    so, what does that mean?
  id: totrans-120
  prefs: []
  type: TYPE_NORMAL
  zh: 在我们继续之前，我们将讨论如何在RDSH服务器上安装应用程序。在这个对话框中，突出了一个叫做**RD-Install模式**的东西；那么，这是什么意思呢？
- en: To install an application on an RDSH host server, it needs to be switched into
    a special install mode called **RD-Install** to make sure that the applications
    are able to run in a multi-user environment.
  id: totrans-121
  prefs: []
  type: TYPE_NORMAL
  zh: 要在RDSH主机服务器上安装应用程序，需要将其切换到一种名为**RD-Install**的特殊安装模式，以确保应用程序能够在多用户环境中运行。
- en: Once you have installed the applications on the RDSH server, the server will
    then need to be switched back into what is called the execution mode, or **RD-Execute**,
    so that users can remotely connect to the server and the applications running
    on it.
  id: totrans-122
  prefs: []
  type: TYPE_NORMAL
  zh: 一旦你在RDSH服务器上安装了应用程序，服务器需要切换回所谓的执行模式，即**RD-Execute**，以便用户可以远程连接到服务器及其上运行的应用程序。
- en: 'This can also be done at the command line, using the following commands:'
  id: totrans-123
  prefs: []
  type: TYPE_NORMAL
  zh: 这也可以通过命令行完成，使用以下命令：
- en: '[PRE0]'
  id: totrans-124
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'You can check the current install mode of your RDSH server using the following
    command:'
  id: totrans-125
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以使用以下命令检查RDSH服务器的当前安装模式：
- en: '[PRE1]'
  id: totrans-126
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'The easiest way to install applications is by using the Programs option from
    the Control Panel, which is how we are going to do it in this example. This option
    takes you through the installation process by automatically switching the server
    to the RD-Install mode, installing the program, and switching the server back
    to the RD-Execute mode once finished. Let''s continue with the installation:'
  id: totrans-127
  prefs: []
  type: TYPE_NORMAL
  zh: 安装应用程序最简单的方法是通过控制面板中的“程序”选项，这是我们在本例中将使用的方法。该选项通过自动将服务器切换到RD-Install模式、安装程序，并在完成后将服务器切换回RD-Execute模式，带你完成整个安装过程。让我们继续安装：
- en: Click Next > to start the installation.
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“下一步 >”开始安装。
- en: 'You will now see that the Run Installation Program dialog box is displayed,
    as shown in the following screenshot:'
  id: totrans-129
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你将看到“运行安装程序”对话框，如下图所示：
- en: '![](img/b69aed00-3974-4bad-bdb5-9d053b7130d3.png)'
  id: totrans-130
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b69aed00-3974-4bad-bdb5-9d053b7130d3.png)'
- en: Click the Browse... button and then navigate to the installer for the app you
    want to install. In the example lab, this is the `setup.exe` file for Microsoft
    Office 2016 from the ISO image we mounted at the beginning of this section.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“浏览...”按钮，然后导航到你想要安装的应用程序的安装程序。在示例实验室中，这个安装程序是我们在本节开始时挂载的ISO镜像中的`setup.exe`文件，安装的是Microsoft
    Office 2016。
- en: Now click Next > to continue.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在点击“下一步 >”继续。
- en: 'The first thing you will see is the Finish Admin Install dialog box, as shown
    in the following screenshot:'
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你首先看到的是“完成管理员安装”对话框，如下图所示：
- en: '![](img/0b69c56d-3b54-4321-b337-4c698fdec722.png)'
  id: totrans-134
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0b69c56d-3b54-4321-b337-4c698fdec722.png)'
- en: Ignore this dialog box for now, and make sure that you **DO NOT** click the
    **Finish** button at this point. You need to complete the application installation
    first.
  id: totrans-135
  prefs: []
  type: TYPE_NORMAL
  zh: 现在忽略这个对话框，确保此时**不要**点击**完成**按钮。你需要先完成应用程序的安装。
- en: The installation of Office 2016 will now run, and you should install Office
    in exactly the same way as you would normally.
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: Office 2016的安装现在将开始，你应该按照通常的方式安装Office。
- en: Once the installation is complete, return to the Finish Admin Install box and
    click on the Finish button.
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装完成后，返回“完成管理员安装”框并点击“完成”按钮。
- en: 'Now Microsoft Office 2016 has been installed on the RDSH server, you need to
    go back and configure which of the individual Office suite applications are going
    to be made available to the users as remote applications. To do this, perform
    the following steps:'
  id: totrans-138
  prefs: []
  type: TYPE_NORMAL
  zh: 现在Microsoft Office 2016已经安装在RDSH服务器上，你需要返回并配置哪些单个Office套件应用程序将作为远程应用程序提供给用户。为此，请执行以下步骤：
- en: From the Server Manager dashboard screen, click on Remote Desktop Services.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“服务器管理器”仪表板屏幕上，点击“远程桌面服务”。
- en: 'Highlight the RDSH server you want to configure, and then click on QuickSessionCollection
    (**1**), as shown in the following screenshot:'
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 高亮选择你想要配置的RDSH服务器，然后点击“QuickSessionCollection”（**1**），如下图所示：
- en: '![](img/e1d5ab0b-919a-4f9c-affc-a188d190cdf4.png)'
  id: totrans-141
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e1d5ab0b-919a-4f9c-affc-a188d190cdf4.png)'
- en: Scroll down to the REMOTEAPP PROGRAMS dialog box and then click the down arrow
    on the TASKS button in the top right of the screen, and then click Publish RemoteApp
    Programs (**4**).
  id: totrans-142
  prefs:
  - PREF_OL
  - PREF_UL
  type: TYPE_NORMAL
  zh: 向下滚动到 REMOTEAPP PROGRAMS 对话框，然后点击屏幕右上角任务按钮上的下拉箭头，接着点击发布 RemoteApp 程序 (**4**)。
- en: 'You will now see the Select RemoteApp programs configuration screen, as shown
    in the following screenshot:'
  id: totrans-143
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: 现在您将看到选择 RemoteApp 程序配置屏幕，如下图所示：
- en: '![](img/6727e6aa-7d58-44c8-b2b4-22b8ae6b4fe1.png)'
  id: totrans-144
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6727e6aa-7d58-44c8-b2b4-22b8ae6b4fe1.png)'
- en: From here, you can select which applications you want to publish and make available
    remotely to your end users.
  id: totrans-145
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这里，您可以选择要发布的应用程序，并使其可以远程访问给终端用户。
- en: 'Check the boxes next to the applications you want to add (**3**). In the example
    lab, we are going to check the boxes for the following applications:'
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 勾选您要添加的应用程序旁边的复选框 (**3**)。在示例实验室中，我们将勾选以下应用程序：
- en: Excel 2016
  id: totrans-147
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Excel 2016
- en: OneNote 2016
  id: totrans-148
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: OneNote 2016
- en: Outlook 2016
  id: totrans-149
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Outlook 2016
- en: PowerPoint 2016
  id: totrans-150
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: PowerPoint 2016
- en: Publisher 2016
  id: totrans-151
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Publisher 2016
- en: Word 2016
  id: totrans-152
  prefs:
  - PREF_IND
  - PREF_UL
  type: TYPE_NORMAL
  zh: Word 2016
- en: From here, you can select which applications you want to publish and make available
    remotely to your end users.
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在这里，您可以选择要发布的应用程序，并使其可以远程访问给终端用户。
- en: Once you have selected all the applications you want to publish, click the Next
    > button.
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择您要发布的所有应用程序后，点击“下一步 >”按钮。
- en: 'You will now see the Confirmation box of the applications you selected, as
    shown in the following screenshot:'
  id: totrans-155
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 您将看到您选择的应用程序的确认框，如下图所示：
- en: '![](img/89102d39-fa6d-4fe3-8fae-eaee2d716a45.png)'
  id: totrans-156
  prefs: []
  type: TYPE_IMG
  zh: '![](img/89102d39-fa6d-4fe3-8fae-eaee2d716a45.png)'
- en: Now click the Publish button.
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在点击“发布”按钮。
- en: 'You will then see a progress bar, detailing the progress of the applications
    being published, as shown in the following screenshot:'
  id: totrans-158
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后您将看到一个进度条，显示应用程序发布的进度，如下图所示：
- en: '![](img/c49833dc-ce39-4f60-85da-595cd98f994e.png)'
  id: totrans-159
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c49833dc-ce39-4f60-85da-595cd98f994e.png)'
- en: 'Once completed, you will now see the Completion screen, as shown in the following
    screenshot, detailing the applications that were successfully published:'
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成后，您将看到完成屏幕，如下图所示，显示已成功发布的应用程序：
- en: '![](img/865c37fc-c2b2-4f5b-9432-9df58bf05344.png)'
  id: totrans-161
  prefs: []
  type: TYPE_IMG
  zh: '![](img/865c37fc-c2b2-4f5b-9432-9df58bf05344.png)'
- en: Click the Close button to complete the publishing process.
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“关闭”按钮以完成发布过程。
- en: 'As previously, we are going to test that the applications are available from
    the web access portal. Open a browser and go to the following address: `https://rdsh-apps.pvolab.com/rdweb`**.**'
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
  zh: 如前所述，我们将测试应用程序是否可以通过 Web 访问门户访问。打开浏览器并访问以下地址：`https://rdsh-apps.pvolab.com/rdweb`**。**
- en: Log in to the portal using the administrator account.
  id: totrans-164
  prefs: []
  type: TYPE_NORMAL
  zh: 使用管理员账户登录到门户。
- en: 'You will see the following screenshot from the RD web access portal, showing
    the newly published applications for Office 2016:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
  zh: 您将看到来自 RD Web 访问门户的以下截图，显示新发布的 Office 2016 应用程序：
- en: '![](img/431662ee-4735-4468-ab85-8f105199ea80.png)'
  id: totrans-166
  prefs: []
  type: TYPE_IMG
  zh: '![](img/431662ee-4735-4468-ab85-8f105199ea80.png)'
- en: As you can see, the newly published Office applications are available to the
    end users. Double-click on one of them to test that it launches and, once happy
    it's working, then click on Sign out and close the web page.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 如您所见，新发布的 Office 应用程序已对终端用户可用。双击其中一个程序，测试它是否能启动，确认正常运行后，点击“登出”并关闭网页。
- en: In the next section, we are going to install the Horizon Agent on the RDSH server.
  id: totrans-168
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一部分，我们将安装 Horizon Agent 到 RDSH 服务器。
- en: Installing the Horizon Agent for RDSH
  id: totrans-169
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 安装 Horizon Agent 到 RDSH
- en: 'In the next part of the process, we are going to install the Horizon View Agent
    onto the RDSH server. The agent is exactly the same agent as the one that you
    would install on virtual desktop machines and registers the RDSH with the Horizon
    Connection Server. To install the agent, perform the following steps:'
  id: totrans-170
  prefs: []
  type: TYPE_NORMAL
  zh: 在接下来的步骤中，我们将把 Horizon View Agent 安装到 RDSH 服务器上。该代理与安装在虚拟桌面机器上的代理完全相同，并将 RDSH
    注册到 Horizon Connection Server 上。安装代理，请执行以下步骤：
- en: 'Open a remote console to the RDSH server running the applications, navigate
    to the shared software folder, and then find the agent installer, as shown in
    the following screenshot:'
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个远程控制台，连接到运行应用程序的 RDSH 服务器，进入共享的软件文件夹，然后找到代理安装程序，如下图所示：
- en: '![](img/182c016d-ef19-47b3-bf4d-77b1e4d0cc27.png)'
  id: totrans-172
  prefs: []
  type: TYPE_IMG
  zh: '![](img/182c016d-ef19-47b3-bf4d-77b1e4d0cc27.png)'
- en: Double-click to launch `VMware-Horizon-Agent-x86_64-7.6.0-9539447`. The seven-digit
    number at the end of the filename refers to the build version, and so you may
    have a different number, depending on the build version you are using.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击启动 `VMware-Horizon-Agent-x86_64-7.6.0-9539447`。文件名末尾的七位数字表示构建版本，因此根据你使用的构建版本，数字可能不同。
- en: 'You will now see the Welcome to the Installation Wizard for VMware Horizon
    View Agent dialog box, as shown in the following screenshot:'
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将看到“欢迎使用 VMware Horizon View Agent 安装向导”对话框，如下图所示：
- en: '![](img/f7bce05d-d015-4eb3-95e5-71b246059013.png)'
  id: totrans-175
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f7bce05d-d015-4eb3-95e5-71b246059013.png)'
- en: Click the Next > button to start the installation.
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“下一步 >”按钮开始安装。
- en: 'You will now see the License Agreement dialog box, as shown in the following
    screenshot:'
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你将看到许可协议对话框，如下图所示：
- en: '![](img/69802673-ce2f-4e2d-aa75-e5aca326a1ec.png)'
  id: totrans-178
  prefs: []
  type: TYPE_IMG
  zh: '![](img/69802673-ce2f-4e2d-aa75-e5aca326a1ec.png)'
- en: Click the radio button for I accept the terms in the license agreement, and
    then click the Next > button to continue.
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选中“我接受许可协议中的条款”的单选按钮，然后点击“下一步 >”按钮继续。
- en: 'You will now see the Network protocol configuration screen, as shown in the
    following screenshot:'
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你将看到网络协议配置界面，如下图所示：
- en: '![](img/6cdd8330-d40c-428c-97e4-b76f2542ca59.png)'
  id: totrans-181
  prefs: []
  type: TYPE_IMG
  zh: '![](img/6cdd8330-d40c-428c-97e4-b76f2542ca59.png)'
- en: Click on IPv4 and then click on the Next > button to continue the installation.
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击 IPv4，然后点击“下一步 >”按钮继续安装。
- en: 'You will now see the Custom Setup screen, as shown in the following screenshot:'
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将看到自定义设置界面，如下图所示：
- en: '![](img/85789811-08e6-4345-9c2b-34367e5f0e25.png)'
  id: totrans-184
  prefs: []
  type: TYPE_IMG
  zh: '![](img/85789811-08e6-4345-9c2b-34367e5f0e25.png)'
- en: In the example lab, we are going to accept the default options; however, you
    can choose to install the 3D RDSH, USB Redirection, View Composer, and Flash Redirection
    options, should you want to.
  id: totrans-185
  prefs: []
  type: TYPE_NORMAL
  zh: 在示例实验中，我们将接受默认选项；不过，如果需要，你可以选择安装 3D RDSH、USB 重定向、View Composer 和 Flash 重定向选项。
- en: 'As you can see, there are a number of features that can be installed as part
    of the View Agent installation. These are listed here:'
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
  zh: 如你所见，可以作为 View Agent 安装的一部分安装许多功能。它们列在下面：
- en: 'Core: Installs the core features required for RDSH'
  id: totrans-187
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Core：安装 RDSH 所需的核心功能
- en: '3D RDSH: Enables 3D acceleration in RDSH sessions'
  id: totrans-188
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 3D RDSH：启用 RDSH 会话中的 3D 加速
- en: 'USB Redirection: Redirects USB devices from the client to the RDSH session'
  id: totrans-189
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: USB 重定向：将 USB 设备从客户端重定向到 RDSH 会话
- en: 'VMware Horizon View Composer Agent: Allows RDS host servers to be built from
    a single parent image using linked clone technology to easily deploy the RDS server
    farm'
  id: totrans-190
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: VMware Horizon View Composer Agent：允许使用链接克隆技术从单个父图像构建 RDS 主机服务器，从而轻松部署 RDS 服务器农场
- en: 'Client Redirection: Allows clients to share local drives with the RDS sessions
    (not supported when using IPv6)'
  id: totrans-191
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 客户端重定向：允许客户端与 RDS 会话共享本地驱动器（在使用 IPv6 时不支持）
- en: 'Virtual Printing: Allows printing from RDS sessions'
  id: totrans-192
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 虚拟打印：允许从 RDS 会话打印
- en: 'vRealize Operations Desktop Agent: Allows the management agent to be deployed
    for monitoring RDS sessions with vRealize'
  id: totrans-193
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: vRealize Operations Desktop Agent：允许部署管理代理，以便使用 vRealize 监控 RDS 会话
- en: 'Flash Redirection: Enables the Flash redirection feature with RDS sessions
    (note that this is currently a tech preview in this version of Horizon View)'
  id: totrans-194
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Flash 重定向：启用 RDS 会话中的 Flash 重定向功能（请注意，在此版本的 Horizon View 中，这是一个技术预览功能）
- en: Click the Next > button to continue the installation.
  id: totrans-195
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“下一步 >”按钮继续安装。
- en: You will now see the **Register with Horizon 7 Connection Server** configuration
    screen, where we will configure the Horizon Agent to talk to the Connection Server.
    This allows the Connection Server to read the published applications list from
    the RemoteApp catalog and allows you to create application pools within View.
  id: totrans-196
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你将看到**与 Horizon 7 连接服务器注册**配置界面，在这里我们将配置 Horizon Agent 以与连接服务器通信。这允许连接服务器从
    RemoteApp 目录读取发布的应用程序列表，并允许你在 View 中创建应用程序池。
- en: In the hostname or IP address box, enter the name of the Connection Server.
    In the example, this is `hzn7-cs1.pvolab.com`.
  id: totrans-197
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在主机名或 IP 地址框中，输入连接服务器的名称。在示例中，这是 `hzn7-cs1.pvolab.com`。
- en: In the Authentication section, click the radio button for Specify administrator
    credentials and then in the **Username** box, enter the user account you want
    to use to connect to the Connection Server. In the example lab, this is pvolab\administrator.
  id: totrans-198
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在身份验证部分，点击“指定管理员凭据”的单选按钮，然后在**用户名**框中输入你希望用来连接连接服务器的用户帐户。在示例实验中，这是 pvolab\administrator。
- en: Make sure you use the Domain\user format to enter the username, and also that
    the account has the correct privileges to access the Connection Server. You would
    typically use a service account for this.
  id: totrans-199
  prefs: []
  type: TYPE_NORMAL
  zh: 确保使用Domain\user格式输入用户名，并且账户具有访问连接服务器的正确权限。通常情况下，您会使用服务账户来进行此操作。
- en: 'In the Password box, type in the password for the account, as shown in the
    following screenshot:'
  id: totrans-200
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“密码”框中，输入该账户的密码，如下图所示：
- en: '![](img/d47d9c38-a8c6-4ddf-a078-3ec699a6d392.png)'
  id: totrans-201
  prefs: []
  type: TYPE_IMG
  zh: '![](img/d47d9c38-a8c6-4ddf-a078-3ec699a6d392.png)'
- en: Click the Next > button to continue the installation.
  id: totrans-202
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“下一步 >”按钮继续安装。
- en: You will now see the Ready to Install the Program screen. Click the Install
    button to start the installation process.
  id: totrans-203
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您将看到“准备安装程序”界面。点击“安装”按钮开始安装过程。
- en: Once successfully installed, you will see the Installer Complete screen.
  id: totrans-204
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 安装成功后，您将看到“安装完成”界面。
- en: Click Finish to quit the installation.
  id: totrans-205
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“完成”退出安装。
- en: You will then be prompted to reboot the server. Click Yes to reboot.
  id: totrans-206
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，系统会提示您重启服务器。点击“是”以重启。
- en: One of the most common reasons that the installation of the View agent fails
    is down to the configuration of the RDSH server. More often than not, there are
    no sound drivers loaded on the Windows Server running the RDSH role. If this is
    the case, then the installation of the agent will fail and automatically roll
    back. If that happens, it is worth checking this first.
  id: totrans-207
  prefs: []
  type: TYPE_NORMAL
  zh: 安装视图代理失败的最常见原因之一是RDSH服务器的配置问题。通常，运行RDSH角色的Windows服务器上没有加载声音驱动程序。如果是这种情况，则代理的安装会失败并自动回滚。如果发生这种情况，建议首先检查这一点。
- en: We have now completed the first part of the Horizon View configuration. In the
    next step of the process, we will turn our attention to the View Administrator
    and configure the application pools.
  id: totrans-208
  prefs: []
  type: TYPE_NORMAL
  zh: 我们现在已经完成了Horizon View配置的第一部分。在接下来的步骤中，我们将把注意力转向“查看管理员”，并配置应用程序池。
- en: Configuring published apps in the View Administrator
  id: totrans-209
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 在“查看管理员”中配置已发布的应用程序
- en: The next stage in the installation and configuration process is performed using
    the View Administrator console and, like a standard View setup, involves creating
    pools and entitlements. However, rather than creating pools for virtual desktop
    machines, this time we are going to configure application pools.
  id: totrans-210
  prefs: []
  type: TYPE_NORMAL
  zh: 安装和配置过程的下一阶段是通过“查看管理员”控制台进行的，和标准的View设置一样，涉及到创建池和授权。然而，这次我们将配置的是应用程序池，而不是为虚拟桌面机器创建池。
- en: 'Before we do any of that, the first thing we need to do is to set up a farm
    that contains the newly built RDSH server. To do this, perform the following steps:'
  id: totrans-211
  prefs: []
  type: TYPE_NORMAL
  zh: 在执行这些操作之前，我们需要做的第一件事是设置一个包含新建RDSH服务器的Farm。请按照以下步骤操作：
- en: Open a browser and connect to the View Administrator. In our example lab, the
    address for the View Administrator is `https://hzn7-cs1.pvolab.com/admin/`.
  id: totrans-212
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开浏览器并连接到“查看管理员”。在我们的示例实验室中，“查看管理员”的地址是`https://hzn7-cs1.pvolab.com/admin/`。
- en: Log in to the View Administrator using the administrator account and password.
  id: totrans-213
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 使用管理员账户和密码登录到“查看管理员”。
- en: 'You will now see the View Administrator Dashboard, as shown in the following
    screenshot:'
  id: totrans-214
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您将看到“查看管理员仪表板”，如下图所示：
- en: '![](img/97990f92-7505-4ab4-a3eb-1e67260d84e1.png)'
  id: totrans-215
  prefs: []
  type: TYPE_IMG
  zh: '![](img/97990f92-7505-4ab4-a3eb-1e67260d84e1.png)'
- en: Expand the arrow for Resources from the Inventory pane on the left, and then
    click on Farms (**1**).
  id: totrans-216
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从左侧的库存面板中展开“资源”箭头，然后点击“农场”（**1**）。
- en: Now click the Add… button (**2**).
  id: totrans-217
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在点击“添加...”按钮（**2**）。
- en: 'You will now see the Add Farm configuration screen, as shown in the following
    screenshot:'
  id: totrans-218
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您将看到“添加Farm”配置界面，如下图所示：
- en: '![](img/566a9947-54cb-4c74-8876-821b852c2df2.png)'
  id: totrans-219
  prefs: []
  type: TYPE_IMG
  zh: '![](img/566a9947-54cb-4c74-8876-821b852c2df2.png)'
- en: In the Type section, click the radio button for Manual Farm.
  id: totrans-220
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“类型”部分，点击“手动Farm”单选按钮。
- en: Click the Next > button to continue.
  id: totrans-221
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“下一步 >”按钮继续。
- en: 'You will now see the Identification and Settings configuration screen, as shown
    in the following screenshot:'
  id: totrans-222
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您将看到“标识和设置”配置界面，如下图所示：
- en: '![](img/90bc8618-e13c-4bf6-8f44-8f02f4dc55dd.png)'
  id: totrans-223
  prefs: []
  type: TYPE_IMG
  zh: '![](img/90bc8618-e13c-4bf6-8f44-8f02f4dc55dd.png)'
- en: 'You need to fill the details, as shown here:'
  id: totrans-224
  prefs: []
  type: TYPE_NORMAL
  zh: 您需要填写如下信息：
- en: In the ID box, enter an ID for the farm that will be used by View to identify
    it. In the example lab, this is called `Horizon-Published-Apps`.
  id: totrans-225
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“ID”框中，输入一个ID，用于View识别这个Farm。在示例实验室中，它被命名为`Horizon-Published-Apps`。
- en: You cannot use spaces for the ID, only letters (upper and lowercase), numbers
    (0-9), and *–* (minus) or *_* (underscore) characters.
  id: totrans-226
  prefs: []
  type: TYPE_NORMAL
  zh: 您不能为ID使用空格，只能使用字母（大写和小写）、数字（0-9），以及*–*（减号）或*_ *（下划线）字符。
- en: In the Description box, enter an optional description for the farm and then,
    from the Access Group dropdown, select an access group if you have one.
  id: totrans-227
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“描述”框中，输入农场的可选描述，然后从“访问组”下拉菜单中选择一个访问组（如果有）。
- en: Next, under Farm Settings, set the Default display protocol to PCoIP and from
    the Allow users to choose protocol dropdown, select Yes.
  id: totrans-228
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，在“农场设置”下，将默认显示协议设置为PCoIP，并在“允许用户选择协议”下拉菜单中选择“是”。
- en: In the Pre-launch session timeout, leave this as the default setting of `10`
    minutes. Pre-launch allows apps to load ahead of a user clicking to launch it.
    This option configures a timeout.
  id: totrans-229
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在预启动会话超时设置中，保持默认设置为`10`分钟。预启动允许应用程序在用户点击启动之前提前加载。此选项配置一个超时设置。
- en: In the Empty session timeout**,** enter a time after which the session should
    timeout when not being used, and then in the When timeout occurs box, from the
    drop-down menu, select what happens at timeout. In the example lab, this is set
    to disconnect the user from the session.
  id: totrans-230
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在空闲会话超时**，**输入一个时间，指定在未使用时会话应超时的时长，然后在超时发生时框中，从下拉菜单中选择超时后发生的操作。在示例实验中，这被设置为断开用户与会话的连接。
- en: The next option is whether or not to Log off disconnected sessions. This option
    will log off any disconnected sessions. In the example lab, this is set to Never
    happen.
  id: totrans-231
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下一个选项是是否注销断开连接的会话。此选项将注销任何断开连接的会话。在示例实验中，此选项设置为永不发生。
- en: Check the Enabled box to allow HTML access to desktops and applications on this
    farm.
  id: totrans-232
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 勾选“启用”框，以允许通过HTML访问此农场中的桌面和应用程序。
- en: Finally, check the box for Allow Session Collaboration. This only works when
    you connect using the Blast protocol.
  id: totrans-233
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，勾选“允许会话协作”框。此功能仅在使用Blast协议连接时有效。
- en: Once you have completed the configuration options on this screen, click the
    Next > button to continue.
  id: totrans-234
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 完成此屏幕上的配置选项后，点击“下一步 >”按钮继续。
- en: 'You will now see the Select RDS Hosts configuration screen from where you select
    which hosts are going to participate in this farm, as shown in the following screenshot:'
  id: totrans-235
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在您将看到“选择RDS主机”配置屏幕，在这里您可以选择哪些主机将参与此农场，如下图所示：
- en: '![](img/b95a97d1-2965-46d3-a5c4-b05c2ef1ccaa.png)'
  id: totrans-236
  prefs: []
  type: TYPE_IMG
  zh: '![](img/b95a97d1-2965-46d3-a5c4-b05c2ef1ccaa.png)'
- en: Click and select the `rdsh-apps.pvolab.com` server entry and then click the
    Next > button.
  id: totrans-237
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击并选择`rdsh-apps.pvolab.com`服务器条目，然后点击“下一步 >”按钮。
- en: 'You will now see the Ready to Complete screen, as shown in the following screenshot:'
  id: totrans-238
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在您将看到“准备完成”屏幕，如下图所示：
- en: '![](img/cc26a567-b643-4687-9083-86f5d8de8ec6.png)'
  id: totrans-239
  prefs: []
  type: TYPE_IMG
  zh: '![](img/cc26a567-b643-4687-9083-86f5d8de8ec6.png)'
- en: Check that the settings you have entered are correct, and then click the Finish
    button.
  id: totrans-240
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 检查您输入的设置是否正确，然后点击“完成”按钮。
- en: 'You have now successfully created a new farm configuration for the hosted applications,
    as shown in the following screenshot:'
  id: totrans-241
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在已经成功创建了一个新的托管应用程序农场配置，如下图所示：
- en: '![](img/1637d1eb-25de-434e-8d4c-d8f2ddf324a7.png)'
  id: totrans-242
  prefs: []
  type: TYPE_IMG
  zh: '![](img/1637d1eb-25de-434e-8d4c-d8f2ddf324a7.png)'
- en: 'You will also see in the RDS Farms section in the System Health box on the
    View Administrator Dashboard that the farm name, Horizon-Published-Apps, and the
    server name, `rdsh-apps.pvolab.com`, are now listed, along with a green box to
    show they are working correctly:'
  id: totrans-243
  prefs: []
  type: TYPE_NORMAL
  zh: 您还将在View管理员仪表板的“系统健康”框中的RDS农场部分看到，农场名称“ Horizon-Published-Apps”和服务器名称`rdsh-apps.pvolab.com`现已列出，并且有一个绿色框显示它们正在正常工作：
- en: '![](img/c2bcdbc6-6472-4af5-9358-7a4a67856838.png)'
  id: totrans-244
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c2bcdbc6-6472-4af5-9358-7a4a67856838.png)'
- en: In the next section, we are going to create an application pool.
  id: totrans-245
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一部分，我们将创建一个应用程序池。
- en: Creating an application pool for published apps
  id: totrans-246
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为发布的应用程序创建应用程序池
- en: 'In this section, we are going to create an application pool. This allows you
    to create a pool that contains a number of different applications. You may want
    to create application pools to reflect different departments, for example. To
    configure an application pool, perform the following steps:'
  id: totrans-247
  prefs: []
  type: TYPE_NORMAL
  zh: 在本节中，我们将创建一个应用程序池。这允许您创建一个包含多个不同应用程序的池。例如，您可能希望创建应用程序池以反映不同的部门。要配置应用程序池，请执行以下步骤：
- en: 'From the View Administrator, expand the arrow for Catalog from the Inventory
    pane on the left, and then click on Application Pools (1), as shown in the following
    screenshot:'
  id: totrans-248
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在View管理员中，从左侧的“库存”面板中展开“目录”箭头，然后点击“应用程序池”（1），如下图所示：
- en: '![](img/0c51aded-0df0-4f62-9f40-69abc33fb21e.png)'
  id: totrans-249
  prefs: []
  type: TYPE_IMG
  zh: '![](img/0c51aded-0df0-4f62-9f40-69abc33fb21e.png)'
- en: Now click on the Add... button (**2**).
  id: totrans-250
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在点击“添加...”按钮 (**2**)。
- en: 'You will now see the Add Application Pools configuration screen, as shown in
    the following screenshot:'
  id: totrans-251
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在您将看到“添加应用程序池”配置屏幕，如下图所示：
- en: '![](img/500e9c42-77c7-4ca9-b5fb-81afda90c4ee.png)'
  id: totrans-252
  prefs: []
  type: TYPE_IMG
  zh: '![](img/500e9c42-77c7-4ca9-b5fb-81afda90c4ee.png)'
- en: From the Select an RDS farm drop-down menu, select the farm that we created
    previously for our published applications. In the example lab, select the farm
    called Horizon-Published-Apps from the menu.
  id: totrans-253
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从“选择一个 RDS farm”下拉菜单中，选择我们之前为发布的应用程序创建的 farm。在示例实验中，从菜单中选择名为 Horizon-Published-Apps
    的 farm。
- en: Next, click the radio button for Select installed applications. This will automatically
    list all the applications that are installed on that particular RDSH server. There
    is also the option to add an application pool manually.
  id: totrans-254
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，点击“选择已安装的应用程序”单选框。这将自动列出该 RDSH 服务器上安装的所有应用程序。您还可以手动添加一个应用程序池。
- en: From the list of applications, check the box for the applications you want to
    add to the application pool. In the example, we have selected PowerPoint 2016
    (**3**) and Word 2016 (**4**), as well as Calculator, Paint, Excel 2016, Publisher
    2016, and Outlook 2016.
  id: totrans-255
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从应用程序列表中，勾选您想要添加到应用程序池的应用程序。在示例中，我们选择了 PowerPoint 2016 (**3**) 和 Word 2016 (**4**)，以及计算器、画图、Excel
    2016、Publisher 2016 和 Outlook 2016。
- en: You then have the option to check the Pre-Launch box. That means the applications
    in the pool are launched and ready when the end users click on them to speed up
    launch times.
  id: totrans-256
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，您可以选择勾选“预启动”框。这意味着应用程序池中的应用程序将在最终用户点击它们时提前启动，以加快启动速度。
- en: The next option is for Connection Server restrictions, which allows you to configure
    tags for which Connection Servers you can connect with.
  id: totrans-257
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 下一个选项是“连接服务器限制”，它允许您配置可以连接的连接服务器标签。
- en: Finally, you can configure the Category Folder**,** which allows you to add
    a shortcut on the end user's device.
  id: totrans-258
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，您可以配置**类别文件夹**，这允许您在最终用户设备上添加快捷方式。
- en: When you have selected all the required applications, click the Next > button
    to continue.
  id: totrans-259
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 当您选择了所有必需的应用程序后，点击“下一步 >”按钮以继续。
- en: 'You will now see the **Edit ID** **and Display Name** screen. Here, you can
    choose to edit the ID and the display name for the applications if you want to.
    This is shown in the following screenshot:'
  id: totrans-260
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在您将看到**编辑 ID**和**显示名称**屏幕。在这里，您可以选择编辑应用程序的 ID 和显示名称，如果需要的话。如下图所示：
- en: '![](img/16a808b7-df2d-4b0a-9aae-929f8f513809.png)'
  id: totrans-261
  prefs: []
  type: TYPE_IMG
  zh: '![](img/16a808b7-df2d-4b0a-9aae-929f8f513809.png)'
- en: Also, check the Entitle users after this wizard finishes box to automatically
    launch the user entitlement configuration, which we will complete in the next
    section.
  id: totrans-262
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 同时，勾选“在此向导完成后授权用户”框，以便自动启动用户授权配置，我们将在下一节完成此操作。
- en: Click the Finish button to complete the configuration. You will then see that
    the application pool has been created.
  id: totrans-263
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“完成”按钮以完成配置。然后您将看到应用程序池已经创建。
- en: Now that you have your application pool all set up and ready to go, the next
    step is to entitle end users to the pool and allow them to launch applications.
  id: totrans-264
  prefs: []
  type: TYPE_NORMAL
  zh: 现在您的应用程序池已经设置完毕并准备就绪，下一步是授权最终用户访问该池并允许他们启动应用程序。
- en: Entitling users to application pools
  id: totrans-265
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 授权用户到应用程序池
- en: 'In the previous section, we checked the Entitle users after this wizard finished
    box, which means that you will now see the Add Entitlements configuration screen,
    as shown in the following screenshot:'
  id: totrans-266
  prefs: []
  type: TYPE_NORMAL
  zh: 在前一节中，我们勾选了“在此向导完成后授权用户”框，这意味着您现在将看到“添加授权”配置屏幕，如下图所示：
- en: '![](img/512fac43-3763-4875-be05-7f57d3e5de40.png)'
  id: totrans-267
  prefs: []
  type: TYPE_IMG
  zh: '![](img/512fac43-3763-4875-be05-7f57d3e5de40.png)'
- en: 'Now perform the following steps to add entitlements:'
  id: totrans-268
  prefs: []
  type: TYPE_NORMAL
  zh: 现在执行以下步骤来添加授权：
- en: Click the Add... button (**1**).
  id: totrans-269
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“添加...”按钮 (**1**)。
- en: 'You will now see the Find User or Group configuration screen, as shown in the
    following screenshot:'
  id: totrans-270
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在，您将看到“查找用户或组”配置屏幕，如下图所示：
- en: '![](img/4189b532-fe82-458e-b98d-c94b4ec32e98.png)'
  id: totrans-271
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4189b532-fe82-458e-b98d-c94b4ec32e98.png)'
- en: In the Type section, ensure that the Users box (**2**) is ticked.
  id: totrans-272
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在“类型”部分，确保勾选“用户”框 (**2**)。
- en: From the Domain drop-down menu (**3**), select the domain that contains the
    user you want to entitle. In the example lab, this is the `pvolab.com` domain.
  id: totrans-273
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从“域”下拉菜单 (**3**) 中，选择包含您想要授权的用户的域。在示例实验中，这是 `pvolab.com` 域。
- en: In the Name/User name box (**4**), enter the details of the user you want to
    entitle. In the example lab, we are going to entitle the user called `Peter von
    Oven`, so type the first part of the username, in this case, `peter`, into the
    box and then click the Find button (**5**) to search for the user in the domain.
  id: totrans-274
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在姓名/用户名框（**4**）中，输入你要授权的用户的详细信息。在示例实验室中，我们将授权名为`Peter von Oven`的用户，因此输入用户名的第一部分，在本例中是`peter`，然后点击查找按钮（**5**）在域中搜索该用户。
- en: Once found, the user and their details will be displayed in the table. Select
    the user by clicking on the entry in the table to highlight and select the user.
  id: totrans-275
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 找到后，用户及其详细信息将显示在表格中。通过点击表格中的条目来选择用户，条目会被高亮显示并选中用户。
- en: Click OK to continue.
  id: totrans-276
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“确定”继续。
- en: 'You will now return to the Application Pools screen, detailing the applications
    published, as shown in the following screenshot:'
  id: totrans-277
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在将返回到应用池屏幕，显示已发布的应用程序，如下图所示：
- en: '![](img/c603fc1d-20b2-44fe-94bb-b48680473e53.png)'
  id: totrans-278
  prefs: []
  type: TYPE_IMG
  zh: '![](img/c603fc1d-20b2-44fe-94bb-b48680473e53.png)'
- en: As a final check, we are going to launch the Horizon Client, log in as the entitled
    user, and then launch one of the published applications using the Horizon Client,
    to test that everything works.
  id: totrans-279
  prefs: []
  type: TYPE_NORMAL
  zh: 作为最终检查，我们将启动Horizon客户端，使用授权用户登录，然后通过Horizon客户端启动其中一个发布的应用程序，以测试一切是否正常工作。
- en: Make sure you are using the latest version of the Horizon Client, version 3.0
    and above. Older versions will still work with VDI desktops, but will not show
    the published applications.
  id: totrans-280
  prefs: []
  type: TYPE_NORMAL
  zh: 确保你使用的是最新版本的Horizon客户端，版本3.0及以上。旧版本仍然可以与VDI桌面一起使用，但无法显示发布的应用程序。
- en: 'To test the functionality, complete the following steps:'
  id: totrans-281
  prefs: []
  type: TYPE_NORMAL
  zh: 为了测试功能，完成以下步骤：
- en: Launch the VMware Horizon Client and make sure that you have added the address
    of the Connection Server. We will cover the Horizon View Client in [Chapter 12](e1944fcc-6ae9-4db7-b51b-db75e37e01ab.xhtml),
    *Horizon Client Options*.
  id: totrans-282
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动VMware Horizon客户端，并确保你已添加了连接服务器的地址。我们将在[第12章](e1944fcc-6ae9-4db7-b51b-db75e37e01ab.xhtml)中介绍Horizon客户端，*Horizon客户端选项*。
- en: 'In the example lab, we are connecting to the `hzn7-cs1.pvolab.com` Connection
    Server, as shown in the following screenshot:'
  id: totrans-283
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在示例实验室中，我们正在连接到`hzn7-cs1.pvolab.com`连接服务器，如下图所示：
- en: '![](img/cf978123-f482-4c61-960b-ff936d6a261b.png)'
  id: totrans-284
  prefs: []
  type: TYPE_IMG
  zh: '![](img/cf978123-f482-4c61-960b-ff936d6a261b.png)'
- en: Double-click on the `hzn7-cs1.pvolab.com` icon in the VMware Horizon Client.
  id: totrans-285
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击VMware Horizon客户端中的`hzn7-cs1.pvolab.com`图标。
- en: 'You will then see the Login box, as shown in the following screenshot:'
  id: totrans-286
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后你将看到登录框，如下图所示：
- en: '![](img/4f7d3e19-685a-48b1-b17a-e8c4e1ae3d28.png)'
  id: totrans-287
  prefs: []
  type: TYPE_IMG
  zh: '![](img/4f7d3e19-685a-48b1-b17a-e8c4e1ae3d28.png)'
- en: In the User name box, enter the username for the user that is entitled to the
    application pool. In the example lab, the User name for the user `Peter von Oven`
    is `pvo`.
  id: totrans-288
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在用户名框中，输入被授权访问应用池的用户的用户名。在示例实验室中，用户`Peter von Oven`的用户名是`pvo`。
- en: In the Password box, enter the password for the username.
  id: totrans-289
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在密码框中，输入用户名的密码。
- en: In the Domain box, ensure the correct domain is selected from the drop-down
    menu. In the example lab, this is the PVOLAB domain.
  id: totrans-290
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在域框中，确保从下拉菜单中选择了正确的域。在示例实验室中，这是PVOLAB域。
- en: Now click the Login box.
  id: totrans-291
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在点击登录框。
- en: 'Once authenticated, the Horizon Client will connect to the application pool
    and display the available applications, as shown in the following screenshot:'
  id: totrans-292
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 认证成功后，Horizon客户端将连接到应用池，并显示可用的应用程序，如下图所示：
- en: '![](img/9dae20bd-c0c3-4082-ac39-9a1aa8970208.png)'
  id: totrans-293
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9dae20bd-c0c3-4082-ac39-9a1aa8970208.png)'
- en: Double-click on any of the applications to ensure that they launch correctly.
  id: totrans-294
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 双击任何一个应用程序，确保它们能正确启动。
- en: You have now successfully installed, configured, and delivered a Vieww-hosted
    applications environment. In this example, we have deployed a single RDSH server
    to host remote applications; however, in a production environment, you are more
    likely to have multiple servers in a farm.
  id: totrans-295
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经成功安装、配置并交付了一个View托管的应用程序环境。在本例中，我们部署了一个RDSH服务器来托管远程应用程序；然而，在生产环境中，你更有可能有多个服务器在一个农场中。
- en: In the final section of this chapter, we are going to look how you load-balance
    the session connections across multiple host servers in a farm.
  id: totrans-296
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章的最后部分，我们将介绍如何在一个服务器农场中，将会话连接负载均衡到多个主机服务器。
- en: Load-balancing published apps in Horizon View
  id: totrans-297
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: Horizon View中的负载均衡发布应用程序
- en: The next thing we are going to cover is how the Connection Broker decides which
    of the RDS host servers in the farm that is running the requested application
    is actually going to deliver the application. There are two options for configuring
    load balancing.
  id: totrans-298
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，我们将介绍的是 Connection Broker 如何决定农场中正在运行请求的应用程序的 RDS 主机服务器将实际交付该应用程序。配置负载均衡有两种选择。
- en: For the first option, there is no real complicated science behind the load balancing
    from a Horizon View perspective. It is purely based on how many sessions are available
    on any given RDSH server. So, that means when a user logs in and launches a published
    application, the application is delivered from the server that has the highest
    amount of free sessions available; that is, the one that is least busy.
  id: totrans-299
  prefs: []
  type: TYPE_NORMAL
  zh: 对于第一个选项，从 Horizon View 的角度来看，负载均衡并没有什么复杂的科学原理。它完全基于任何给定的 RDSH 服务器上有多少个空闲会话。因此，这意味着当用户登录并启动一个已发布的应用程序时，应用程序会从拥有最多空闲会话的服务器传送；也就是说，选择最不忙碌的服务器。
- en: 'This is illustrated in the following diagram:'
  id: totrans-300
  prefs: []
  type: TYPE_NORMAL
  zh: 下面的图示展示了这一点：
- en: '![](img/ffdb0bb7-cd55-4f94-a8ef-4312da738a43.png)'
  id: totrans-301
  prefs: []
  type: TYPE_IMG
  zh: '![](img/ffdb0bb7-cd55-4f94-a8ef-4312da738a43.png)'
- en: This first option works fine, but how does it know what each session is consuming
    in terms of resources? A particular host may well have enough capacity for additional
    sessions based on the number of sessions it has free, but what if the sessions
    it's already hosting are consuming vast amounts of resources?
  id: totrans-302
  prefs: []
  type: TYPE_NORMAL
  zh: 第一个选项运行良好，但它如何知道每个会话消耗了多少资源呢？某个特定的主机可能有足够的容量来容纳更多的会话，基于它有多少空闲的会话，但如果它已经托管的会话消耗了大量资源，那该怎么办？
- en: This is where the second option comes in, as it uses more in-depth information
    to place sessions, which is based on measuring the CPU and memory utilization
    of each host rather than the number of free sessions.
  id: totrans-303
  prefs: []
  type: TYPE_NORMAL
  zh: 这时，第二个选项就派上用场了，因为它使用更深入的信息来放置会话，这些信息是基于每个主机的 CPU 和内存利用率，而不是空闲会话的数量。
- en: To enable this load-balancing method, there are a number of manual steps you
    need to complete, as we will now describe.
  id: totrans-304
  prefs: []
  type: TYPE_NORMAL
  zh: 要启用这种负载均衡方法，你需要完成一些手动步骤，我们现在将一一说明。
- en: 'First of all, this method is based on executing scripts, and therefore you
    need to ensure that those scripts are stored on each RDS host server in the farm.
    You can create your own scripts; however, there are a couple of example scripts
    that ship as part of the View Agent installation. You will find them in the following
    folder once the View Agent has been installed (View Agent installation was covered
    earlier on in this chapter):'
  id: totrans-305
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，这种方法是基于执行脚本的，因此你需要确保这些脚本存储在农场中的每个 RDS 主机服务器上。你可以创建自己的脚本；不过，作为 View Agent
    安装的一部分，有几个示例脚本随之提供。一旦 View Agent 安装完成（本章前面已介绍过 View Agent 的安装），你会在以下文件夹中找到它们：
- en: '[PRE2]'
  id: totrans-306
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: 'You will then see the two example scripts, as shown in the following screenshot:'
  id: totrans-307
  prefs: []
  type: TYPE_NORMAL
  zh: 然后，你将看到两个示例脚本，如下图所示：
- en: '![](img/abe0902a-af70-4217-a860-9d3c8381b709.png)'
  id: totrans-308
  prefs: []
  type: TYPE_IMG
  zh: '![](img/abe0902a-af70-4217-a860-9d3c8381b709.png)'
- en: 'As the names suggest, one script monitors CPU utilization and the other monitors
    memory utilization. Each script monitors its respective component and returns
    the following values to make the decision on placing sessions:'
  id: totrans-309
  prefs: []
  type: TYPE_NORMAL
  zh: 正如名称所示，一个脚本监控 CPU 利用率，另一个监控内存利用率。每个脚本监控其相应的组件，并返回以下值来决定会话的放置：
- en: '`0`: For utilization > 90%'
  id: totrans-310
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`0`: 对于利用率 > 90%'
- en: '`1`: For utilization > 75%'
  id: totrans-311
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`1`: 对于利用率 > 75%'
- en: '`2`: For utilization > 25%'
  id: totrans-312
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`2`: 对于利用率 > 25%'
- en: '`3`: For utilization > 25%'
  id: totrans-313
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: '`3`: 对于利用率 > 25%'
- en: 'Let''s now configure the CPU script for use in the example lab by completing
    the following tasks. The first of these is to enable the View Script Host service.
    To do this, perform the following the steps:'
  id: totrans-314
  prefs: []
  type: TYPE_NORMAL
  zh: 现在让我们通过完成以下任务来配置 CPU 脚本用于示例实验室。第一个任务是启用 View Script Host 服务。为此，请按照以下步骤操作：
- en: Open a console to the RDSH host server, RDSH-Apps, and from the desktop of the
    server, launch a `RUN` command.
  id: totrans-315
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开一个控制台连接到 RDSH 主机服务器 RDSH-Apps，并从服务器的桌面启动 `RUN` 命令。
- en: 'In the **Open** box, type `services.msc` and click OK to launch the Services
    management screen. You will now see the **Services** screen, as shown in the following
    screenshot:'
  id: totrans-316
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在 **打开** 框中，输入 `services.msc` 并点击确定以启动服务管理界面。现在，你将看到 **服务** 窗口，如下图所示：
- en: '![](img/e92f5526-dbff-45ff-ae8b-745fd14a869e.png)'
  id: totrans-317
  prefs: []
  type: TYPE_IMG
  zh: '![](img/e92f5526-dbff-45ff-ae8b-745fd14a869e.png)'
- en: Scroll down until you find the entry for **VMware Horizon View Script Host**.
    Click on it to highlight it, and then right-click.
  id: totrans-318
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向下滚动，直到找到 **VMware Horizon View Script Host** 条目。点击它以高亮显示，然后右键点击。
- en: From the contextual menu that is now displayed, click Properties.
  id: totrans-319
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在现在显示的上下文菜单中，点击属性。
- en: 'You will now see the VMware Horizon View Script Host Properties screen, as
    shown in the following screenshot:'
  id: totrans-320
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在你将看到VMware Horizon View脚本主机属性屏幕，如以下截图所示：
- en: '![](img/56e0e0b9-cfdd-4003-9902-bb70fc245b38.png)'
  id: totrans-321
  prefs: []
  type: TYPE_IMG
  zh: '![](img/56e0e0b9-cfdd-4003-9902-bb70fc245b38.png)'
- en: In the Startup type box, from the drop-down menu (**1**), select the option
    for Automatic**,** so that this service starts when the server boots.
  id: totrans-322
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在启动类型框中，从下拉菜单中选择**自动**（**1**），以便此服务在服务器启动时自动启动。
- en: Next, click the Apply button.
  id: totrans-323
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，点击应用按钮。
- en: 'Finally, click the Start button (**2**) to start the service. You should now
    see that the service is running, as shown in the following screenshot:'
  id: totrans-324
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 最后，点击启动按钮 (**2**) 以启动服务。你现在应该看到服务正在运行，如以下截图所示：
- en: '![](img/9a08cfc3-f853-4ba1-8359-210a24698e0d.png)'
  id: totrans-325
  prefs: []
  type: TYPE_IMG
  zh: '![](img/9a08cfc3-f853-4ba1-8359-210a24698e0d.png)'
- en: 'Once completed, close the Services management screen. The next step is to add
    the script details to the registry of the server. To do this, perform the following
    steps:'
  id: totrans-326
  prefs: []
  type: TYPE_NORMAL
  zh: 完成后，关闭服务管理屏幕。下一步是将脚本详细信息添加到服务器的注册表中。为此，请执行以下步骤：
- en: Open a console to the RDSH host server, RDSH-Apps, and from the desktop of the
    server, launch a `RUN` command.
  id: totrans-327
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 打开连接到RDSH主机服务器RDSH-Apps的控制台，并从服务器桌面启动`RUN`命令。
- en: In the **Open**box, type `regedit` and click **OK** to launch the registry editor.
  id: totrans-328
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**打开**框中，输入`regedit`并点击**确定**，启动注册表编辑器。
- en: 'Once the registry editor has launched, navigate to the following path:'
  id: totrans-329
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 注册表编辑器启动后，导航到以下路径：
- en: '![](img/07afa9ad-c699-478e-a1e0-1fac33271071.png)'
  id: totrans-330
  prefs: []
  type: TYPE_IMG
  zh: '![](img/07afa9ad-c699-478e-a1e0-1fac33271071.png)'
- en: 'You will now see the following screen:'
  id: totrans-331
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在将看到以下屏幕：
- en: '![](img/cb0247dc-45d8-4620-8736-7a7bea64cb3f.png)'
  id: totrans-332
  prefs: []
  type: TYPE_IMG
  zh: '![](img/cb0247dc-45d8-4620-8736-7a7bea64cb3f.png)'
- en: 'Now right-click in the right-hand side pane and, from the contextual menu displayed,
    click on New (**3**), and then select the option for String Value (**4**), as
    shown in the following screenshot:'
  id: totrans-333
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 现在右键单击右侧窗格，在显示的上下文菜单中点击“新建” (**3**)，然后选择字符串值 (**4**) 选项，如以下截图所示：
- en: '![](img/a0a43b3c-81cb-42c7-b34c-5b386af1e695.png)'
  id: totrans-334
  prefs: []
  type: TYPE_IMG
  zh: '![](img/a0a43b3c-81cb-42c7-b34c-5b386af1e695.png)'
- en: 'You will now be able to enter a new string value. In the example lab, this
    is called `cpuutilisation` (**5**) to reflect the script that will be run, as
    shown in the following screenshot:'
  id: totrans-335
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在可以输入一个新的字符串值。在示例实验室中，这个值被称为`cpuutilisation` (**5**)，以反映将要运行的脚本，如以下截图所示：
- en: '![](img/fe8ff537-ab1a-429d-90d3-11611243ecc9.png)'
  id: totrans-336
  prefs: []
  type: TYPE_IMG
  zh: '![](img/fe8ff537-ab1a-429d-90d3-11611243ecc9.png)'
- en: Next, you need to edit the newly created string value and enter a value.
  id: totrans-337
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 接下来，你需要编辑新创建的字符串值并输入一个值。
- en: 'To do this, highlight the `cpuutilisation` entry (**6**), right-click and from
    the contextual menu, and click the option for Modify… (**7**), as shown in the
    following screenshot:'
  id: totrans-338
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 为此，突出显示`cpuutilisation`条目 (**6**)，右键单击并从上下文菜单中选择修改… (**7**)，如以下截图所示：
- en: '![](img/757b3e53-44f1-46dd-bfb4-3b42effce953.png)'
  id: totrans-339
  prefs: []
  type: TYPE_IMG
  zh: '![](img/757b3e53-44f1-46dd-bfb4-3b42effce953.png)'
- en: 'You will now see the Edit String box, as shown in the following screenshot:'
  id: totrans-340
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在将看到编辑字符串框，如以下截图所示：
- en: '![](img/5d05d093-7daf-4162-b1fc-306206fe1d09.png)'
  id: totrans-341
  prefs: []
  type: TYPE_IMG
  zh: '![](img/5d05d093-7daf-4162-b1fc-306206fe1d09.png)'
- en: In the Value data**,** box enter the path to the script. In the example lab,
    this path is `C:\Program Files\VMware\VMware View\Agent\scripts\cpuutilisation.vbs`**.**
  id: totrans-342
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在值数据框中**（**）输入脚本路径。在示例实验室中，该路径为`C:\Program Files\VMware\VMware View\Agent\scripts\cpuutilisation.vbs`**。**
- en: Click OK.
  id: totrans-343
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击确定。
- en: 'You will now see that the script has been added, as shown in the following
    screenshot:'
  id: totrans-344
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在将看到脚本已被添加，如以下截图所示：
- en: '![](img/f405cf04-bc36-429c-96b7-c0e6ecaac761.png)'
  id: totrans-345
  prefs: []
  type: TYPE_IMG
  zh: '![](img/f405cf04-bc36-429c-96b7-c0e6ecaac761.png)'
- en: Exit the registry editor.
  id: totrans-346
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 退出注册表编辑器。
- en: 'As you have changed the properties of the VMware Horizon Agent, you will need
    to restart this service for the changes to be applied. To do this, perform the
    following steps:'
  id: totrans-347
  prefs: []
  type: TYPE_NORMAL
  zh: 由于你已更改VMware Horizon Agent的属性，你需要重新启动该服务，以使更改生效。为此，请执行以下步骤：
- en: Launch a `RUN` command.
  id: totrans-348
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 启动`RUN`命令。
- en: 'In the **Open** box, type `service.msc` and click OK to launch the Services
    management screen, as shown in the following screenshot:'
  id: totrans-349
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在**打开**框中，输入`service.msc`并点击确定，启动服务管理屏幕，如以下截图所示：
- en: '![](img/34e9a4fc-3fed-4a4d-b0da-335adb6d816f.png)'
  id: totrans-350
  prefs: []
  type: TYPE_IMG
  zh: '![](img/34e9a4fc-3fed-4a4d-b0da-335adb6d816f.png)'
- en: Scroll down until you find the entry for VMware Horizon View Agent (**8**).
  id: totrans-351
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 向下滚动，直到找到VMware Horizon View Agent的条目 (**8**)。
- en: Click on it to select it, right-click, and, from the contextual menu, select
    the Restart option (**9**) to restart the service.
  id: totrans-352
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 单击它以选择，右键点击，然后从上下文菜单中选择重启选项(**9**)来重新启动服务。
- en: Once the service has restarted, you can close the Services management screen.
  id: totrans-353
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 一旦服务重新启动，您可以关闭服务管理界面。
- en: 'You have now completed the configuration steps for load balancing and this
    will now be calculated based on CPU utilization. You can check that this is working
    by performing the following:'
  id: totrans-354
  prefs: []
  type: TYPE_NORMAL
  zh: 您现在已经完成了负载均衡的配置步骤，负载均衡将根据CPU使用情况进行计算。您可以通过执行以下操作来检查它是否正常工作：
- en: From the View Administrator Dashboard, navigate to the System Health box.
  id: totrans-355
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 从View管理员仪表板，导航到系统健康框。
- en: 'Then expand the options for RDS Farms and the farm for Horizon-Published-Apps.
    Now click on the `RDSH-Apps.pvolab.com` server. You will see the following screen:'
  id: totrans-356
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后展开RDS农场的选项，并选择Horizon-Published-Apps的农场。现在点击`RDSH-Apps.pvolab.com`服务器。您将看到以下屏幕：
- en: '![](img/014122b4-460b-4997-90c6-59a80b516b04.png)'
  id: totrans-357
  prefs: []
  type: TYPE_IMG
  zh: '![](img/014122b4-460b-4997-90c6-59a80b516b04.png)'
- en: You will see that at the bottom of the box, there is a Server load option now
    shown. This is being measured from the script, and as you can see, currently,
    the CPU load is light and new sessions are able to be resourced by this particular
    server.
  id: totrans-358
  prefs: []
  type: TYPE_NORMAL
  zh: 您会看到在框的底部，现在显示了“服务器负载”选项。这个负载是通过脚本进行测量的，正如您所看到的，目前CPU负载很轻，新的会话可以由此服务器提供资源。
- en: Click OK to close the box. You have now successfully configured the optional
    load-balancing feature.
  id: totrans-359
  prefs: []
  type: TYPE_NORMAL
  zh: 单击“确定”以关闭该框。现在您已经成功配置了可选的负载均衡功能。
- en: Summary
  id: totrans-360
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 总结
- en: In this chapter, we have discussed how to deliver remote/published applications
    with the Horizon published applications feature. We started off by looking at
    the architecture and took a deep dive into how it works, before walking through
    the installation and configuration process of both the Microsoft RDSH components
    and the Horizon View components needed to make it work.
  id: totrans-361
  prefs: []
  type: TYPE_NORMAL
  zh: 在本章中，我们讨论了如何通过Horizon发布应用程序功能提供远程/发布的应用程序。我们首先介绍了架构，并深入探讨了它是如何工作的，然后逐步讲解了Microsoft
    RDSH组件和Horizon View组件的安装与配置过程，这些组件是实现该功能所需的。
- en: We then configured an RDS farm and an application pool, and then entitled a
    test user to the pool. Finally, to check that everything was working, we logged
    in as the user and tested the environment by launching a remote application.
  id: totrans-362
  prefs: []
  type: TYPE_NORMAL
  zh: 接着，我们配置了一个RDS农场和一个应用程序池，然后为测试用户分配了该池的权限。最后，为了检查一切是否正常工作，我们以该用户身份登录并通过启动远程应用程序来测试环境。
- en: In the final section, we looked at how to configure load balancing in a View
    published application environment.
  id: totrans-363
  prefs: []
  type: TYPE_NORMAL
  zh: 在最后一部分，我们讨论了如何在发布的应用程序环境中配置负载均衡。
- en: In the next chapter, we are going to look at how we apply the same methodology
    to deliver session-based or published desktops.
  id: totrans-364
  prefs: []
  type: TYPE_NORMAL
  zh: 在下一章中，我们将讨论如何将相同的方法应用于提供基于会话或发布的桌面。
