<html><head></head><body><div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Managing Networking in CentOS</h1>
                </header>
            
            <article>
                
<p><span><span>A standalone system is often not of much use. Networking enables us to exchange information and share resources with other network devices and connected computers. In this chapter, you will learn essential skills required for managing network connections from the command line. Then you will learn how to access the remote system using <strong>SSH</strong> (short for <strong>Secure Shell</strong>) and the secure transfer of files with <strong>SCP</strong></span></span><span><span> (short for <strong>Secure Copy</strong>) and </span></span><kbd>rsync</kbd> <span><span>utilities.</span></span></p>
<p><span><span>In this chapter, we will cover the following:</span></span></p>
<ul>
<li><span><span>Linux networking concepts</span></span></li>
<li><span><span>Using Linux networking commands</span></span></li>
<li><span><span>Managing networks with</span></span> nmcli </li>
<li><span><span>Editing network configuration files</span></span></li>
<li><span><span>Configuring hostname and <strong>DNS</strong> (short for <strong>Domain Name System</strong>) resolution</span></span></li>
<li><span><span>Accessing remote logins with SSH</span></span></li>
<li><span><span>Transferring files in Linux</span></span></li>
</ul>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Linux networking concepts</h1>
                </header>
            
            <article>
                
<p><span><span>A network is a group of two or more computers or computing devices connected using any communication media, such as cables or wireless media. These devices may be located in the same geographical location or spread across the world. A network environment provides these three services:</span></span></p>
<ul>
<li><span><span>Enables connected devices to communicate with each other</span></span></li>
<li><span><span>Enables multiple users to share devices such as printers, copiers, scanners, and so on over the network<br/></span></span></li>
<li><span><span>Enables the sharing of files and managing of information across computers</span></span></li>
</ul>
<p><span><span>Most organizations use two types of network: one for communication with internal staff and another for the outside world. <strong>Intranet</strong> is the term used to define communication within the internal network of an organization and <strong>internet</strong> is used for external communication. The internet is also the largest network in the world and is popularly known as a network of networks.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Common terms used in Linux networking</h1>
                </header>
            
            <article>
                
<p><span><span>This section describes the various terms that are used to define computing devices and networking terminologies used in Linux.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">IP address</h1>
                </header>
            
            <article>
                
<p><span><span>Each device connected to a network must have at least one unique address that is used to identify that device on the network. This address is known as the IP address and it is essential for routing the packet from the source to the destination through the network. Information or data over the network is transferred in the form of packets. Each packet has a header attached to it containing the information required to route the packet from the source to the destination. There are two different types of IP address schemes available, called IPv4 and IPv6.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">IPv4</h1>
                </header>
            
            <article>
                
<p><span><span>IPv4 is a 32-bit logical address used by computing devices to communicate with each other using the TCP/IP protocol stack. It is generally expressed in the decimal notation of four octets, with each octet containing 8 bits separated by a dot. The value of each octet can vary from 0 to 255. This address can further be broken down into two parts; for example, a network part and host part:</span></span></p>
<ul>
<li><span><span><strong>Host part</strong>: The host part is used to identify a host on a subnet. No two hosts on the same subnet can have the same host part.</span></span></li>
<li><span><span><strong>Network part</strong>: The network part is used to identify a subnet. Hosts on the same subnet can communicate to each other without needing a router.</span></span></li>
</ul>
<p><span><span>By using 32 bits for addresses, we can have a maximum of 4.3 billion unique addresses, many of which are reserved and cannot be used. Hence, to meet future requirements, IPv6 with an 128-bit address was created.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">IPv6</h1>
                </header>
            
            <article>
                
<p><span><span>IPv6 uses 128 bits for addressing. It is expressed in eight octets, containing 16 bits each, separated by colon. The use of 128 bits provides the 3.4 × 10<sup>38</sup> unique addresses. The shifting of networked equipment and addresses from IPv4 to IPv6 requires a lot of understanding and effort. IPv6 does not have a broadcast address.</span></span></p>
<p><span><span>We will be restricting our discussion in this chapter to IPv4, as it is still more widely used and you will encounter it the most while performing networking.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Different classes of IP addressing</h1>
                </header>
            
            <article>
                
<p><span><span>IPv4 addresses are divided into <strong>five public</strong> classes named A, B, C, D, and E, and <strong>three private</strong> IP address classes.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Public classes</h1>
                </header>
            
            <article>
                
<p><span><span>There are five different public IP address classes from A to E. Here, classes A, B, and C are divided into two parts: <strong>network address</strong> (short for <strong>Net ID</strong>) and <strong>host address</strong> (short for <strong>Host ID</strong>). Net ID identifies the network and Host ID identifies the host on the network as shown in table here:</span></span></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Public class</span></span></strong></span></p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Octet 1</span></span></strong></span></p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Octet 2</span></span></strong></span></p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Octet 3</span></span></strong></span></p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Octet 4</span></span></strong></span></p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Range</span></span></strong></span></p>
</td>
</tr>
<tr>
<td>
<p><span><span><span>Class A</span></span></span></p>
</td>
<td>
<p><span><span>Net ID</span></span></p>
</td>
<td>
<p><span><span>Host ID</span></span></p>
</td>
<td>
<p><span><span>Host ID</span></span></p>
</td>
<td>
<p><span><span>Host ID</span></span></p>
</td>
<td>
<p><span><span><kbd>1.0.0.0</kbd> to <kbd>127.255.255.255</kbd></span></span></p>
</td>
</tr>
<tr>
<td>
<p><span><span><span>Class B</span></span></span></p>
</td>
<td>
<p><span><span>Net ID</span></span></p>
</td>
<td>
<p><span><span>Net ID</span></span></p>
</td>
<td>
<p><span><span>Host ID</span></span></p>
</td>
<td>
<p><span><span>Host ID</span></span></p>
</td>
<td>
<p><span><span><kbd>128.0.0.0</kbd> to <kbd>191.255.255.255</kbd></span></span></p>
</td>
</tr>
<tr>
<td>
<p><span><span><span>Class C</span></span></span></p>
</td>
<td>
<p><span><span>Net ID</span></span></p>
</td>
<td>
<p><span><span>Net ID</span></span></p>
</td>
<td>
<p><span><span>Net ID</span></span></p>
</td>
<td>
<p><span><span>Host ID</span></span></p>
</td>
<td>
<p><span><span><kbd>192.0.0.0</kbd> to <kbd>223.255.255.255</kbd></span></span></p>
</td>
</tr>
<tr>
<td>
<p><span><span><span>Class D</span></span></span></p>
</td>
<td colspan="4">
<p><span><span>Multicast address</span></span></p>
</td>
<td>
<p><span><span><kbd>224.0.0.0</kbd> to <kbd>239.255.255.255</kbd></span></span></p>
</td>
</tr>
<tr>
<td>
<p><span><span><span>Class E</span></span></span></p>
</td>
<td colspan="4">
<p><span><span>Reserved for the future</span></span></p>
</td>
<td>
<p><span><span><kbd>240.0.0.0</kbd> to <kbd>255.255.255.254</kbd></span></span></p>
</td>
</tr>
</tbody>
</table>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Private classes</h1>
                </header>
            
            <article>
                
<p><span><span><span>The following three IP address ranges are reserved for private use within the internal network of an organization.</span> <span>These IPv4 addresses can be used within a network, campus, and so on, and are not routable on the internet. Hence, if any packet contains any of these private IP addresses, it is dropped by the routers.</span> <span>Generally, the NAT mechanism is used for communicating with the public IP</span><span>v4</span> <span>address space when machines are working on private IPv4. The following table lists the private IPv4 address classes along with their address ranges and some special IPv4 addresses, such as link-local address and loopback address:</span></span></span></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td style="width: 30%">
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Private class</span></span></strong></span></p>
</td>
<td style="width: 35%">
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Address range</span></span></strong></span></p>
</td>
<td style="width: 14.551%">
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Subnet mask</span></span></strong></span></p>
</td>
<td style="width: 16.449%">
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Address block</span></span></strong></span></p>
</td>
</tr>
<tr>
<td style="width: 30%">
<p><span><span><span>Class A</span></span></span></p>
</td>
<td style="width: 35%">
<p><span><span><kbd>10.0.0.0</kbd> to <kbd>10.255.255.255</kbd></span></span></p>
</td>
<td style="width: 14.551%">
<p><kbd><span><span>255.0.0.0</span></span></kbd></p>
</td>
<td style="width: 16.449%">
<p><kbd><span><span>10.0.0.0 /8</span></span></kbd></p>
</td>
</tr>
<tr>
<td style="width: 30%">
<p><span><span><span>Class B</span></span></span></p>
</td>
<td style="width: 35%">
<p><span><span><kbd>172.16.0.0</kbd> to <kbd>172.31.255.255</kbd></span></span></p>
</td>
<td style="width: 14.551%">
<p><kbd><span><span>255.240.0.0</span></span></kbd></p>
</td>
<td style="width: 16.449%">
<p><kbd><span><span>172.16.0.0 /12</span></span></kbd></p>
</td>
</tr>
<tr>
<td style="width: 30%">
<p><span><span><span>Class C</span></span></span></p>
</td>
<td style="width: 35%">
<p><span><span><kbd>192.168.0.0</kbd> to <kbd>192.168.0.255</kbd></span></span></p>
</td>
<td style="width: 14.551%">
<p><kbd><span><span>255.255.0.0</span></span></kbd></p>
</td>
<td style="width: 16.449%">
<p><kbd><span><span>192.168.0.0 /16</span></span></kbd></p>
</td>
</tr>
<tr>
<td style="width: 30%">
<p><span><span><span>Loopback address</span></span></span></p>
</td>
<td style="width: 35%">
<p><span><span><kbd>127.0.0.0</kbd> to <kbd>127.255.255.255</kbd></span></span></p>
</td>
<td style="width: 14.551%">
<p><kbd><span><span>255.0.0.0</span></span></kbd></p>
</td>
<td style="width: 16.449%">
<p><kbd><span><span>127.0.0.0 /8</span></span></kbd></p>
</td>
</tr>
<tr>
<td style="width: 30%">
<p><span><span><span>Link-local address (APIPA)</span></span></span></p>
</td>
<td style="width: 35%">
<p><span><span><kbd>169.254.0.0</kbd> to <kbd>169.254.255.255</kbd></span></span></p>
</td>
<td style="width: 14.551%">
<p><kbd><span><span>255.255.0.0</span></span></kbd></p>
</td>
<td style="width: 16.449%">
<p><kbd><span><span>169.254.0.0 /16</span></span></kbd></p>
</td>
</tr>
</tbody>
</table>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Loopback address</h1>
                </header>
            
            <article>
                
<p><span><span><kbd>127.0.0.1</kbd> is a special address that always points to local system (localhost) and is used for the testing of various services. The network <kbd>127.0.0.0/8</kbd> is a loopback network of the local system. It enables server-client communication on a single system.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Link-local address or APIPA</h1>
                </header>
            
            <article>
                
<p><span><span>The link-local address or <strong>Automatic Private IP Addressing</strong> (<strong>APIPA</strong>) is used if a machine connected in a DHCP environment is unable to acquire an IP address from the DHCP sever. This also helps in establishing communication between machines on the same network by allocating them IP addresses in the range of <kbd>169.254.0.0/16</kbd>, if the DHCP server is not connected or down.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Netmask</h1>
                </header>
            
            <article>
                
<p><span><span>Netmask is used to identify a subnet. Binary AND operations of the 32-bit Host IP address with 32-bit netmask yields the network part of the address. The lowest possible address on a subnet is all zeros in the host part; it represents the network address<strong>.</strong> The highest possible address on a subnet is all ones in the host part; it represents the broadcast address for all hosts on a subnet. It is expressed in two forms. The conventional syntax uses a decimal representation of the network part while the new syntax uses CIDR notation to represent the network prefix (number of ones in the network address). </span></span><span><span>For example, we can r</span></span><span><span>epresent a 24-bit netmask in both these forms as shown below:</span></span></p>
<ul>
<li><span><span><strong>Conventional form</strong>: <kbd>255.255.255.0</kbd></span></span></li>
<li><span><span><strong>CIDR notation</strong>: <kbd>/24</kbd></span></span></li>
</ul>
<p><span><span>Let us assume that we are having following IP address and netmask information with us:</span></span></p>
<ul>
<li><kbd><span><span>10.1.1.212 / 8</span></span></kbd></li>
<li><kbd><span>192.168.1.100 / 24</span></kbd></li>
</ul>
<p><span>Now, using the above limited information we can find other related network information such as network address and broadcast address as given in the next table:</span></p>
<p>Network information for system having these details : <kbd>10.1.1.212 / 8 </kbd></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td style="width: 49.8057%">
<p class="CDPAlignCenter CDPAlign"><span><span><strong>Information description</strong></span></span></p>
</td>
<td style="width: 47.1943%">
<p class="CDPAlignCenter CDPAlign"><strong>Values</strong></p>
</td>
</tr>
<tr>
<td style="width: 49.8057%">
<p><span><span>IP address (host address)</span></span></p>
</td>
<td style="width: 47.1943%">
<p><kbd><span><span>10.1.1.212</span></span></kbd></p>
</td>
</tr>
<tr>
<td style="width: 49.8057%">
<p><span><span>Netmask (network prefix)</span></span></p>
</td>
<td style="width: 47.1943%">
<p><span><span><kbd>255.0.0.0/8 </kbd></span></span></p>
</td>
</tr>
<tr>
<td style="width: 49.8057%">
<p><span><span>Network address</span></span></p>
</td>
<td style="width: 47.1943%">
<p><kbd><span><span>10.0.0.0</span></span></kbd></p>
</td>
</tr>
<tr>
<td style="width: 49.8057%">
<p><span><span>Broadcast address</span></span></p>
</td>
<td style="width: 47.1943%">
<p><kbd><span><span>10.0.0.255</span></span></kbd></p>
</td>
</tr>
</tbody>
</table>
<p> </p>
<p><span>Network Information for system having these details :</span> <kbd>192.168.1.100 / 24 </kbd></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p class="CDPAlignCenter CDPAlign"><strong><span><span>Information description</span></span></strong></p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"><strong><span><span>Values</span></span></strong></p>
</td>
</tr>
<tr>
<td>
<p><span><span>IP address (host address)</span></span></p>
</td>
<td>
<p><kbd><span><span>192.168.1.100</span></span></kbd></p>
</td>
</tr>
<tr>
<td>
<p><span><span>Netmask (network prefix)</span></span></p>
</td>
<td>
<p><kbd><span><span>255.255.255.0/24 </span></span></kbd></p>
</td>
</tr>
<tr>
<td>
<p><span><span>Network address</span></span></p>
</td>
<td>
<p><kbd><span><span>192.168.1.0</span></span></kbd></p>
</td>
</tr>
<tr>
<td>
<p>Broadcast address</p>
</td>
<td><kbd>192.168.1.255</kbd></td>
</tr>
</tbody>
</table>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Gateway</h1>
                </header>
            
            <article>
                
<p><span><span>A gateway is generally a router device or computer that is used to connect two or more dissimilar networks. In the case of Linux, it is the entry in the kernel routing table that is used when none of the route entries are matched.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Hostname</h1>
                </header>
            
            <article>
                
<p><span><span>Hostname is a human-readable name associated with a machine IP address. A DNS server is used to map the hostname to the IP address and vice versa. We can view the hostname of any machine by typing <kbd>hostname</kbd> command without any argument as shown below:</span></span></p>
<pre><strong><span><span>$ hostname</span></span></strong></pre>
<div class="packt_infobox"><span><span>Every machine has got a special hostname that is, localhost associated with the loopback IP address <kbd>127.0.0.1.</kbd> This address is used for testing various services on the system.</span></span></div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Nameserver</h1>
                </header>
            
            <article>
                
<p><span><span><span>Nameserver is also known as the <strong>DNS server</strong>.</span> <span>T</span>he purpose of the DNS server is to convert the hostname to an IP address and vice versa. There is a default fixed order of files, which are looked up when doing DNS lookup in CentOS 7. This order is managed by the rules written in the <kbd>nsswitch.conf</kbd> file and can be altered by an administrator. The following two files are looked up when resolving a DNS query in system:</span></span></p>
<ul>
<li><span><span><strong><kbd>/etc/hosts</kbd></strong><span>: The entries made in this file are first looked up before forwarding the query to the DNS server. It is a kind of local database of hostnames and IP address mappings. It is also quite useful for small isolated networks.</span></span></span></li>
<li><span><span><strong><kbd>/etc/resolv.conf</kbd></strong>: <span>If the answer of DNS query is not found in the <kbd>/etc/hosts</kbd> file, then the query is passed to the DNS server mentioned in <kbd>/etc/resolv.conf</kbd>.</span> <span>This file can be updated using dhclient or manually.</span></span></span></li>
</ul>
<p>Following command is used to display the current settings of nameserver:</p>
<pre style="padding-left: 30px"><strong><span><span><span>$ </span><span>cat /etc/resolv.conf</span></span></span></strong></pre>
<p>After configuring the nameserver, verify the DNS connectivity using host command as shown here:</p>
<pre><span><span><strong><span>$ </span></strong><span><strong>host</strong> <strong>www.google.com</strong><a href="http://www.google.com/"/></span></span></span></pre>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">NetworkManager</h1>
                </header>
            
            <article>
                
<p><span><span>The NetworkManager is a GUI application used for the management of network settings. It comes with a daemon and Gnome applet to provide the network status and quick access for modification. The changes made using NetworkManager are stored in the <kbd>/etc/sysconfig/network-scripts</kbd> directory and thus it overrides any manual changes made there. If you want to configure the network connections manually by modifying the network scripts file, then NetworkManager should be disabled. NetworkManager provides a user-friendly method for manager network connections and is ideal for beginners.</span></span></p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Network interface naming conventions</h1>
                </header>
            
            <article>
                
<p><span><span>Conventionally, network interfaces in Linux are enumerated sequentially as <kbd>eth0</kbd>, <kbd>eth1</kbd>,</span></span> <kbd>eth2</kbd>, and so on.</p>
<p><span><span>The following table list the traditional names of interfaces with their descriptions:</span></span></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Interface name</span></span></strong></span></p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Description</span></span></strong></span></p>
</td>
</tr>
<tr>
<td>
<p><span><span><kbd>eth0</kbd></span></span>, <span><span><kbd>eth1</kbd>, and so on</span></span></p>
</td>
<td>
<p><span><span>Ethernet interfaces</span></span></p>
</td>
</tr>
<tr>
<td>
<p><span><span><kbd>wlan0</kbd>, <kbd>wlan1</kbd>, and so on</span></span></p>
</td>
<td>
<p><span><span>Wireless interfaces</span></span></p>
</td>
</tr>
<tr>
<td>
<p><span><span><kbd>eth0:1</kbd>, <kbd>eth0:2</kbd>, and so on</span></span></p>
</td>
<td>
<p><span><span>Alias interfaces</span></span></p>
</td>
</tr>
<tr>
<td>
<p><span><span><kbd>ppp0</kbd>,</span></span> <kbd>ppp1</kbd>, <span>and so on</span></p>
</td>
<td>
<p><span><span>Dial-up interface</span></span></p>
</td>
</tr>
<tr>
<td>
<p><kbd><span><span>bond0</span></span></kbd></p>
</td>
<td>
<p><span><span>First-bonded network device</span></span></p>
</td>
</tr>
<tr>
<td>
<p><kbd><span><span>virbr0</span></span></kbd></p>
</td>
<td>
<p><span><span>Internal bridge for virtual hosts</span></span></p>
</td>
</tr>
<tr>
<td>
<p><kbd><span><span>lo</span></span></kbd></p>
</td>
<td>
<p><span><span>Loopback interface</span></span></p>
</td>
</tr>
</tbody>
</table>
<p><span><span>Now, CentOS 7 has new default naming conventions. The interface name is based on hardware, topology, and device type.</span></span></p>
<p><span><span> </span></span><span><span>The following table illustrates the network interface naming convention in CentOS 7:</span></span></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Character in naming convention</span></span></strong></span></p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Description</span></span></strong></span></p>
</td>
</tr>
<tr>
<td>
<p><span><span>First two characters represent type of interface</span></span></p>
</td>
<td>
<ul>
<li><span><span><kbd>en</kbd>: Ethernet interface</span></span></li>
<li><span><span><kbd>wl</kbd>: Wlan interface</span></span></li>
<li><span><span><kbd>ww</kbd>: WWAN interface</span></span></li>
</ul>
</td>
</tr>
<tr>
<td>
<p><span><span>Next characters represent type of adapter</span></span></p>
</td>
<td>
<ul>
<li><span><span><kbd>o</kbd>: Onboard adapter</span></span></li>
<li><span><span><kbd>s</kbd>: Hotplug slot</span></span></li>
<li><span><span><kbd>p</kbd>: PCI card</span></span></li>
<li><span><span><kbd>x</kbd>: MAC address</span></span></li>
</ul>
</td>
</tr>
<tr>
<td>
<p><span><span>Last character is a number <kbd>N</kbd>, to represent an index, ID, or port</span></span></p>
</td>
<td>
<ul>
<li><span><span><kbd>N</kbd>: 0, 1, 2, and so on</span></span></li>
</ul>
</td>
</tr>
</tbody>
</table>
<p> </p>
<p><span>If a fixed name could not be determined using new interface naming scheme then the old conventional naming scheme such as <kbd>eth0</kbd> or <kbd>eth1</kbd> is used. The example of new interface naming scheme is given here</span><span>:</span></p>
<div>
<ul>
<li><span><kbd>eno1</kbd>: First embedded network interface</span></li>
<li><span><kbd>enp1s0</kbd>: The first PCI card network interface with hotplug slot index 0</span></li>
</ul>
</div>
<div class="packt_infobox"><span><span>If the biosdevname feature is enabled in the server, then this naming scheme is overridden with a different naming scheme.</span></span></div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using Linux networking commands</h1>
                </header>
            
            <article>
                
<p><span><span>This section discuss the various networking commands and basic utilities that are used to display or modify the existing network configurations.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Viewing IP address details</h1>
                </header>
            
            <article>
                
<p><span><span>In CentOS 7, we have three major utilities to display the device and address information:</span></span></p>
<ul>
<li><span><span>Newer IP command (<kbd>/sbin/ip</kbd>)</span></span></li>
<li><span><span>Almost obsolete <kbd>ifconfig</kbd> command from net-tools package (<kbd>/sbin/ifconfig</kbd>)</span></span></li>
<li><span><span>Versatile <kbd>netstat</kbd> command (<kbd>/usr/bin/netstat</kbd>)</span></span></li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using the IP command</h1>
                </header>
            
            <article>
                
<p><span><span>The <kbd>ip</kbd> is a very powerful utility that is used to perform many tasks. Multiple older utilities such as <kbd>ifconfig</kbd> and <kbd>route</kbd> command were earlier used to perform these functions. The absolute path of the <kbd>ip</kbd> command is <kbd>/sbin/ip</kbd>.</span></span></p>
<p><strong>Following are the examples to illustrate the usage of ip command:</strong></p>
<ul>
<li><span><span>The following <kbd>ip</kbd> command is used to display the IP address:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong>$ /sbin/ip addr show</strong></pre>
<ul>
<li><span><span>The <kbd>ip</kbd> command can also be used to display statistics of the network performance (received and transmitted packets, errors, dropped counters, and so on) as shown in command line here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ ip -s link show enp0s3</span></span></strong></pre>
<ul>
<li><span><span>The </span></span><kbd>ip</kbd> <span><span>command can also be used to display the routing information as shown in command line here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ /sbin/ip route show</span></span></strong></pre>
<div class="packt_tip"><span><span><span>The <kbd>/sbin/ip</kbd> command can also be used to assign multiple IP addresses to a single device using aliases. Binding multiple IP addresses to a single NIC with a different label is useful in many cases (for example, in virtual hosting). Aliases are treated as separate interfaces and are generally configured when NetworkManager is turned off. The command to create an alias is as follows:<br/></span></span></span><kbd>$ ip addr add 10.1.1.250/24 dev enp0s8 label enp0s8:0</kbd>.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using ifconfig command</h1>
                </header>
            
            <article>
                
<p><span><span>This is an older command used to display or modify the current configuration of network interfaces. The usage of <kbd>ifconfig</kbd> command is now obsolete and it is replaced with the newer <kbd>ip</kbd> utility. Now, the <kbd>ip addr</kbd> and <kbd>ip link</kbd> commands are preferred to display network interface information in place of <kbd>ifconfig</kbd>.</span></span></p>
<p><span><span>The following table lists the popular options of <kbd>ifconfig</kbd> with their descriptions:</span></span></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td style="width: 32.8153%">
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Command</span></span></strong></span></p>
</td>
<td style="width: 65.1847%">
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Description</span></span></strong></span></p>
</td>
</tr>
<tr>
<td style="width: 32.8153%">
<p><kbd><span><span>$ ifconfig</span></span></kbd></p>
</td>
<td style="width: 65.1847%">
<p><span><span>Display the current configuration of active interfaces only</span></span></p>
</td>
</tr>
<tr>
<td style="width: 32.8153%">
<p><kbd><span><span>$ ifconfig -a</span></span></kbd></p>
</td>
<td style="width: 65.1847%">
<p><span><span>Display all interfaces information which are available in system, whether they are active or inactive</span></span></p>
</td>
</tr>
<tr>
<td style="width: 32.8153%">
<p><kbd><span><span>$ ifconfig eth0</span></span></kbd></p>
</td>
<td style="width: 65.1847%">
<p><span><span>Display the configuration of the specified interface <kbd>eth0</kbd></span></span></p>
</td>
</tr>
<tr>
<td style="width: 32.8153%">
<p><kbd><span><span>$ ifconfig eth0 up</span></span></kbd></p>
</td>
<td style="width: 65.1847%">
<p><span><span>Activate the network adapter <kbd>eth0</kbd>, if it is down.</span></span></p>
</td>
</tr>
<tr>
<td style="width: 32.8153%">
<p><kbd><span><span>$ ifconfig eth0 down</span></span></kbd></p>
</td>
<td style="width: 65.1847%">
<p><span><span>Deactivate the network adapter <kbd>eth0</kbd>, if it is up.</span></span></p>
</td>
</tr>
</tbody>
</table>
<p> </p>
<p class="mce-root">The <kbd>ifconfig</kbd><span> command can be used to assign an IP address and netmask to a network adapter. These are runtime changes and are lost after reboot. Following command line shows how to use ifconfig for making runtime assignment of IP address and netmask to an interface:</span></p>
<pre><strong><span>$ ifconfig eth0 192.168.1.51/24<br/></span></strong><strong><span>or<br/>$ ifconfig eth0 192.168.1.51 netmask 255.255.255.0</span></strong></pre>
<p><span><span><span>Some naive users still find</span></span>, the older <kbd>ifconfig</kbd> command easier to use, in comparison to the new and more versatile <kbd>ip</kbd> command.</span></p>
<div class="packt_tip"><span><span>The <kbd>ifconfig</kbd> utility is a part of the net-tools package. If this package is not installed on the system, then you may not get access to this utility on CentOS 7.</span></span></div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Netstat </h1>
                </header>
            
            <article>
                
<p><span><span>The <kbd>netstat</kbd> command can also be used to print interface details. To display kernel interface information for all the interfaces, the <kbd>-i</kbd> option is used with the <kbd>-e</kbd> option to display the extended information for the interfaces as shown in command line here:</span></span></p>
<pre><span><span><strong>$ netstat -ie</strong> </span></span></pre>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Viewing the routing information</h1>
                </header>
            
            <article>
                
<p><span><span>Irrespective of the underlying IP addressing scheme, while communicating, the information needs to travel from a host on one network to a host on another network. Each host can have multiple routing tables, which decide how to route the traffic to a particular network from the host. The routing table makes sure the correct network interface is used for sending the packets to a destination network. We can also define the IP address of any intermediate router that is required to reach the destination network in routing table.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using the ip route command</h1>
                </header>
            
            <article>
                
<p><span><span>The <kbd>ip route</kbd> command is one of the many features of the newer <kbd>ip</kbd> utility. This command can be used to display or modify the existing IP routing table. We can add, delete, or modify specific static routes to specific hosts or networks using <kbd>ip route</kbd> command.</span></span></p>
<p><strong>Following are the examples to illustrate the usage of<span> </span>ip route<span> </span>command:</strong></p>
<ul>
<li><span><span>We can use <kbd>ip route</kbd> command to display the current routing table as follows:</span></span></li>
</ul>
<pre style="padding-left: 60px"><span><span><strong>$ ip route</strong> </span></span></pre>
<ul>
<li><span><span>The <kbd>ip route</kbd> command can be used to add static routes in routing table. In the following example we <strong>add</strong> <strong>network routing</strong> information for <kbd>25.25.25.0/24</kbd> network, to route it through <kbd>eth0</kbd> interface, as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><span><span><strong>$ ip route add 25.25.25.0/24  dev  eth0</strong><br/></span></span></pre>
<ul>
<li>The <kbd>ip route</kbd> command can also be used to <strong>add host</strong> <strong>routing</strong> information. In the following example we add information to route IPv4 address <kbd>15.15.15.15</kbd> through <kbd>eth1</kbd> interface: </li>
</ul>
<pre style="padding-left: 60px"><span><span><strong>$ ip route add 15.15.15.15 dev eth1</strong></span></span></pre>
<ul>
<li><span><span>The <kbd>ip route</kbd> command can also be used to delete the static route from the routing table. In the following example we <strong>delete</strong> <strong>network routing</strong> information for <kbd>25.25.25.0/24</kbd> network as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><span><span><strong>$ ip route del 25.25.25.0/24 dev eth0</strong></span></span></pre>
<ul>
<li>The<span> </span><kbd>ip route</kbd><span> </span>command can also be used to<span> <strong>delete</strong></span><strong> host</strong><span> </span><strong>routing</strong><span> </span>information. In the following example we delete information to route IPv4 address <kbd>15.15.15.15</kbd> through <kbd>eth1</kbd> interface: </li>
</ul>
<pre style="padding-left: 60px"><span><span><strong>$ ip route del 15.15.15.15 dev eth0</strong></span></span></pre>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using route command</h1>
                </header>
            
            <article>
                
<p><span><span>The <kbd>route</kbd> command is also used to modify the routing table.</span></span></p>
<p><strong>Following are the examples to illustrate the usage of<span> </span>route<span> </span>command:</strong></p>
<ul>
<li><span><span>Use the <kbd>route</kbd> command as shown here to display the current routing table:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ route -n</span></span></strong></pre>
<ul>
<li><span><span>The <kbd>route</kbd> command can also be used to add a static route in the routing table. The following route command syntax is used to add a network routing information in the routing table:</span></span></li>
</ul>
<pre style="padding-left: 60px"><span><span><strong>$ route add -net x.x.x.x/prefix dev &lt;devname&gt;</strong></span></span></pre>
<ul>
<li><span>The following route command syntax is used to add a host routing information in the routing table:</span></li>
</ul>
<pre style="padding-left: 60px"><span><span><strong>$ route add -host x.x.x.x dev &lt;devname&gt;</strong></span></span></pre>
<ul>
<li><span><span>The <kbd>route</kbd> command can also be used to delete a static route in the routing table</span></span><span><span>. The following <kbd>route</kbd> command syntax is used to delete a network routing information in the routing table:</span></span></li>
</ul>
<pre style="padding-left: 60px"><span><span><strong>$ route del -net x.x.x.x/prefix dev &lt;devname&gt;</strong></span></span></pre>
<ul>
<li><span>The following <kbd>route</kbd> command syntax is used to delete a host routing information in the routing table:</span></li>
</ul>
<pre style="padding-left: 60px"><span><span><strong>$ route del -host x.x.x.x dev &lt;devname&gt;</strong> </span></span></pre>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using netstat command</h1>
                </header>
            
            <article>
                
<p><span>The <kbd>netstat</kbd> command, which is known as network statistics, is a versatile command with lots of features. This command is used to print network connections details, kernel routing table information, interface statistics, open ports, and so on. In this section, we restrict ourselves to the usage of the </span><kbd>netstat</kbd> command to fetch the routing table information only. </p>
<p><strong>Following are the examples to illustrate the usage of<span><span> </span></span>netstat command.</strong></p>
<ul>
<li><span><span>Use the <kbd>netstat</kbd> command to display the kernel routing table information with the <kbd>-r</kbd> option as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ netstat -r</span></span></strong></pre>
<ul>
<li><span><span>Use the <kbd>netstat</kbd> command to display the kernel routing table information without resolving the hostname or port names as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ netstat -anr</span></span></strong></pre>
<div class="packt_infobox"><span><span><kbd>netstat</kbd> is one of the few commands that is available by default on Unix-like operating systems and Windows operating systems as well.</span></span></div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Gateway</h1>
                </header>
            
            <article>
                
<p><span><span>We can add or delete the default gateway at run-time using the <kbd>route</kbd> command. The default gateway tells us where to send the packet if none of the network or host entry in routing table matches with the destination IP address of packet.</span></span></p>
<p><span><span>The following command line is used to delete the default gateway from the routing table:</span></span></p>
<pre><strong><span><span>$ route del default gw &lt;ip_address_of_default_gateway&gt;</span></span><br/></strong></pre>
<p><span>The following command line is used to add the default gateway in the routing table:</span></p>
<pre><strong><span>$ route add default gw &lt;ip_address_of_default_gateway&gt;</span></strong></pre>
<p><span><span>To add same permanent gateway for all the interfaces, we can modify the <kbd>/etc/sysconfig/network</kbd> file and add the following entry:</span></span></p>
<pre><strong><span><span>GATEWAY=&lt;ip_address_of_new_default_gateway&gt;</span></span></strong></pre>
<p><span><span>To assign different gateway entries for each interface, we modify the </span></span><kbd>/etc/sysconfig/network-scripts/ifcfg-&lt;interfacename&gt;</kbd> <span><span>configuration file as follows:</span></span></p>
<pre><strong><span><span>GATEWAY=&lt;ip_address_of_new_default_gateway&gt;</span></span></strong></pre>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Viewing nameserver details</h1>
                </header>
            
            <article>
                
<p><span><span>The nameserver or DNS server information is stored in the <kbd>/etc/resolv.conf</kbd> file. This file can be updated using dhclient or NetworkManager or by an administrator, manually. In this file, we can specify a maximum of three</span></span> nameserver <span><span>directives in their order of precedence from top to bottom.</span></span></p>
<p><span><span>The contents of nameserver configuration file can be viewed as shown here:</span></span></p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/dc5a9b9e-67f0-4b6b-b362-16285f82cfca.png" style="width:18.08em;height:3.50em;" width="464" height="89"/></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Network troubleshooting utilities</h1>
                </header>
            
            <article>
                
<p><span><span>In this section, we will learn about some networking tools/troubleshooting utilities. Networking tools are quite useful for monitoring and debugging network issues such as network connectivity and network traffic.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using ethtool command </h1>
                </header>
            
            <article>
                
<p><span><span>The</span></span> <kbd>ethtool</kbd> <span><span>is a utility for displaying and configuring Ethernet card driver and hardware settings. Changes made using <kbd>ethtool</kbd> are runtime changes and not persistence changes.</span></span></p>
<p><strong>Following are the examples to illustrate the usage of ethtool command:</strong></p>
<ul>
<li><span><span>Display the Ethernet interface's current settings using <kbd>ethtool</kbd> command as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ ethtool enp0s3</span></span></strong></pre>
<ul>
<li><span><span>Display the Ethernet interface driver settings using <kbd>ethtool</kbd> command as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ ethtool -i enp0s3</span></span></strong></pre>
<p class="mce-root"/>
<ul>
<li><span><span>Modifying the Ethernet interface settings using <kbd>ethtool</kbd> command as shown h:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ ethtool --change enp0s3 speed 10 duplex half autoneg off</span></span></strong></pre>
<ul>
<li><span><span>Blink the Ethernet interface port light for 10 seconds for identification using <kbd>ethtool</kbd> command as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><span><span><strong>$ ethtool --identify enp0s3 10</strong> </span></span></pre>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using ping command</h1>
                </header>
            
            <article>
                
<p><span><span>The <kbd>ping</kbd> command is used to verify the network connectivity of a remote host. It can tell you whether the machine connected to the network is online and responding. It also provides stats for network packet loss and latency measurement.</span></span></p>
<p><strong>Following are the examples to illustrate the usage of ping command:</strong></p>
<ul>
<li><span><span>The ping command can be used to identify the status of a remote host (if it's alive or not) as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ ping &lt;hostname_or_host_ipaddress&gt;<br/></span></span><span><span>$ ping 8.8.8.8</span></span></strong></pre>
<ul>
<li>The ping command can be used send the <kbd>ping</kbd> request through a specific interface as shown here:</li>
</ul>
<pre style="padding-left: 60px"><span><span><strong>$ ping -I eth0 8.8.8.8</strong> </span></span></pre>
<ul>
<li><span><span>The <kbd>ping</kbd> command can be used to troubleshoot DNS issues by sending ping request to a specified URL. If we are able to <kbd>ping</kbd> a URL using its IP address, but we are not getting reply of ping by specifying name of same URL, it means our DNS server is not set up properly or not working properly. An example of <kbd>ping</kbd> command with URL is shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ ping www.google.com</span></span></strong></pre>
<ul>
<li><span><span>The <kbd>ping</kbd> command can also be used to send the fixed number of packets using the <kbd>-c</kbd> option as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ ping -c 4 8.8.8.8</span></span></strong></pre>
<div class="packt_infobox"><span><span>In the case of Windows, by default, the <kbd>ping</kbd> command sends only four packets, whereas in the case of Linux, the <kbd>ping</kbd> command will continue to send the packets by default unless its execution is aborted by pressing <em>Ctrl </em>+ <em>C</em>.</span></span> ICMP ping cannot be considered a durable diagnostic tool, just one of many. The network diagnostic depends on many factors in a network. At the same time, ICMP ping is the most basic and default utility, which every system user should know how to use.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using tracepath command</h1>
                </header>
            
            <article>
                
<p><span><span>The <kbd>tracepath</kbd> command is used to trace the path from the origin to the destination. Each line in the <kbd>tracepath</kbd> output represents a router (hop) that the packet passes through.</span></span></p>
<p><span><span>The example of <kbd>tracepath</kbd> command is shown in image here:</span></span></p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/905491d9-a532-4079-a6e9-4c39e01ef9f6.png" style="width:43.67em;height:16.50em;" width="926" height="350"/></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using traceroute command</h1>
                </header>
            
            <article>
                
<p><span><span>This command is used to display or inspect the network path taken to reach the destination by a packet. It is quite useful in troubleshooting network delays and errors.</span></span></p>
<p><span><span>By default, the <kbd>traceroute</kbd> and <kbd>tracepath</kbd> commands use UDP packets for probing the path to a destination. The <kbd>traceroute</kbd> command has options to inspect the path using ICMP (</span></span><kbd>-I</kbd><span><span>) or TCP (<kbd>-T</kbd>) packets, if IDS or IPS blocks the UDP traffic. </span></span></p>
<p><strong>Following is an example to illustrate the usage of traceroute command</strong>:</p>
<ul>
<li><span><span>The <kbd>traceroute</kbd> command can be used to display the route taken by the packet to reach the network host as shown in image here:</span></span></li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/6d7edf18-f667-4d56-8b26-b05a88bd2655.png" style="width:43.92em;height:14.08em;" width="976" height="312"/></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using mtr command</h1>
                </header>
            
            <article>
                
<p><span><span>This command combines the functionalities of <kbd>ping</kbd> and</span></span> <kbd>traceroute</kbd><span><span>. It constantly polls a remote server and fetches the latency and performance changes over time. The example for usage of mtr command is shown here:</span></span></p>
<pre><strong><span><span>$ mtr www.google.com</span></span></strong></pre>
<p>Output on execution of preceding command is shown here:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/f03e5a02-f2c4-4748-b0f8-0f0f4522e4d8.png" style="width:37.33em;height:18.00em;" width="1060" height="510"/></p>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Verifying DNS connectivity</h1>
                </header>
            
            <article>
                
<p><span><span>There are multiple tools that are available in CentOS 7 to verify DNS connectivity.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using nslookup command</h1>
                </header>
            
            <article>
                
<p><span><span>This is a network administration tool for querying the DNS to obtain the domain name or IP address mapping or any other specific DNS record. It can be used in non-interactive mode as well as in interactive mode in CLI by a user.</span></span></p>
<p><strong><span><span>Following are the examples to illustrate the usage of</span></span> <span><span>nslookup</span></span> <span><span>command:</span></span></strong></p>
<ul>
<li>The usage of <kbd>nslookup</kbd> command to find the IP address of domain name is shown here:</li>
</ul>
<pre><strong><span><span>$ nslookup www.centos.org</span></span></strong></pre>
<ul>
<li><span><span>The usage of <kbd>nslookup</kbd> command to find the authoritative nameserver of a domain is shown here:<a href="http://www.centos.org/"><br/></a></span></span></li>
</ul>
<pre><strong><span><span>$</span></span> <span><span>nslookup -type=ns centos.org</span></span></strong></pre>
<ul>
<li><span><span>The <kbd>nslookup</kbd> command can be used to make a non-authoritative query of an MX record from a DNS server specified in</span></span> <kbd>/etc/resolv.conf</kbd> file is shown here:</li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nslookup -query=mx centos.org</span></span></strong></pre>
<ul>
<li><span><span>The <kbd>nslookup</kbd> command can be used to make an authoritative query of an MX record from the DNS server. We can specify the authoritative nameserver for the zone as an argument as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nslookup -query=mx centos.org ns1.centos.org</span></span><br/></strong></pre>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using host command</h1>
                </header>
            
            <article>
                
<p>Host is one of the simplest DNS lookup utilities. If the <kbd>host</kbd> command is used without any option, it prints the short summary for its argument DNS lookup.</p>
<p>The example of <kbd>host</kbd> command are shown in command line here:</p>
<pre><strong><span><span>$ host www.centos.org<a href="http://www.centos.org/"><br/></a></span></span><span><span>$ host 8.8.8.8</span></span></strong></pre>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using dig command</h1>
                </header>
            
            <article>
                
<p><span><span><strong>DIG</strong> (short for <strong>Domain Information Groper</strong>) is the most flexible and versatile DNS lookup utility for DNS troubleshooting. </span></span></p>
<p><strong><span>Following are the examples to illustrate the usage of</span></strong> <span>dig</span> <strong><span>command:</span></strong></p>
<ul>
<li>The usage of <kbd>dig</kbd> command to find the IP address of a domain name is shown in command line here:</li>
</ul>
<pre><strong><span><span>$ dig centos.org</span></span></strong></pre>
<ul>
<li><span><span>The <kbd>dig</kbd> command can be use to return only an IP address by making a short DNS lookup as shown in command line here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ dig centos.org +short</span></span></strong></pre>
<ul>
<li><span><span>The <kbd>dig</kbd> command can be used with an option to turn off extra information and display only the required answer as shown in command line here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ dig centos.org MX +noall +answer<br/></span></span><span><span>$ dig centos.org NS +noall +answer<br/></span></span><span><span>$ dig centos.org ANY +noall +answer</span></span></strong></pre>
<ul>
<li><span><span>The <kbd>dig</kbd> command can be used to perform the reverse lookup (find out the hostname of the specified IP address) by using the <kbd>-x</kbd> option as shown in command line here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ dig -x 8.8.8.8 +short</span></span></strong></pre>
<div class="packt_infobox">DIG is a flexible and versatile tool. It is recommended to refer the manual of the <kbd>dig</kbd> utility (<kbd>$ man dig</kbd>). </div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Finding local ports and services information</h1>
                </header>
            
            <article>
                
<p><span><span>There are multiple services running on standard logical ports in the Linux system. Well-known ports and their related service entries are available in the <kbd>/etc/services</kbd> file. It's vital to identify the status of running services in the system. There are multiple commands such as <kbd>netstat</kbd>, <kbd>ss</kbd>, and so on that are used to find out the status of running services in localhost.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using the ss command</h1>
                </header>
            
            <article>
                
<p><span><span>The <kbd>ss</kbd> command is another utility used to view socket statistics, similar to the <kbd>netstat</kbd> command. The advantage of using <kbd>ss</kbd> is that it can display more TCP and connection state information than other tools that exist by default. </span></span></p>
<p>An example of <kbd>ss</kbd> command usage is shown here:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/1363275e-00a9-4e81-ab2d-c39d5d1e85f5.png" style="width:40.58em;height:12.58em;" width="915" height="284"/></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Using the netstat command</h1>
                </header>
            
            <article>
                
<p><span><span>As discussed earlier, the <kbd>netstat</kbd> command is used to display all the active connections and routing tables information. This command is useful for monitoring performance and troubleshooting.</span></span></p>
<p><span>An example of </span><kbd>netstat</kbd><span> command usage is shown here:</span></p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/5ea05706-ca1d-4ba8-99a1-d08aa51610fb.png" style="width:41.33em;height:13.08em;" width="974" height="309"/></p>
<p class="mce-root"/>
<p class="mce-root"/>
<p><span><span>Here is a table listing the popular options used with the <kbd>ss</kbd> and <kbd>netstat</kbd> commands:</span></span></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Option</span></span></strong></span></p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Description</span></span></strong></span></p>
</td>
</tr>
<tr>
<td>
<p><kbd><span><span>-a</span></span></kbd></p>
</td>
<td>
<p><span><span>Display all listening and non-listening sockets</span></span></p>
</td>
</tr>
<tr>
<td>
<p><kbd><span><span>-n</span></span></kbd></p>
</td>
<td>
<p><span><span>Display numbers instead of services name</span></span></p>
</td>
</tr>
<tr>
<td>
<p><kbd><span><span>-t</span></span></kbd></p>
</td>
<td>
<p><span><span>Display TCP sockets</span></span></p>
</td>
</tr>
<tr>
<td>
<p><kbd><span><span>-u</span></span></kbd></p>
</td>
<td>
<p><span><span>Display UDP sockets</span></span></p>
</td>
</tr>
<tr>
<td>
<p><kbd><span><span>-l</span></span></kbd></p>
</td>
<td>
<p><span><span>Display only listening sockets</span></span></p>
</td>
</tr>
<tr>
<td>
<p><kbd><span><span>-p</span></span></kbd></p>
</td>
<td>
<p><span><span>Display the process ID information of sockets</span></span></p>
</td>
</tr>
</tbody>
</table>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Web utilities</h1>
                </header>
            
            <article>
                
<p><span><span>This section discusses the various command-line-based web utilities such as command-line downloaders, command-line web browsers, and so on.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Graphical and non-graphical web browsers</h1>
                </header>
            
            <article>
                
<p><span><span>Web browsers are application software used to retrieve, transmit, or process information using the <strong>World Wide Web</strong> (<strong>WWW</strong>) protocol. In simple words, they send requests to web servers and display the response received from the web server.</span></span></p>
<p><span><span>Most of the time, we use graphical web browsers such as Firefox, Google Chrome, Opera, and so on, however, sometimes we do not have graphical environment and we still need to access websites. In those situations, we can use non-graphical browsers such as Lynx, elinks, W3M, and so on.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Command-line file downloader (wget)</h1>
                </header>
            
            <article>
                
<p><span><span>The <kbd>wget</kbd> command is one of the most popular non-interactive command-line file downloaders in Linux. It can download multiple files/directories and can work in the background as well. The downloaded web page can be opened with any graphical or non-graphical browser.</span></span></p>
<p><span><span>Some of its popular features are as follows:</span></span></p>
<ul>
<li class="mce-root">Support of HTTP<span>, HTTPS, and FTP protocols, as well as retrieval through HTTP proxies</span></li>
<li class="mce-root"><span>Resume partial downloads</span></li>
<li class="mce-root">Large file downloads</li>
</ul>
<ul>
<li class="mce-root">Recursive downloads for mirroring a website</li>
<li class="mce-root">Password-required downloads</li>
</ul>
<p><span><span>The syntax of <kbd>wget</kbd> command is shown here:</span></span></p>
<pre><strong>$ wget   &lt;url&gt;</strong></pre>
<div><span>An example of </span><kbd>wget</kbd><span> command usage is shown here:</span></div>
<p class="CDPAlignCenter CDPAlign"><img src="Images/a4a864a8-e34a-4e2a-8d42-4513cd5ecef5.png" width="1074" height="273"/></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Command-line download and upload using curl</h1>
                </header>
            
            <article>
                
<p><span><strong>Curl</strong> <span>(short for <strong>Client URL Library</strong>) is a</span> <span>non-interactive</span> <span>command-line tool to automate HTTP jobs done using web browsers</span> <span>and many more functions.</span> <span>Using curl, one can download multiple files or upload files to a URL using URL-based syntax.</span></span></p>
<p><span>An example of </span><kbd>curl</kbd><span> command usage is shown here:</span></p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/f0300423-0edf-4639-8f75-ddd52a9d8efd.png" width="894" height="176"/></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Managing a network with nmcli</h1>
                </header>
            
            <article>
                
<p><span><span>There are several tools available in Linux for the management of a network, however in CentOS 7, the additional <kbd>nmcli</kbd> utility has simplified and speeded up the setup of networking. <kbd>nmcli</kbd> is an acronym for the NetworkManager command line and is used to control the network-manager utility from the command line. The <kbd>nmtui</kbd> utility used to be a favorite of system administrators, however <kbd>nmcli</kbd> saves a lot of time and its capability to be used in script has make it one of the best networking tools in Linux.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Defining basic terms</h1>
                </header>
            
            <article>
                
<p><span><span>Following are the few basic terms which are used with <kbd>nmcli</kbd> and hence an overview of these will help us in understanding it better.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Device or interface</h1>
                </header>
            
            <article>
                
<p><span><span>A device is a network interface such as <kbd>eno1</kbd>, <kbd>eno2</kbd>, <kbd>enp0s1</kbd>, <kbd>eth0</kbd>, and so on.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Connection</h1>
                </header>
            
            <article>
                
<p><span><span>A connection in the context of <kbd>nmcli</kbd> is a collection of settings or configurations used to store a state of device. A single device can have multiple connections, however only one connection may be active at one time.</span></span></p>
<p><span><span>For example, a DHCP configuration of the network interface can be stored in one connection and a static configuration of the network interface can be stored in another state. This helps in switching connections rapidly, without changing the configuration manually every time. </span></span><span><span>Connection is also popularly known as <strong>connection profile.</strong></span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Displaying network information using nmcli</h1>
                </header>
            
            <article>
                
<p><span><span>We can display the list of active connections or all saved connections using the <kbd>nmcli</kbd> command.</span></span></p>
<p><strong>Following are the examples to illustrate the usage of</strong> nmcli <strong>command for displaying network information:</strong></p>
<ul>
<li><span><span>Display the list of all connections using <kbd>nmcli</kbd> command as follows:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nmcli con show</span></span></strong></pre>
<ul>
<li><span><span>Display only the active connections using <kbd>nmcli</kbd> command as follows:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nmcli con show --active</span></span></strong></pre>
<ul>
<li><span><span>Display the details of a connection by specifying the connection ID (<kbd>NAME</kbd>) using <kbd>nmcli</kbd> command as follows:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nmcli con show "enp0s3"</span></span></strong></pre>
<p style="padding-left: 60px"><span><span>An example of <kbd>nmcli</kbd> command usage to display connection state is shown here:</span></span><strong><span><span><br/></span></span></strong></p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/3841a153-c139-4ce8-bdea-0b0c93cf7893.png" style="width:40.08em;height:30.67em;" width="806" height="616"/></p>
<ul>
<li><span><span>Display the device (interface) status as connected or disconnected using <kbd>nmcli</kbd> command as follows:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nmcli dev status</span></span></strong></pre>
<ul>
<li><span><span>Display the device details using <kbd>nmcli</kbd> command as follows:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nmcli dev show enp0s3</span></span></strong></pre>
<p><span>An example of <kbd>nmcli</kbd> command to display the device details is shown here:</span></p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/fd80c2b6-e80d-441b-92b1-13ab31be010e.png" style="width:36.50em;height:24.08em;" width="804" height="531"/></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating network connections using nmcli</h1>
                </header>
            
            <article>
                
<p><span><span>We can create new connections or a connection profile using the <kbd>nmcli</kbd> command. While creating a connection profile, the order of arguments plays an important role. We can specify IP address, gateway, and so on. The connection argument must include the connection type, interface name, and connection name argument to create a connection profile. The additional details such as DNS server are set after the creation of a connection profile by modifying it (connection profile) later on.</span></span></p>
<p class="mce-root"/>
<p><strong><span><span>Following are the examples to illustrate the usage of</span></span></strong> <strong><span><span>nmcli</span></span></strong> <strong><span><span>command for creating a new connection profile:</span></span></strong></p>
<ul>
<li><span><span>Create a new connection profile named <kbd>dhcp</kbd> which will autoconnect as an Ethernet connection on the <kbd>enp0s8</kbd> device using DHCP connectivity as shown here:</span></span></li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/f7def3bf-f5b2-46a0-a136-98c97a551796.png" style="width:39.08em;height:9.00em;" width="862" height="199"/></p>
<ul>
<li><span><span>Create another new connection profile named <kbd>static</kbd> and specify an IP address and gateway <kbd>nmcli</kbd> command. Also set the auto connect off on booting as shown here:</span></span></li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/30a3ca67-7b07-408d-8e15-f06f34b4a6da.png" width="931" height="87"/></p>
<ul>
<li><span><span>Display the connection profiles that exist in the system using <kbd>nmcli</kbd> command as shown here:</span></span></li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/0ee48fc3-e835-4b09-a3da-b990e31fae5e.png" style="width:30.17em;height:6.50em;" width="713" height="153"/></p>
<ul>
<li><span><span>Change the connection profile of the existing device <kbd>enp0s8</kbd> to static using <kbd>nmcli</kbd> command, as shown here:</span></span></li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/932029c3-9a87-4f7d-a99b-a70a81b42a5e.png" style="width:36.25em;height:15.17em;" width="938" height="392"/></p>
<ul>
<li><span><span>Switch the connection profile of the device <kbd>enp0s8</kbd> again to</span></span> <kbd>dhcp</kbd> using <kbd>nmcli</kbd> command as shown here:</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/ef5ddcfd-428e-45ff-9111-fd0f5a212034.png" style="width:37.67em;height:9.58em;" width="936" height="239"/></p>
<div class="packt_tip"><span><span>The option we have to give as an argument while creating the nmcli connection profile depends on the type used. To view all the options available, we can type <kbd>nmcli con add help</kbd> in the command line.</span></span></div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Modifying network interfaces using nmcli</h1>
                </header>
            
            <article>
                
<p><span><span>An existing connection profile can be modified using the <kbd>nmcli con mod</kbd> command. Additional settings such as DNS servers can be specified here. Some properties, such as IP addresses and gateways, have different names to the name which was used while creating the connection profile.</span></span></p>
<p><span><span>The command <kbd>nmcli con mod</kbd> is followed by arguments which are a set of key/value pairs. The <kbd>nmcli con show &lt;connection_profile_name&gt;</kbd> command is used to list the current key values for a connection.</span></span></p>
<p class="mce-root"/>
<p><span><span>When modifying a DHCP connection profile to static, the profile <kbd>ipv4.method</kbd> property key should be set as</span></span> <kbd>manual</kbd>:</p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Property name while creating</span></span></strong></span></p>
</td>
<td>
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Property name while modifying</span></span></strong></span></p>
</td>
</tr>
<tr>
<td>
<p><kbd><span><span>ip4</span></span></kbd></p>
</td>
<td>
<p><kbd><span><span>ipv4</span></span></kbd></p>
</td>
</tr>
<tr>
<td>
<p><kbd><span><span>gw4</span></span></kbd></p>
</td>
<td>
<p><kbd><span><span>gwv4</span></span></kbd></p>
</td>
</tr>
</tbody>
</table>
<p> </p>
<p><strong>Following are the examples to illustrate the usage of nmcli con mod command to modify network interface settings:</strong></p>
<ul>
<li><span><span>Turn off auto connect for a connection profile as shown in command line here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nmcli con mod "static" connection.autoconnect no</span></span></strong></pre>
<ul>
<li><span><span>Specify a DNS server using <kbd>nmcli con mod</kbd> command as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nmcli con mod "static" ipv4.dns "1.1.1.1"</span></span></strong></pre>
<ul>
<li><span><span>We can further add more values to a key by using the <kbd>+</kbd> or <kbd>-</kbd> symbol in front of the argument. We can also add another DNS server using <kbd>nmcli con mod</kbd> command as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nmcli con mod "static" +ipv4.dns "8.8.8.8"</span></span></strong></pre>
<ul>
<li><span><span>We can change the static IP address and gateway for a connection profile as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nmcli con mod  "static"  ipv4.address  "50.50.50.50/24" ipv4.gateway  "50.50.50.254"</span></span></strong></pre>
<ul>
<li><span><span>We can assign a secondary IP address to the same interface without a gateway in an existing profile as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nmcli con mod "static" +ipv4.addresses "70.70.70.100/16"</span></span></strong></pre>
<ul>
<li><span><span>To activate the changes, the connection profile needs to be activated using up with <kbd>nmcli con</kbd> command as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nmcli con up "static"</span></span></strong></pre>
<ul>
<li><span><span>Delete a connection profile using <kbd>nmcli del</kbd> command as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nmcli del "static"</span></span></strong></pre>
<ul>
<li><span><span>Disable all managed interfaces using <kbd>nmcli</kbd> command as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nmcli net off</span></span></strong></pre>
<ul>
<li><span><span>Bring down an interface by temporarily disconnecting the device as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nmcli dev dis enp0s8</span></span></strong></pre>
<ul>
<li><span><span>Bring up an interface by connecting the device as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nmcli dev con enp0s8</span></span></strong></pre>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Editing network configuration files</h1>
                </header>
            
            <article>
                
<p><span><span>In the previous section, we looked at how <kbd>nmcli</kbd> is used to configure static and dynamic IP addressing. Apart from the NetworkManager command-line interface and GUI interface, we can configure networking manually using network interface configuration files. At any one time, we can either configure networking using network interface files manually or using NetworkManager, but not both simultaneously. The location of the network interface files (scripts) varies from one Linux distribution to another. In the case of CentOS 7, the network interface configuration files are stored in the <kbd>/etc/sysconfig/network-scripts/</kbd> folder and their naming conventions begin with</span></span> <kbd>ifcfg-&lt;device_name&gt;</kbd>.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Configuring networking options in static and dynamic modes</h1>
                </header>
            
            <article>
                
<p><span><span><span>We can configure networking manually in static IP addressing or DHCP IP addressing modes by modifying network interface config files.</span></span></span></p>
<p><strong>Following are the examples to illustrate how networking is configured manually in CentOS 7:</strong></p>
<ul>
<li><span><span><span>Dynamic (<kbd>dhcp</kbd>) configuration of the <kbd>ifcfg</kbd> file is shown here:</span></span></span></li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/4e6df568-99a1-4ee2-9375-ddd6d108caf6.png" style="width:33.17em;height:8.92em;" width="952" height="255"/></p>
<ul>
<li><span><span><span>Static configuration of the <kbd>ifcfg</kbd> file is explained as follows:</span></span></span></li>
</ul>
<p style="padding-left: 90px"><span><span>If more than one value of an IP address, prefix, or gateway is to be assigned in static configuration, then it is suffixed with a number at the end. If multiple DNS server are to be assigned, then they are numbered in their order of lookup, as shown here:</span></span></p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/6903575c-d8a8-4576-9803-f76243f700cf.png" style="width:41.67em;height:13.67em;" width="1278" height="420"/></p>
<p><span><span>After making the desired changes to the configuration files, the networking service is to be restarted, or you can run the <kbd>nmcli con reload</kbd> command. This will make NetworkManager re-read the configuration files and apply changes. When reloading the <kbd>nmcli</kbd> configuration, the interface needs to be brought up and down once, for changes to come into effect as shown here:</span></span></p>
<pre><strong><span><span>$ nmcli con reload<br/></span></span><span><span>$ nmcli con down "static"<br/></span></span><span><span>$ nmcli con up "static"</span></span></strong></pre>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Configuring hostnames and name resolutions</h1>
                </header>
            
            <article>
                
<p><span><span>Hostname and DNS servers play an important role in networking as a machine is reachable in a network either by the IP address or hostname. The DNS server is responsible for the IP address to domain name and domain name to IP address conversion. This process of conversion is also known as <strong>name resolution</strong> or <strong>DNS resolution</strong>.</span></span></p>
<p><span><span>Since CentOS 7, the static host name has been stored in a new file, <kbd>/etc/hostname</kbd>. In earlier versions, it was stored in the <kbd>/etc/sysconfig/network</kbd> file. Now, a new command has been introduced with the name</span></span> <kbd>hostnamectl</kbd>, <span><span>to view and modify the hostname of machine.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Displaying and modifying the hostname</h1>
                </header>
            
            <article>
                
<p><span><span>The <kbd>hostname</kbd> command is used to view the hostname or to temporarily modify the hostname at runtime. And the <kbd>hostnamectl</kbd> command is used to permanently modify the hostname from command line.</span></span></p>
<p><strong><span><span>Following are the examples to illustrate the usage of</span></span> <span><span>hostname</span></span> <span><span>command:</span></span></strong></p>
<ul>
<li><span><span>View the fully qualified host name of CentOS 7 using the <kbd>hostname</kbd> command as shown here:</span></span></li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/19da4ce4-39b8-4877-84b8-c32a418a112a.png" style="width:16.75em;height:3.25em;" width="338" height="65"/></p>
<ul>
<li><span><span>Modify the fully qualified hostname temporarily at runtime, using the <kbd>hostname</kbd> command as shown here:</span></span></li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/072c3998-9838-4cfc-9935-660c350e4f18.png" style="width:22.25em;height:3.92em;" width="496" height="87"/></p>
<p class="mce-root"/>
<p><strong><span>Following are the examples to illustrate the usage of hostnamectl command:</span></strong></p>
<ul>
<li><span><span>View the hostname changes made using the</span></span> <kbd>hostnamectl</kbd> <span><span>command as shown in the following screenshot:</span></span></li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/e4bc03c0-924f-4503-b75e-e3e428b0d287.png" style="width:38.25em;height:14.50em;" width="1045" height="396"/></p>
<ul>
<li><span><span>Use the <kbd>hostnamectl</kbd> command to make permanent changes to the hostname as shown in following screenshot:</span></span></li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/0d183878-a7b4-4b06-b8d5-d9369665e364.png" style="width:31.33em;height:14.42em;" width="1053" height="486"/></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Modifying nameservers (DNS sever)</h1>
                </header>
            
            <article>
                
<p><span><span>The order of IP address to domain name and vice-versa lookup is already discussed earlier in this chapter. The information for the DNS server (nameserver) is stored in the <kbd>/etc/resolv.conf</kbd> file. The nameserver directive is followed by the IP address of a nameserver to query the IP lookup. A maximum of three nameserver directives can be specified in this file to provide backup if one is down.</span></span></p>
<p><span><span>DNS server entries in <kbd>/etc/resolv.conf</kbd> are managed by NetworkManager. We should add or modify the DNS server using <kbd>nmcli</kbd> or GUI NetworkManager if NetworkManager is running.</span></span></p>
<p><strong><span>Following examples are used to explain, how we can view or modify the nameserver of a system:</span></strong></p>
<ul>
<li><span><span>Display the nameserver details as shown here:</span></span></li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/595658a9-30f8-46aa-a72a-fc942b99c5c6.png" style="width:41.42em;height:12.75em;" width="652" height="201"/></p>
<ul>
<li><span><span>We can modify the</span></span> nameserver <span><span>entry by</span></span> adding the DNS server for a specific connection profile using <kbd>nmcli</kbd> as shown here:</li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ nmcli con mod &lt;connection_profile&gt; ipv4.dn &lt;ip_of_dns_server&gt;<br/></span></span><span><span>$ nmcli con mod  "static"  ipv4.dns "8.8.8.8"</span></span></strong></pre>
<p style="padding-left: 60px"><span><span>If NetworkManager is running, then manual modifications made in the <kbd>/etc/resolv.conf</kbd> file are overwritten by NetworkManager. Hence, for manually modifying and preserving the entries of <kbd>/etc/resolv.conf</kbd> file, we should first turn off NetworkManager and then modify them as shown here:</span></span></p>
<pre style="padding-left: 60px"><strong><span><span><span>$ vi /etc/resolv.coonf <br/></span></span></span><span><span>search mydomain.com<br/></span></span><span><span>nameserver 8.8.8.8<br/></span></span><span><span>nameserver 1.1.1.1</span></span></strong></pre>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Accessing remote logins with SSH</h1>
                </header>
            
            <article>
                
<p><span><span>SSH is an OpenSSH client program used for securely logging in to a remote machine for remote administration. It provides an authenticated encrypted communication channel between two hosts over an untrusted network.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Understanding OpenSSH</h1>
                </header>
            
            <article>
                
<p><span><span>The SSH component can be categorized into two parts. The first is OpenSSH server (sshd service) which is installed and run on a remote server to accept connections from OpenSSH Client. By default, it runs on</span></span> port <kbd>22</kbd><span><span> using TCP protocol, which should be allowed by firewalls to accept OpenSSH client connections.</span></span></p>
<p><span><span>The second component is SSH Client, which should be installed on any client system (Linux, Windows, or macOS) from which you want to connect to the system running OpenSSH server for remote administration.</span></span></p>
<p><span><span>Thus, the SSH protocol facilitates secure communications between two systems using client-server architecture. SSH encrypts the user login session completely and thereby makes it difficult for intruders to sniff any unencrypted password and eliminates <strong>man-in-the-middle-attack</strong> (<strong>MITM</strong>) probability over the network. SSH authenticates using the private-public key scheme, which further eliminates the impersonation attack on the network.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Executing commands over SSH remotely</h1>
                </header>
            
            <article>
                
<p>Following are the examples to illustrate the basic usage of <kbd>ssh</kbd> command:</p>
<ul>
<li><span><span>The <kbd>ssh</kbd> command can be used to log in to a remote system using the current logged-in username of client requesting connection to ssh sever, as shown in command line and next screenshot:</span></span></li>
</ul>
<pre style="padding-left: 60px"><span><span><strong>$ ssh &lt;hostname_or_ip_address&gt;</strong> </span></span></pre>
<p class="CDPAlignCenter CDPAlign"><img src="Images/78d4b782-0d51-4cb3-9614-652d07ae847b.png" style="width:55.92em;height:11.58em;" width="1151" height="238"/></p>
<ul>
<li><span><span>The <kbd>ssh</kbd> command can be executed as another user by specifying the username and hostname/IP address as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><span><span><strong>$ ssh &lt;username&gt;@&lt;hostname_or_ip_address&gt;</strong><br/></span></span><span><span>or <br/></span></span><strong><span><span>$ ssh -l &lt;username&gt; &lt;hostname&gt;</span></span></strong></pre>
<p>An example of execution of ssh command as different user is shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/f12a48e0-e13f-4122-b5a9-fb253773ee33.png" width="722" height="237"/></p>
<ul>
<li><span><span> You can execute a command on the remote system via <kbd>ssh</kbd> as shown here:</span></span></li>
</ul>
<pre style="padding-left: 60px"><strong><span><span>$ ssh &lt;username&gt;@&lt;hostname_or_ip_address&gt; &lt;command_name&gt;</span></span></strong></pre>
<p>An example of executing a command on remote system via <kbd>ssh</kbd> is shown in the following screenshot:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/a53b1d2c-cbf4-48e1-99a4-18a07e9221d8.png" style="width:62.58em;height:24.67em;" width="1557" height="614"/></p>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Key-based SSH authentication</h1>
                </header>
            
            <article>
                
<p><span><span>SSH communication is secured using public key cryptography. When a user connects to the SSH-server using SSH-client for the first time, the SSH program stores the SSH-server public key in the user's home directory inside a file, <kbd>known_hosts</kbd>, in a hidden folder named <kbd>~/.ssh/</kbd>, as shown in the following screenshot:</span></span></p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/f8c51c92-30d9-46c6-8771-813f1e46073c.png" width="954" height="247"/></p>
<p><span><span>The following screenshot shows an example of a public key fingerprint of the remote host being stored in the client's known host file:</span></span></p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/675ce68b-b7cd-42b7-b81e-2cf95062df54.png" width="979" height="155"/></p>
<p><span><span>Now, subsequently whenever ssh-client connects to the server, it compares the public key sent by the server to the public key of the server stored in the <kbd>~/.ssh/known_hosts</kbd> file. If the public key does not match, the client assumes that the network traffic is being hijacked or the server to which the connection is being made is not the same, and hence SSH-client breaks the connection, as shown here:</span></span></p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/f61e3004-6c77-46c9-91ee-38a2f9908204.png" width="1104" height="356"/></p>
<p><span><span>It is also a possibility that the server was reformatted or the server key replaced for any legitimate reason. In such circumstances, the user needs to update their <kbd>~/.ssh/known_hosts</kbd> files by deleting the old keys to enable logging in to the server.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Configuring ssh-keygen for password-less authentication</h1>
                </header>
            
            <article>
                
<p>SSH server has multiple ways of authenticating a client connecting to it. The most popular method is password-based authentication as it is the easiest one, however it is not so secure. Passwords are exchanged with secure mechanisms, however, due to ease of use they are generally not complex or long. This enable the attacker to break the password using brute-force or dictionary attacks. In such scenarios, the SSH keys can provide a secure and reliable means of authentication for clients.</p>
<p>SSH server uses a public key cryptography scheme to authenticate users. In this scheme, a pair of keys are generated, a public key and private key, for authentication. As the name suggests, a private key is kept secret by the client as its compromise can lead to someone logging in to the server without any additional authentication.</p>
<p>The corresponding public key for the secret private key of the client is not kept as secret and is copied to systems the user logs in to. The private key is used to decrypt the message encrypted using the associated public key of the client. Using the key pair, we can also enable the password-less authentication.</p>
<p class="mce-root"/>
<p class="mce-root"/>
<p>The trusted public key of the client is stored in a special file named <kbd>authorized_keys</kbd> in the <kbd>home</kbd> directory of user account, used to log in as shown in the following diagram:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/478b8c64-d28b-4c10-8a3a-581a359d73fc.png" width="705" height="222"/></p>
<p>When a client attempts to authenticate the SSH server using keys, a challenge is issued using the public key of the client stored in the server. On successfully decrypting the challenge using the client's private key, the user gets access to the shell of the server.</p>
<div class="packt_infobox">In addition to password-based and key-based authentication, SSH also supports Kerberos and gssapi and so on for authentication.</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Creating a SSH key pair</h1>
                </header>
            
            <article>
                
<p>In this step, the client uses a special utility, <kbd>ssh-keygen</kbd>, to generate an SSH key pair for authentication with the server. This utility is bundled with OpenSSH and by default it creates a 2048-bit RSA key pair. It supports RSA and DSA, both with different lengths of keys. A key length of 4096 bits is recommended for establishing a secure connection between two machines. The following diagram shows how to create a RSA key pair of 2048-bit:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/a39b0197-206a-4e0a-a74d-16884c739e88.png" style="width:39.75em;height:22.58em;" width="719" height="409"/></p>
<p>It will prompt you to select a location for the keys that will be generated. By default, the keys are stored in the user's home directory, the <kbd>~/.ssh</kbd> directory, with the private key named as <kbd>id_rsa</kbd> and the public key as <kbd>id_rsa.pub</kbd>. The permission on the private key is 600 and it is 644 on public key.</p>
<p>Then, it prompts you to enter an optional passphrase for the key, which is used to decrypt the key on the local machine (client side). Hence, brute-force or dictionary attacks are not possible for this passphrase. The passphrase also provides additional security in case of the system being compromised. For example, it can prevent the attacker from logging in to other servers when SSH keys have already been exchanged in the compromised system. Following image shows the RSA key pair public key used for authentication:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/5ba4c789-aa5e-4435-8399-6cc185eb134e.png" style="width:40.33em;height:12.25em;" width="713" height="217"/></p>
<p>Now, to enable key-based authentication, the public key of client is to be copied to the destination system running SSH server.</p>
<p><strong>Following example illustrate the copying of public key to remote machine using<span> </span>ssh-copy-id<span> </span>command:</strong></p>
<ul>
<li>There is one utility, <kbd>ssh-copy-id</kbd>, which is also bundled with OpenSSH and can be used to copy the key to the remote system. It automatically copies the <kbd>~/.ssh/id_rsa.pub</kbd> file by default into the remote system as shown here:</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/7deccecc-5690-461e-8c1f-83a6c2519c80.png" style="width:37.33em;height:18.33em;" width="808" height="397"/></p>
<p style="padding-left: 60px">The general syntax of <kbd>ssh-copy-id</kbd> command is as follows:</p>
<pre><strong>$ ssh-copy-id     username@remotehost</strong></pre>
<ul>
<li>The following diagram shows how to do ssh on remote host without giving password:</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img src="Images/3526c378-0869-4fb2-9ddd-2a77b290fd80.png" style="width:39.83em;height:17.67em;" width="685" height="304"/></p>
<p class="mce-root"/>
<p class="mce-root"/>
<ul>
<li>Another method of copying the public key into the remote host's <kbd>authorized_keys</kbd> files using <kbd>ssh</kbd> command is shown here:</li>
</ul>
<pre style="padding-left: 60px"><strong>$ cat ~/.ssh/id_rsa.pub | ssh student@192.168.56.100 "cat &gt;&gt; ~/.ssh/authorized_keys"</strong></pre>
<p style="padding-left: 60px">Now SSH into the remote host by entering the passphrase when prompted (required only if you give the passphrase while creating the keys).</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Configuring and securing SSH logins</h1>
                </header>
            
            <article>
                
<p>Additional security measures can be enabled by modifying the OpenSSH server configuration file <kbd>/etc/ssh/sshd_config</kbd>, on the remote host. Following are the some steps that can be taken to secure the SSH logins:</p>
<ol>
<li>Now, since we have configured the SSH key-based authentication in the previous section, we can disable the password authentication to secure SSH logins in the SSH server configuration file. Edit the SSH daemon config file on the remote host running the SSH server and set the <kbd>PasswordAuthentication</kbd><span> directive value to</span> <kbd>no</kbd><span> as shown here:</span></li>
</ol>
<pre style="padding-left: 60px"><strong>$ vi /etc/ssh/sshd_config</strong><br/><strong>PasswordAuthentication no</strong></pre>
<ol start="2">
<li>Prohibit direct login as the root user through SSH, as the root user has unrestricted privileges and exists by default on every Linux system. To secure the root user account through SSH, we can do following changes in configuration file:
<ul>
<li>Comment the line with the directive <kbd>PermitRootLogin</kbd> as shown here:</li>
</ul>
</li>
</ol>
<pre style="padding-left: 120px"><strong> #PermitRootLogin yes</strong></pre>
<ol>
<li style="list-style-type: none">
<ul>
<li>Set the directive <kbd>PermitRootLogin</kbd> value as <kbd>no</kbd> as shown here:</li>
</ul>
</li>
</ol>
<pre style="padding-left: 120px"><strong>PermitRootLogin no</strong></pre>
<ol>
<li style="list-style-type: none">
<ul>
<li>Allow only key-based ssh login in the root account by setting the directive <kbd>PermitRootLogin</kbd> value as <kbd>without-password</kbd> as shown here:</li>
</ul>
</li>
</ol>
<pre style="padding-left: 120px"><strong>PermitRootLogin without-password</strong></pre>
<ol start="3">
<li>After making changes in the SSH server configuration file <kbd>/etc/ssh/sshd_config</kbd>, restart the <kbd>sshd</kbd> service to bring the applied changes into effect, as shown here:</li>
</ol>
<pre style="padding-left: 60px"><strong>$ systemctl restart sshd</strong></pre>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Transferring files in Linux</h1>
                </header>
            
            <article>
                
<p>We have seen how to secure our communication between the client and remote host server using SSH. In this section, we will securely transfer files between two connected machines. CentOS 7 has two popular utilities, <kbd>scp</kbd> and <kbd>rsync</kbd>, to secure data transfer between connected machines.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Secure file transfer using SCP</h1>
                </header>
            
            <article>
                
<p><span><span>The <kbd>scp</kbd> command is used to securely transfer files from a local system to a remote host or from a remote host to a local system. It uses SSH server for secure (encrypted) data transfer and for authentication.</span></span></p>
<p><span><span>The <kbd>ssh</kbd>, <kbd>scp</kbd>, and <kbd>sftp</kbd> are bundled into <kbd>ssh</kbd> package and gets installed automatically on installation of <kbd>ssh</kbd>.</span></span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Local to remote filesystem file transfer</h1>
                </header>
            
            <article>
                
<p><span><span>The syntax of transferring a file from local system to remote filesystem is as follows:</span></span></p>
<pre><strong>$ scp    &lt;local_filenames&gt;    &lt;username&gt;@&lt;host&gt;:&lt;remote_host_directory&gt;</strong></pre>
<p><span><span>On execution of the preceding command, you will be prompted for the remote user password. After entering the correct password, file transfer will begin as shown in the following diagram:</span></span></p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/5ed9a0c8-19a1-48ae-ab4d-500d2718cab2.png" style="width:54.25em;height:9.83em;" width="1115" height="202"/></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Remote to local filesystem file transfer</h1>
                </header>
            
            <article>
                
<p><span><span>The syntax of transferring a file from remote system to local filesystem transfer is as follows:</span></span></p>
<pre><strong>$ scp    &lt;username&gt;@&lt;host&gt;:&lt;remote_host_file&gt;    &lt;local_path&gt;</strong></pre>
<p><span><span>On execution of preceding command you will be prompted for remote user password. After entering the correct password, file transfer will begin as shown here:</span></span></p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/eb8d6f1f-21ef-4cd8-b977-19bb99892dd3.png" style="width:56.00em;height:9.83em;" width="1158" height="203"/></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Synchronizing files using rsync</h1>
                </header>
            
            <article>
                
<p><span><span>Rsync is another utility that is used to copy files securely and quickly from one system to another. It uses an SSH connection for transfer of data and differs from SCP as it copies only the differences in existing files. Rsync is faster than SCP as it copies only differences when copying files from one directory on a local system to a directory on a remote system, whereas SCP would copy everything.</span></span></p>
<p><span><span>The following table lists the important options along with their description, that are used with <kbd>rsync</kbd> command for synchronizing files and folders:</span></span></p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td style="width: 116.8px">
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Option</span></span></strong></span></p>
</td>
<td style="width: 599.2px">
<p class="CDPAlignCenter CDPAlign"><span><strong><span><span>Description</span></span></strong></span></p>
</td>
</tr>
<tr>
<td style="width: 116.8px">
<p><kbd><span><span>-a</span></span></kbd></p>
</td>
<td style="width: 599.2px">
<p><span><span>Archive mode (it includes recursion, synchronizing symlinks, preserving permissions, preserving group ownership, times stamps, ownership of files, and synchronizing of device files).</span></span></p>
<p><span><span>It is equivalent of the following options: <kbd>-rlptgoD</kbd></span></span></p>
</td>
</tr>
<tr>
<td style="width: 116.8px">
<p><kbd><span><span>-v</span></span></kbd></p>
</td>
<td style="width: 599.2px">
<p><span><span>It adds verbosity in the output when synchronization takes place.</span></span></p>
</td>
</tr>
<tr>
<td style="width: 116.8px">
<p><kbd><span><span>-r</span></span></kbd></p>
</td>
<td style="width: 599.2px">
<p><span><span>Synchronize whole directory tree </span></span><span><span>recursively.</span></span></p>
</td>
</tr>
<tr>
<td style="width: 116.8px">
<p><kbd><span><span>-n</span></span></kbd></p>
</td>
<td style="width: 599.2px">
<p><span><span>Perform dry-run without making changes.</span></span></p>
</td>
</tr>
<tr>
<td style="width: 116.8px">
<p><kbd><span><span>--remove-source-files</span></span></kbd></p>
</td>
<td style="width: 599.2px">
<p><span><span>Synchronized files are removed from the sender system.</span></span></p>
</td>
</tr>
<tr>
<td style="width: 116.8px">
<p><kbd><span><span>-z</span></span></kbd></p>
</td>
<td style="width: 599.2px">
<p><span><span>Compress file data during transmission from source to destination.</span></span></p>
</td>
</tr>
<tr>
<td style="width: 116.8px">
<p><kbd><span><span>-X</span></span></kbd></p>
</td>
<td style="width: 599.2px">
<p><span><span>Synchronize SELinux contexts from source to destination.</span></span></p>
</td>
</tr>
<tr>
<td style="width: 116.8px">
<p><kbd><span><span>-A</span></span></kbd></p>
</td>
<td style="width: 599.2px">
<p><span><span>Synchronize ACLs on file.</span></span></p>
</td>
</tr>
</tbody>
</table>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Synchronizing data locally from one folder to another for backup</h1>
                </header>
            
            <article>
                
<p><span><span>The syntax for local synchronization for backup from one folder to another is as follows:</span></span></p>
<pre><strong>$ rsync    -&lt;options&gt;    &lt;source_directory&gt;    &lt;destination_directory&gt;</strong></pre>
<p>An example of <kbd>rsync</kbd> command usage to synchronize local files is shown here:</p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/81654edb-dcde-4b3b-ad56-7b372e1fe957.png" style="width:36.58em;height:17.92em;" width="789" height="387"/></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Synchronizing data from a local to remote host filesystem</h1>
                </header>
            
            <article>
                
<p><span><span>The syntax for local to remote host filesystem synchronization is as follows:</span></span></p>
<pre><strong>$ rsync   -&lt;options&gt;   &lt;source_directory&gt;   &lt;username&gt;@&lt;host&gt;:&lt;remote_host_directory&gt;</strong></pre>
<p><span><span>On execution of the preceding command, you will be prompted for a remote user password. After entering the correct password, file synchronization will begin as shown here:</span></span></p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/50b696ff-c47d-43fe-8301-517132bc6fac.png" width="1195" height="467"/></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Synchronizing data from remote host to local filesystem</h1>
                </header>
            
            <article>
                
<p><span><span>The syntax for remote host to local filesystem synchronization is as follows:</span></span></p>
<pre><strong>$ rsync     -&lt;options&gt;      &lt;username&gt;@&lt;host&gt;:&lt;remote_host_directory&gt;     &lt;local_directory&gt;</strong></pre>
<p><span><span>On execution of preceding command you will be prompted for remote user password. After entering the correct password, file synchronization will begin as shown here:</span></span></p>
<p class="CDPAlignCenter CDPAlign"><img src="Images/e56eb1b0-2aae-4e39-99ed-3734499a09e2.png" width="1037" height="400"/></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p><span><span>In this chapter, we began with learning basic networking concepts such as IP address, DNS, gateway, and so on. This was followed by essential networking commands used in CentOS 7. Then we looked at the management of network interfaces using nmcli (NetworkManager command-line interface), the editing of network configuration files for manual configuration, and modifying hostname, DNS server parameters, and so on. Thereafter, we learnt how to securely connect to remote hosts using the SSH Client and password as well as with public keys for authentication. Finally, we looked up how to securely transfer and synchronize files for backup from one host to another using the command line.</span></span></p>
<p><span><span>In the next chapter, we will learn about how to keep CentOS 7 and its installed applications up to date. We will also learn how to install or remove undesired applications using the command line.</span></span></p>


            </article>

            
        </section>
    </div>



  </body></html>