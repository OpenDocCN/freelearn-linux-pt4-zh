<html><head></head><body>
        <section>

                            <header>
                    <h1 class="header-title">JMP and VMware Horizon 7 Deployment Considerations</h1>
                </header>
            
            <article>
                
<p>The VMware <strong>Just-in-Time Management Platform</strong> (<strong>JMP</strong>), or VMware JMP, accelerates the composite desktop model, allowing all the component parts of the desktop, <strong>operating system</strong> <span>(</span><strong>OS</strong><span>)</span>, apps, user profiles, and data to be abstracted, managed, and delivered back to end users on demand. This allows you to deliver a truly stateless desktop environment.</p>
<p>In this chapter, we will introduce you to the VMware JMP, how it works, and how to configure it.</p>
<p>We will cover the following topics in this chapter:</p>
<ul>
<li>How does JMP work?</li>
<li>VMware Workspace ONE</li>
<li>VMware App Volumes</li>
<li>Installing and configuring JMP</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How does JMP work?</h1>
                </header>
            
            <article>
                
<p>The VMware JMP brings together a number of VMware technologies to deliver this stateless desktop environment. The following diagram shows a high-level overview of the JMP components and how they fit together:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/df5f609d-461f-4646-87a7-b43afc6b1e96.png" style=""/></div>
<p>As you can see from the preceding diagram, the JMP solution is made up of a number of VMware technologies working together to deliver the desktop or app to the end user. These components are as follows:</p>
<ul>
<li><strong>Instant Clones</strong>: Builds virtual desktop and RDSH server images on demand</li>
<li><strong>VMware UEM</strong>: Delivers the user profiles and policies to apps and desktops</li>
<li><strong>VMware Workspace ONE</strong>: Provides a workspace portal to access apps and desktops from (optional)</li>
<li><strong>VMware App Volumes</strong>: Delivers just-in-time apps to virtual desktops and RDSH servers</li>
</ul>
<p>Before we continue, let's take a minute to describe what these technologies are in a bit more detail. We have already covered Instant Clones and VMware UEM, so we will start by giving you an overview of VMware Workspace ONE.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">VMware Workspace ONE</h1>
                </header>
            
            <article>
                
<p><span>VMware Workspace ONE is a management platform that allows IT admins to centrally control end users' mobile devices and cloud-hosted virtual desktops and applications from the cloud or from an on-premises deployment. It allows end users to access their corporate resources securely using smartphones, tablets, PCs, and laptops that are either personally owned or corporately owned.</span></p>
<p>It presents a user's apps in a single portal or workspace, along with a catalog of self-service apps that a user can access and entitle themselves to use <span>– a</span>ll under the control of the IT teams. Apps can be Software-as-a-Service-based, published, or mobile. End users can also access their virtual desktop machines from here. The following screenshot shows the launcher view of Workspace ONE:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/1a2f160c-499b-4cb5-a4a8-ee08b2efd659.png" style=""/></div>
<p><span>The Workspace ONE suite also includes VMware AirWatch, an</span> <span><strong>enterprise mobility management</strong> (<strong>EMM</strong>) solution for checking and enrolling devices before delivering the workspace and the apps that are available to the end user. It also includes VMware Identity Manager vIDM to deliver single sign-on authentication to resources.</span></p>
<p>In the JMP scenario, Workspace ONE delivers a portal where end users can access desktops and apps that are delivered by Horizon and the JMP Server.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">VMware App Volumes</h1>
                </header>
            
            <article>
                
<p>The App Volumes solution came from an acquisition that VMware made in August 2014, when they acquired a startup company called CloudVolumes. The original CloudVolumes solution delivered a real-time application delivery engine for virtual and physical desktop environments.</p>
<p>In December 2014, CloudVolumes was rebranded and became what we now know as App Volumes, and was offered as part of the Horizon Enterprise edition.</p>
<p>So, what does App Volumes give you? At a high-level, App Volumes provides real-time application delivery and life cycle management solution that is used to deliver applications that you capture using the App Volumes provisioning process. The captured applications are then layered into the OS of your virtual and physical desktops. In a nutshell, App Volumes is an application layering solution.</p>
<p>But how is this different to the way a virtual desktop environment and app delivery works today? Even though in VDI, the desktop OS has been abstracted from the underlying hardware, the apps still remain tightly integrated into the OS. As we have already discussed <span>this</span> in <a href="6b70801c-f579-4fd6-8910-1cc57a06831e.xhtml" target="_blank">Chapter 1</a>, <em><span>Introducing VDI and VMware Horizon 7</span></em>, the ideal virtual desktop solution is to be able to deliver fully stateless desktops and have the elements of what makes up the full end user experience added on the fly.</p>
<p>Having a fully stateless desktop model provides the most cost-effective solution by making it easier to manage each component individually and also requires less infrastructure. Today, there are a number of tools that can take care of delivering the user personalization, user data, and user profile elements to the desktop, such as Liquidware ProfileUnity. However, apps are still delivered as part of the base OS image, or are delivered using an app publishing solution where the apps are actually running on a server in the datacenter.</p>
<p>App Volumes provides a layer of abstraction between the OS and the applications by delivering the applications in separate containers. These containers are called <strong>AppStacks</strong>, and integrate seamlessly by effectively layering the applications into the <span>OS</span> of the virtual desktop machine. The following diagram shows a comparison between the traditionally installed model versus the <strong>App Volumes Agent</strong> layered approach:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/176c2d4a-7abe-4634-ad54-79e23d93c679.png" style=""/></div>
<p>As well as the application containers, <strong>App Volumes Agent</strong> also provides the end user with their own container or virtual hard disk where they can install their own applications. This container is called a <strong>Writable Volume</strong>, and follows the end user when they log in to different virtual desktop machines, bringing all of their applications with them.</p>
<p>The following diagram illustrates the <strong>App Volumes Agent</strong> model, which has application containers (<strong>AppStack</strong>) and user writeable containers (<strong>Writeable Volumes</strong>):</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/980ba8cd-94f9-4895-8022-fa87e01f8957.png" style=""/></div>
<p class="mce-root"/>
<p>In the next section, we are going to take a look at how to build an AppStack and also how to deliver it to an end user.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How does App Volumes work? Step 1 – app capture</h1>
                </header>
            
            <article>
                
<p>So, how does App Volumes work? The first thing you must do is create or capture an application that can be delivered by App Volumes. You start this process by installing the application on a virtual desktop machine, which is referred to as the provisioning machine. This provisioning machine is basically a vanilla installation of the <span>OS</span>, with no applications installed.</p>
<p>When you start the capture process, an empty VMDK file (App Volumes also supports VHD), called an AppStack, is mounted on the provisioning machine. Next, you start the application installation as you would do normally. All of the files associated with this application are then redirected to the AppStack or VMDK file.</p>
<p>This is shown in the following diagram:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/3d666d9e-1583-4698-aaf9-2d24a546f0a2.png" style=""/></div>
<p>Once you have completed the capture process, the AppStack is set to read-only and is ready to be assigned to end users based on their Active Directory group membership. AppStacks can also be assigned to individual users or other groups.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">How does App Volumes work? Step 2 – app delivery</h1>
                </header>
            
            <article>
                
<p>Once you have your AppStacks created, you can now deliver them to the end users. AppStacks are assigned based on Active Directory membership. An <strong>App Volumes Agent</strong> runs on their virtual desktop machine and mounts the virtual hard disk that contains the captured application. The agent "layers" in the applications files and settings, making the application appear as if it were fully integrated and installed locally, rather than running it from an additional drive. This is how applications are able to be delivered to a user in real-time, since <strong>AppStack</strong> can be assigned on the fly based on AD membership.</p>
<p>This is shown in the following diagram:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/a246cfe9-e8be-40b8-8446-cd3067e27167.png" style=""/></div>
<p>When an <strong>AppStack</strong> is unassigned from an end user, the virtual hard drive is simply unmounted, taking with it all of the application's files and settings, making the <span>OS</span> appear as though the application was never actually there!</p>
<p>This enables the delivery of applications to stateless virtual desktop machines, and in the case of JMP, delivers applications on demand as desktops are built and delivered to the end users.</p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing and configuring JMP</h1>
                </header>
            
            <article>
                
<p>In this section, we are going to install and configure the Horizon JMP solution. The key part of the solution is to not only install the other VMware technology components, such as App Volumes, but to also install the JMP Server itself.</p>
<p>Before we start the installation process, we are going to discuss the requirements and prerequisites.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Prerequisites</h1>
                </header>
            
            <article>
                
<p>There are a number of elements that need to be in place before you install the JMP software, both from the other components that are required to make the solution work, to the hardware and software requirements for JMP itself. Let's start by listing the other VMware solution components first.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">VMware JMP component requirements</h1>
                </header>
            
            <article>
                
<p>Supported versions of the VMware products that make up the JMP technology must be installed before you can start the installation of the JMP Server. These are required to utilize the JMP Integrated Workflow features. The following versions of the VMware products must be installed before you can install JMP Server:</p>
<ul>
<li>VMware Horizon 7 version 7.5 or later</li>
<li>VMware App Volumes 2.14 or later</li>
<li>VMware User Environment Manager 9.2.1 or later</li>
<li>VMware Identity Manager 2.9.2 or later (for integration with VMware Workspace™ ONE™)</li>
</ul>
<p>Next, we will look at the hardware requirements to run the JMP Server.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">VMware JMP hardware requirements</h1>
                </header>
            
            <article>
                
<p>To install the JMP Server, you need either a physical or virtual server that's configured with the following setup:</p>
<ul>
<li>4 CPUs or vCPUs</li>
<li>8 GB memory (4 GB for POC)</li>
<li>100 GB disk space (25 GB for POC)</li>
</ul>
<p>Next, we will look at the software and database requirements for running the JMP Server.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">VMware JMP software requirements</h1>
                </header>
            
            <article>
                
<p>The JMP Server needs to be installed on one of the following Windows Server operating systems:</p>
<ul>
<li>Windows Server 2008 R2 SP1 64-bit Standard, Enterprise, or Datacenter</li>
<li>Windows Server 2012 R2 64-bit Standard or Datacenter</li>
<li>Windows Server 2016 64-bit Standard or Datacenter</li>
</ul>
<p>You will also need a SQL database that's using one of the following versions:</p>
<ul>
<li>SQL Server Express 2014 64-bit (for POC deployments)</li>
<li>SQL Server 2012 (SP1, SP2, SP3, and SP4) 64-bit Standard and Enterprise</li>
<li>SQL Server 2014 (SP1 and SP2 with CU7 or later) 64-bit Standard and Enterprise</li>
<li>SQL Server 2016 (SP1 with CU6 or later)</li>
</ul>
<div class="packt_tip"><span>You will need to ensure that the SQL Server logins and permissions have been configured for the</span> <span class="ph productname">JMP Server</span> <span>host and Windows user account that you plan to use to install the</span> <span class="ph productname">JMP Server.</span></div>
<p class="mce-root">Now that we have covered the prerequisites and other requirements, we can start the installation of the JMP Server.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Installing the JMP Server</h1>
                </header>
            
            <article>
                
<p>In this section, we are going to install the JMP Server.</p>
<p>To install the JMP Server, navigate to the location of the installer file. In the example lab environment, this is the shared folder on the domain controller, as shown in the following screenshot:</p>
<div class="CDPAlignCenter CDPAlign"><img src="assets/6335a970-ca76-48e9-88ae-d1e00569b9f7.png"/></div>
<p>Double-click the <kbd>VMware-Jmp-Installer-7.6.0-9823717</kbd> file to launch the installer. The installer will launch and you can complete the installation steps as described. We will also provide them here for clarity:</p>
<ol>
<li>You will see the <span class="packt_screen">Welcome to the InstallShield Wizard for VMware just-in-Time Management Platform (JMP) Server</span> screen.</li>
<li>Click <span class="packt_screen">Next &gt;</span> to continue.</li>
<li>Then, you will see the <span class="packt_screen">VMware End User License Agreement</span> screen.</li>
<li>Click the radio button for <span class="packt_screen">I accept the terms in the license agreement</span>, and then click <span class="packt_screen">Next &gt;</span> to continue.</li>
<li>Next, you will see the <span class="packt_screen">Allow HTTP Traffic on Port 80</span> screen. By default, port 443 (HTTPS) is used, but if you want to use port 80, then check the box for <span class="packt_screen">Allow HTTP</span>.</li>
<li>Click <span class="packt_screen">Next &gt;</span> to continue.</li>
</ol>
<ol start="7">
<li>You will now see the <span class="packt_screen">Database Server for JMP Server Platform Services</span> screen, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/8423d677-6f77-4ac4-89e4-f05a9902e986.png" style=""/></div>
<ol start="8">
<li>In the <span class="packt_screen">Database server that you are connecting to</span> box, enter the details of the SQL Server. Alternatively, you can click the <span class="packt_screen">Browse...</span> button and select it from the list of servers that are displayed.</li>
<li>Next, click the radio button for either <span class="packt_screen">Windows authentication</span> or <span class="packt_screen">Server authentication</span>. For server authentication, you then need to enter the <span class="packt_screen">Login ID</span> and the <span class="packt_screen">Password</span> for the account you want to use, and for <span class="packt_screen">Windows authentication</span>, it will use the credentials of the currently logged in user. If you use this option then ensure that the account has the appropriate permission levels.</li>
<li>In the <span class="packt_screen">Name of database catalog</span> box, enter the name of the SQL database that you have set up for JMP. Alternatively, <span>you can click the</span> <span class="packt_screen">Browse...</span> <span>button and select the database from the list of databases that are displayed.</span></li>
</ol>
<ol start="11">
<li>You then have the option <span>to check the</span> <span class="packt_screen">overwrite existing database</span> <span>checkbox. If you are installing additional JMP Servers, then ensure that this box is unchecked as checking it will overwrite an existing database should the installer find one.</span></li>
<li>Finally, t<span>o ensure secure communication between the</span> <span class="ph productname">JMP Server</span> <span>and the SQL server, check the</span> <span class="packt_screen">Enable SSL</span> <span>box.</span></li>
</ol>
<div class="packt_infobox"><span>When the</span> <span class="ph uicontrol"><span class="packt_screen">Enable SSL</span></span> <span>box is checked, you need to ensure that the TLS/SSL certificate that's used on the SQL Server is imported into the Windows local certificate store on the</span> <span class="ph productname">JMP Server</span><span>. If you have not done this, then the</span> <span class="ph productname">JMP Server</span> <span>installation process will fail.</span></div>
<ol start="13">
<li><span>Click</span> <span class="packt_screen">Next &gt;</span> <span>to continue.</span></li>
<li>You will now see the <span class="packt_screen">Ready to Install Program</span> screen.</li>
<li>Click <span class="packt_screen">Finish</span> to complete the installation.</li>
</ol>
<p>The next step is to ensure that the time is synchronized between the JMP Server and the Horizon Connection Server.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Syncing the time with Horizon Connection Server</h1>
                </header>
            
            <article>
                
<p class="shortdesc">The time on both the Horizon Connection Server and JMP Server hosts must be synchronized so that the authentication process between the two servers works successfully.</p>
<p class="p">When you access the JMP Integrated Workflow features using the Horizon Console, the JMP Server authenticates the token it receives from Horizon Connection Server, which in turn returns a token to the JMP Server. If the time between the two host servers is not in sync, then the Horizon Connection Server will reject the token and the JMP Integrated Workflow features won't be available from the Horizon Console.</p>
<p>Since these servers are virtual machines, the easiest way to deploy this is via the ESXi host server. You can do this by configuring the <span class="packt_screen">Time Configuration</span> option to point to a <strong>Network Time Protocol</strong> (<strong>NTP</strong>) client.</p>
<p>On each of the virtual machines, open a command prompt, and then from the <kbd>c:\program files\VMware\VMware Tools</kbd> directory, run the following command:</p>
<pre><strong>VMwareToolboxCmd.exe timesync enable</strong></pre>
<p class="mce-root"/>
<p>In the next section, we are going to configure the JMP Server and the other solution components to work together by using the Horizon Console.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Adding JMP Server and its components to Horizon</h1>
                </header>
            
            <article>
                
<p class="mce-root">The first thing to note is that JMP can only be configured using the new Horizon Console and not by using the View Admin console. To configure this, follow these steps:</p>
<ol>
<li>To start the configuration and add the other components together, log in to the Horizon Console using <kbd>https://hzn7-cs1.pvolab.com/newadmin</kbd>.</li>
<li>You will then see the login screen, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/c9f403a8-93b9-4246-ace0-009e7532eeb5.png"/></div>
<ol start="3">
<li>Enter your username and password. Ensure that the correct domain has been selected from the drop-down box and then click <span class="packt_screen">Sign in</span>.</li>
<li>You will now see the dashboard screen, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/1db5aa62-d9c6-44f7-87a9-68c3ac07fec1.png"/></div>
<ol start="5">
<li>Click on <span class="packt_screen">Settings JMP</span> (<strong>1</strong>).</li>
</ol>
<ol start="6">
<li>You will now see the <span class="packt_screen">JMP Settings</span> screen, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/9b6e04b1-b637-4dcf-987e-08487265aa25.png"/></div>
<ol start="7">
<li>The first thing you need to do is add the JMP Server. To do this, click <span class="packt_screen">Add JMP Server</span> (<strong>2</strong>).</li>
<li>You will now see the <span class="packt_screen">Add JMP Server</span> screen, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/cf4ca585-b287-425a-bb97-be9691007c38.png" style=""/></div>
<ol start="9">
<li>In the <span class="packt_screen">JMP Server URL</span> box, enter the address for the JMP Server. In the example lab, this is <kbd>https://jmp.pvolab.com</kbd>.</li>
<li>Click <span class="packt_screen">Save</span> to continue.</li>
<li>You will now return to the <span class="packt_screen">JMP Settings</span> screen, which now shows that the <span class="packt_screen">JMP Server</span> has been validated and added, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/9aa66711-f3f6-4359-aab3-89af52891cd2.png" style=""/></div>
<ol start="12">
<li>Next, we are going to move on to the Horizon 7 configuration and add the Horizon Connection Server. You will now see the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/7e4ef616-cbf0-4d95-96c8-d1d2bfa41b1a.png"/></div>
<ol start="13">
<li>Click the <span class="packt_screen">Add Credentials</span> button.</li>
<li>You will now see the <span class="packt_screen">Edit Horizon</span> configuration screen, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/a9cbdcca-d6a5-4249-831d-f03d44de579f.png" style=""/></div>
<ol start="15">
<li>In the <span class="packt_screen">Connection Server UR</span><strong>L</strong> box, enter the address to the Connection Server. In the example lab, this is <kbd>https://hzn7-cs1.pvolab.com</kbd>.</li>
<li>In the <span class="packt_screen">Service Account User Name</span>, enter the username that is used for the Horizon View service account, and in the <span class="packt_screen">Service Account Password</span> box, enter the password for the account.</li>
<li>Finally, in the <span class="packt_screen">Service Account Domain</span> box, enter the domain name. In the example lab, this is the <kbd>pvolab.com</kbd> domain.</li>
<li>When you have completed the configuration details, click <span class="packt_screen">Save</span> to continue.</li>
<li><span>Next, we are going to configure</span> <span class="packt_screen">Active Directory</span>, <span>as shown in the following screenshot:</span></li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/73dcdd8c-755e-4b57-b489-67d428cedb44.png" style=""/></div>
<ol start="20">
<li>Click the <span class="packt_screen">Add</span> button.</li>
</ol>
<ol start="21">
<li>You will now see the <span class="packt_screen">Add Active Directory</span> configuration screen, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/abeeed28-37d6-4e98-8e29-2936d0911563.png" style=""/></div>
<ol start="22">
<li>In the <span class="packt_screen">NETBIOS Name</span> box, enter the NETBIOS name for the domain. In the example lab, this is <kbd>PVOLAB</kbd>.</li>
<li>Then, in the <span class="packt_screen">DNS Domain Name</span> box, enter the name of the domain. <span>In the example lab, this is</span> <kbd>pvolab.com</kbd><span>. Then, click the radio button to choose the protocol. In the example lab, we are going to select</span> <span class="packt_screen">LDAP (non-secure)</span><span>.</span></li>
<li>In the <span class="packt_screen">Bind User Nam</span><span class="packt_screen">e</span>, enter a user that has access to Active Directory and can create machine and user accounts, and then in the <span class="packt_screen">Bind Password</span> box, enter the password for this user account.</li>
<li>Finally, in the <span class="packt_screen">Context</span> box, enter the details in the format <kbd>DC=</kbd>. In the example lab, this would be <kbd>DC=pvolab,DC=com</kbd>.</li>
<li>When you have completed the configuration details, click <span class="packt_screen">Save</span> to continue.</li>
</ol>
<ol start="27">
<li>Next, we are going to configure <span class="packt_screen">App Volumes</span>, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/b984a12c-9db8-4bc5-8fdf-39107e95682c.png" style=""/></div>
<ol start="28">
<li>Click the <span class="packt_screen">Add</span> button.</li>
<li>You will now see the <span class="packt_screen">Add App Volumes Instance</span> configuration screen, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/8441821f-81e1-4026-8739-f3c517531340.png" style=""/></div>
<ol start="30">
<li>In the <span class="packt_screen">Name</span> box, enter the name of the <span class="packt_screen">App Volumes</span> instance.</li>
<li>Next, in the <span class="packt_screen">App Volumes Server URL</span> <span>box, enter the address to the App Volumes Server. In the example</span> lab, <span>this is</span> <kbd>https://app-vol.pvolab.com</kbd><span>.</span></li>
<li>In the <span class="packt_screen">Service Account User Name</span>, enter the details of the service account that's used to manage the App Volumes server, and in the <span class="packt_screen">Service Account Password</span> box, enter the password for the service account.</li>
<li>Finally, in the <span class="packt_screen">Service Account Domain</span> box, enter the name of the domain for the service account.</li>
<li>When you have completed the configuration details, click <span class="packt_screen">Save</span> to continue.</li>
<li><span>Next, we are going to configure the final component,</span> <span class="packt_screen">UEM</span><span>, as shown in the following screenshot:</span></li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/829e2018-ddf1-4c27-ab3f-163123b9a417.png"/></div>
<p class="mce-root"/>
<ol start="36">
<li>Click the <span class="packt_screen">Add</span> button.</li>
<li>You will now see the <span class="packt_screen">Add UEM File Share</span> configuration screen, as shown in the following screenshot:</li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/b650c47b-d9c9-4e27-b341-d2a4d8c72718.png" style=""/></div>
<ol start="38">
<li>In the <span class="packt_screen">File Share UNC Path</span> box, enter the path details to the <span class="packt_screen">UEM</span> configuration share. In the example lab, this is on the domain controller, and so the path is <kbd>\\dc\uem-configuration</kbd>.</li>
<li>In the <span class="packt_screen">User Name</span> box, enter the details of a user that has access to the shared folder, and in the <span class="packt_screen">Password</span> box, enter the password for this account.</li>
<li>Finally, in the <span class="packt_screen">Active Directory</span> box, enter the domain details.</li>
<li>When you have completed the configuration details, click <span class="packt_screen">Save</span> to continue.</li>
</ol>
<p>You have now successfully configured the JMP Server settings. In the next section, we are going to look at configuring JMP assignments.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">JMP assignments</h1>
                </header>
            
            <article>
                
<p>Now that we have completed the setup and configuration of the JMP Server and the other components, we can now create the JMP assignments. A JMP assignment brings together the end users, Instant Clone virtual desktop pools, applications (App Volumes AppStacks), and user profiles and settings (VMware UEM). To create the assignment, follow these steps:</p>
<ol>
<li>Log in to the Horizon Console using <kbd>https://hzn7-cs1.pvolab.com/newadmin</kbd>.</li>
</ol>
<div class="packt_infobox">As with the previous configuration steps, JMP assignments can only be configured using the new Horizon Console.</div>
<ol start="2">
<li>You will then see the login screen. Log in using the administrator account and password.</li>
<li>Once you're logged in, click on <span class="packt_screen">Assignments JM</span><span class="packt_screen">P</span> <span>(<strong>1</strong>) in the top left of the screen, as shown in the following screenshot:</span></li>
</ol>
<div class="CDPAlignCenter CDPAlign"><img src="assets/fce9ca53-407a-4d85-bf95-ce5598dd58cc.png" style=""/></div>
<p class="mce-root"/>
<p class="mce-root"/>
<ol start="4">
<li>You will now see the <span class="packt_screen">JMP Assignments</span> screen.</li>
<li>Click the <span class="packt_screen">New</span> <span>button. You will now see the</span> <span class="packt_screen">New Assignment</span> <span>screen.</span></li>
<li>Enter the details of either a user or group that you want to assign the desktop workspace to. These users and groups are selected from the domain details that were entered during the configuration process. In the search box, start typing in the user or group name. The matching names will appear in the results box.</li>
<li>Select the user or group you want to assign and then click <span class="packt_screen">Next</span> <span>to continue.</span></li>
<li>You will now see the <span class="packt_screen">Desktops</span> configuration screen, where you choose the desktop pool to include in the JMP assignment. Select the desktop pool from the table of those shown (read from the Connection Server), and then click <span class="packt_screen">Next</span>.</li>
<li>In the next screen, you can choose which applications you want to include in the JMP assignment. These applications are the <span class="packt_screen">AppStacks</span>, which are displayed and available from the configured App Volumes server. Select the apps from those displayed in the table and then <span>click</span> <span class="packt_screen">Next</span> <span>to continue.</span></li>
<li>You will now see the <span class="packt_screen">User Environment</span> configuration screen. The settings on this screen are automatically pulled from the <span class="packt_screen">UEM</span> server that was configured in the previous section.</li>
<li>The first setting on the screen is for <span class="packt_screen">Disable UEM Settings</span> and is a simple on or off switch. Switching this to on means that none of the UEM settings will be applied to this assignment. If you have this set to <span class="packt_screen">No</span> and you click on <span class="packt_screen">Skip</span> in the settings page, then be aware that all settings will be applied to the assignment. You will also see a list of the settings displayed in a table on the screen. You can check individual settings if you want to apply them to this assignment.</li>
<li><span>Click</span> <span class="packt_screen">Next</span> <span>to continue.</span></li>
<li>You will now see the <span class="packt_screen">Definitions</span> configuration screen. In the <span class="packt_screen">Name</span> box, enter a name for this JMP assignment, and optionally, enter a description. A default assignment name is automatically added.</li>
<li>Then, in the <span class="packt_screen">AppStack Attach</span> box, from the drop-down menu, select how you want the AppStacks to be attached to the virtual machines. You can choose either <span class="packt_screen">On next login</span> or <span class="packt_screen">Immediately</span>.</li>
<li><span>Click</span> <span class="packt_screen">Next</span> <span>to continue.</span></li>
<li>You will now see the <span class="packt_screen">Summary</span> screen.</li>
<li>If you are happy with your configuration, then click <span class="packt_screen">Submit</span>.</li>
<li>You will now return to the <span class="packt_screen">JMP Settings</span> screen where you will see that the assignment is shown as <span class="packt_screen">Pending</span>. Once the assignment is loaded, the status will change to <span class="packt_screen">Success</span>.</li>
</ol>
<p class="mce-root"/>
<p class="mce-root"/>
<p>You have successfully configured a JMP assignment. When an end user next logs in to a desktop in the desktop pool that's been configured as part of the assignment, the virtual desktop machine will be created from an Instant Clone. The apps will be delivered via an App Volumes AppStack and the user's profile and personal data will be delivered via VMware UEM.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p class="mce-root">In this chapter, we have taken a closer look at the j<span>ust-in-time</span> management platform a<span>nd how it delivers all the component parts that make up the desktop back to the end users on demand. JMP is made up of a number of different VMware technologies: Instant Clones to build the virtual desktop machines, App Volumes to deliver applications as app layers (AppStacks), and VMware UEM to deliver the unique end user elements such as profiles and user-authored data. Optionally, the desktops and apps can be made available from the Workspace ONE portal.</span></p>
<p class="mce-root"><span>Using this approach allows you to deliver truly stateless virtual desktop machines on demand.</span></p>
<p>In the next chapter, we are going to look at some of the tips for troubleshooting an environment.</p>


            </article>

            
        </section>
    </body></html>