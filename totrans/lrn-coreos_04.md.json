["```\n#cloud-config\nwrite_files:\n - path: /home/core/example_01.service\n    owner: core:core\n    permissions: 420\n    content: |\n      [Unit]\n      Description=Example\n      After=docker.service\n      Requires=docker.service\n\n [X-Fleet]\n MachineMetadata=host=service_01\n\n      [Service]\n      TimeoutStartSec=0\n      ExecStartPre=-/usr/bin/docker kill sampleserv_01\n      ExecStartPre=-/usr/bin/docker rm sampleserv_01\n      ExecStartPre=/usr/bin/docker pull busybox\n      ExecStart=/usr/bin/docker run --name sampleserv_01 busybox /bin/sh -c \"while true; do echo Test Service; sleep 300; done\"\n      ExecStop=/usr/bin/docker stop sampleserv_01\n\n - path: /home/core/example_02.service\n    owner: core:core\n    permissions: 420\n    content: |\n      [Unit]\n      Description=Example\n      After=docker.service\n      Requires=docker.service\n\n [X-Fleet]\n MachineMetadata=host=service_02\n\n      [Service]\n      TimeoutStartSec=0\n      ExecStartPre=-/usr/bin/docker kill sampleserv_02\n      ExecStartPre=-/usr/bin/docker rm sampleserv_02\n      ExecStartPre=/usr/bin/docker pull busybox\n      ExecStart=/usr/bin/docker run --name sampleserv_02 busybox /bin/sh -c \"while true; do echo Test Service; sleep 300; done\"\n      ExecStop=/usr/bin/docker stop sampleserv_02\n\n - path: /home/core/example_03.service\n    owner: core:core\n    permissions: 420\n    content: |\n      [Unit]\n      Description=Example\n      After=docker.service\n      Requires=docker.service\n\n [X-Fleet]\n MachineMetadata=host=service_03\n\n      [Service]\n      TimeoutStartSec=0\n      ExecStartPre=-/usr/bin/docker kill sampleserv_03\n      ExecStartPre=-/usr/bin/docker rm sampleserv_03\n      ExecStartPre=/usr/bin/docker pull busybox\n      ExecStart=/usr/bin/docker run --name sampleserv_03 busybox /bin/sh -c \"while true; do echo Test Service; sleep 300; done\"\n      ExecStop=/usr/bin/docker stop sampleserv_03\n\ncoreos:\n  etcd2:\n    name: core-03\n    advertise-client-urls: http://$public_ipv4:2379\n    initial-advertise-peer-urls: http://$private_ipv4:2380\n    listen-client-urls: http://0.0.0.0:2379,http://0.0.0.0:4001\n    listen-peer-urls: http://$private_ipv4:2380,http://$private_ipv4:7001\n    initial-cluster-token: coreOS-static\n    initial-cluster: core-01=http://172.17.8.101:2380,core-02=http://172.17.8.102:2380,core-03=http://172.17.8.103:2380\n  fleet:\n    public-ip: $public_ipv4\n metadata: host=service_01\n\n  units:\n  - name: etcd2.service\n    command: start\n    enable: true\n - name: fleet.service\n command: start\n enable: true\n  - name: example_fleet_01.service\n    command: start\n    content: |\n      [Service]\n      Type=oneshot\n      ExecStartPre=/bin/sh -c \"sleep 10\"\n ExecStart=/usr/bin/fleetctl start /home/core/example_01.service\n  - name: example_fleet_02.service\n    command: start\n    content: |\n      [Service]\n      Type=oneshot\n      ExecStartPre=/bin/sh -c \"sleep 10\"\n ExecStart=/usr/bin/fleetctl start /home/core/example_02.service\n  - name: example_fleet_03.service\n    command: start\n    content: |\n      [Service]\n      Type=oneshot\n      ExecStartPre=/bin/sh -c \"sleep 10\"\n      ExecStart=/usr/bin/fleetctl start /home/core/example_03.service\n```", "```\n...\n      if File.exist?(CLOUD_CONFIG_PATH)\n        user_data_specific = \"#{CLOUD_CONFIG_PATH}-#{i}\"\n        require 'yaml'\n        data = YAML.load(IO.readlines('user-data')[1..-1].join)\n        if data['coreos'].key? 'etcd2'\n          data['coreos']['etcd2']['name'] = vm_name\n        end\n if data['coreos'].key? 'fleet'\n data['coreos']['fleet']['metadata'] = \"host=service_%02d\" % [i]\n end\n        yaml = YAML.dump(data)\n        File.open(user_data_specific, 'w') { |file| file.write(\"#cloud-config\\n\\n#{yaml}\") }\n        config.vm.provision :file, :source => user_data_specific, :destination => \"/tmp/vagrantfile-user-data\"\n        config.vm.provision :shell, :inline => \"mv /tmp/vagrantfile-user-data /var/lib/coreos-vagrant/\", :privileged => true\n      end\n...\n```", "```\nvagrant ssh core-01\n\nfleetctl list-units\nUNIT                    MACHINE                         ACTIVE  SUB\nexample_01.service      375bde8b.../172.17.8.101        active  running\nexample_02.service      2b6184e0.../172.17.8.102        active  running\nexample_03.service      e59919cc.../172.17.8.103        active  running\nfleetctl list-machines\nMACHINE         IP              METADATA\n2b6184e0...     172.17.8.102    host=service_02\n375bde8b...     172.17.8.101    host=service_01\ne59919cc...     172.17.8.103    host=service_03\n\n```", "```\n#cloud-config\nwrite_files:\n - path: /home/core/common@.service\n...\n```", "```\n...\n      [X-Fleet]\n MachineMetadata=disk=ssd\n Conflicts=common@*.service\n...\n```", "```\n...\n\n      [Service]\n      TimeoutStartSec=0\n      ExecStartPre=-/usr/bin/docker kill busybox\n      ExecStartPre=-/usr/bin/docker rm busybox\n      ExecStartPre=/usr/bin/docker pull busybox\n      ExecStart=/usr/bin/docker run --name busybox /bin/sh -c \"while true; do echo Test Service; sleep 300; done\"\n      ExecStop=/usr/bin/docker stop busybox\n...\n```", "```\n...\n - name: example_fleet1.service\n    command: start\n    content: |\n      [Service]\n      Type=oneshot\n      ExecStartPre=/bin/sh -c \"sleep 10\"\n ExecStart=/usr/bin/fleetctl start /home/core/common@1.service\n - name: example_fleet2.service\n...\n ExecStart=/usr/bin/fleetctl start /home/core/common@2.service\n - name: example_fleet3.service\n...\n ExecStart=/usr/bin/fleetctl start /home/core/common@3.service\n  - name: example_fleet_02.service\n...\n```", "```\n...\n        if data['coreos'].key? 'fleet'\n data['coreos']['fleet']['metadata'] = \"host=service_%02d,disk=ssd\" % [i]\n        end\n...\n```", "```\nvagrant ssh core-01\n\nfleetctl list-units\nUNIT                    MACHINE                         ACTIVE  SUB\ncommon@1.service       344d088c.../172.17.8.102        active  running\ncommon@2.service       a5a4a7e5.../172.17.8.101        active  running\ncommon@3.service       200545ed.../172.17.8.103        active  running\nexample_02.service      344d088c.../172.17.8.102        active  running\nexample_03.service      200545ed.../172.17.8.103        active  running\n\nfleetctl list-machines\nMACHINE         IP              METADATA\n200545ed...     172.17.8.103    disk=ssd,host=service_03\n344d088c...     172.17.8.102    disk=ssd,host=service_02\na5a4a7e5...     172.17.8.101    disk=ssd,host=service_01\n\n```", "```\n...\n      [X-Fleet]\n      MachineMetadata=disk=ssd\n      Conflicts=common@*.service\n Conflicts=example_02.service\n...\n```", "```\nvagrant ssh core-01\n\nfleetctl list-units\nUNIT                    MACHINE                         ACTIVE  SUB\ncommon@1.service        60b21422.../172.17.8.101        active  running\ncommon@2.service        c8009511.../172.17.8.103        active  running\nexample_02.service      103f8f5a.../172.17.8.102        active  running\nexample_03.service      c8009511.../172.17.8.103        active  running\n\nfleetctl list-machines\nMACHINE         IP              METADATA\n103f8f5a...     172.17.8.102    disk=ssd,host=service_02\n60b21422...     172.17.8.101    disk=ssd,host=service_01\nc8009511...     172.17.8.103    disk=ssd,host=service_03\n\n```", "```\n...\n      [X-Fleet]\n MachineOf=example_02.service\n...\n```", "```\nvagrant ssh core-01\n\ncore@core-01 ~ $ fleetctl list-units\nUNIT                    MACHINE                         ACTIVE  SUB\ncommon@1.service        d119aafa.../172.17.8.102        active  running\nexample_02.service      d119aafa.../172.17.8.102        active  running\nexample_03.service      6f3da0a4.../172.17.8.103        active  running\ncore@core-01 ~ $\ncore@core-01 ~ $\ncore@core-01 ~ $ fleetctl list-machines\nMACHINE         IP              METADATA\n6f3da0a4...     172.17.8.103    disk=ssd,host=service_03\nc88e05ba...     172.17.8.101    disk=ssd,host=service_01\nd119aafa...     172.17.8.102    disk=ssd,host=service_02\n\n```", "```\n#cloud-config\nwrite_files:\n  - path: /home/core/example_test.service\n    owner: core:core\n    permissions: 420\n    content: |\n      [Unit]\n      Description=Example\n      After=docker.service\n      Requires=docker.service\n\n      [X-Fleet]\n      MachineID=dummy\n\n      [Service]\n      TimeoutStartSec=0\n      ExecStartPre=-/usr/bin/docker kill sampleserv_test\n      ExecStartPre=-/usr/bin/docker rm sampleserv_test\n      ExecStartPre=/usr/bin/docker pull busybox\n      ExecStart=/usr/bin/docker run --name sampleserv_test busybox /bin/sh -c \"while true; do echo Test Service; sleep 300; done\"\n      ExecStop=/usr/bin/docker stop sampleserv_test\n\n...\n\n  units:\n  - name: etcd2.service\n    command: start\n    enable: true\n  - name: fleet.service\n    command: start\n    enable: true\n```", "```\nvagrant ssh core-01\n\ncore@core-01 ~ $ fleetctl list-machines -l\nMACHINE                                 IP              METADATA\n41b7574b33b0462c8e311ded39302a19        172.17.8.101    host=service_01\n7e481484a52945d3ad369f68d2e46a77        172.17.8.103    host=service_03\nf70fc5f45cdc49f99fc47757f6fe5ae6        172.17.8.102    host=service_02\n\n```", "```\ncore@core-01 ~ $ cat example_test.service\n...\n\n[X-Fleet]\nMachineID=f70fc5f45cdc49f99fc47757f6fe5ae6\n\n...\n\n```", "```\ncore@core-01 ~ $ /usr/bin/fleetctl start /home/core/example_test.service\nUnit example_test.service launched on f70fc5f4.../172.17.8.102\ncore@core-01 ~ $ fleetctl list-units\nUNIT                    MACHINE                         ACTIVE          SUB\nexample_test.service      f70fc5f4.../172.17.8.102        active      running\n\n```"]