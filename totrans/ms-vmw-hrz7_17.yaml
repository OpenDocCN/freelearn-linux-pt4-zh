- en: JMP and VMware Horizon 7 Deployment Considerations
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The VMware **Just-in-Time Management Platform** (**JMP**), or VMware JMP, accelerates
    the composite desktop model, allowing all the component parts of the desktop,
    **operating system** (**OS**), apps, user profiles, and data to be abstracted,
    managed, and delivered back to end users on demand. This allows you to deliver
    a truly stateless desktop environment.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
- en: In this chapter, we will introduce you to the VMware JMP, how it works, and
    how to configure it.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
- en: 'We will cover the following topics in this chapter:'
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
- en: How does JMP work?
  id: totrans-4
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: VMware Workspace ONE
  id: totrans-5
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: VMware App Volumes
  id: totrans-6
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Installing and configuring JMP
  id: totrans-7
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: How does JMP work?
  id: totrans-8
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The VMware JMP brings together a number of VMware technologies to deliver this
    stateless desktop environment. The following diagram shows a high-level overview
    of the JMP components and how they fit together:'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/df5f609d-461f-4646-87a7-b43afc6b1e96.png)'
  id: totrans-10
  prefs: []
  type: TYPE_IMG
- en: 'As you can see from the preceding diagram, the JMP solution is made up of a
    number of VMware technologies working together to deliver the desktop or app to
    the end user. These components are as follows:'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
- en: '**Instant Clones**: Builds virtual desktop and RDSH server images on demand'
  id: totrans-12
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**VMware UEM**: Delivers the user profiles and policies to apps and desktops'
  id: totrans-13
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**VMware Workspace ONE**: Provides a workspace portal to access apps and desktops
    from (optional)'
  id: totrans-14
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: '**VMware App Volumes**: Delivers just-in-time apps to virtual desktops and
    RDSH servers'
  id: totrans-15
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Before we continue, let's take a minute to describe what these technologies
    are in a bit more detail. We have already covered Instant Clones and VMware UEM,
    so we will start by giving you an overview of VMware Workspace ONE.
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
- en: VMware Workspace ONE
  id: totrans-17
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: VMware Workspace ONE is a management platform that allows IT admins to centrally
    control end users' mobile devices and cloud-hosted virtual desktops and applications
    from the cloud or from an on-premises deployment. It allows end users to access
    their corporate resources securely using smartphones, tablets, PCs, and laptops
    that are either personally owned or corporately owned.
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
- en: 'It presents a user''s apps in a single portal or workspace, along with a catalog
    of self-service apps that a user can access and entitle themselves to use – all
    under the control of the IT teams. Apps can be Software-as-a-Service-based, published,
    or mobile. End users can also access their virtual desktop machines from here.
    The following screenshot shows the launcher view of Workspace ONE:'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/1a2f160c-499b-4cb5-a4a8-ee08b2efd659.png)'
  id: totrans-20
  prefs: []
  type: TYPE_IMG
- en: The Workspace ONE suite also includes VMware AirWatch, an **enterprise mobility
    management** (**EMM**) solution for checking and enrolling devices before delivering
    the workspace and the apps that are available to the end user. It also includes
    VMware Identity Manager vIDM to deliver single sign-on authentication to resources.
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
- en: In the JMP scenario, Workspace ONE delivers a portal where end users can access
    desktops and apps that are delivered by Horizon and the JMP Server.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
- en: VMware App Volumes
  id: totrans-23
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The App Volumes solution came from an acquisition that VMware made in August
    2014, when they acquired a startup company called CloudVolumes. The original CloudVolumes
    solution delivered a real-time application delivery engine for virtual and physical
    desktop environments.
  id: totrans-24
  prefs: []
  type: TYPE_NORMAL
- en: In December 2014, CloudVolumes was rebranded and became what we now know as
    App Volumes, and was offered as part of the Horizon Enterprise edition.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
- en: So, what does App Volumes give you? At a high-level, App Volumes provides real-time
    application delivery and life cycle management solution that is used to deliver
    applications that you capture using the App Volumes provisioning process. The
    captured applications are then layered into the OS of your virtual and physical
    desktops. In a nutshell, App Volumes is an application layering solution.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
- en: But how is this different to the way a virtual desktop environment and app delivery
    works today? Even though in VDI, the desktop OS has been abstracted from the underlying
    hardware, the apps still remain tightly integrated into the OS. As we have already
    discussed this in [Chapter 1](6b70801c-f579-4fd6-8910-1cc57a06831e.xhtml), *Introducing
    VDI and VMware Horizon 7*, the ideal virtual desktop solution is to be able to
    deliver fully stateless desktops and have the elements of what makes up the full
    end user experience added on the fly.
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
- en: Having a fully stateless desktop model provides the most cost-effective solution
    by making it easier to manage each component individually and also requires less
    infrastructure. Today, there are a number of tools that can take care of delivering
    the user personalization, user data, and user profile elements to the desktop,
    such as Liquidware ProfileUnity. However, apps are still delivered as part of
    the base OS image, or are delivered using an app publishing solution where the
    apps are actually running on a server in the datacenter.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
- en: 'App Volumes provides a layer of abstraction between the OS and the applications
    by delivering the applications in separate containers. These containers are called
    **AppStacks**, and integrate seamlessly by effectively layering the applications
    into the OS of the virtual desktop machine. The following diagram shows a comparison
    between the traditionally installed model versus the **App Volumes Agent** layered
    approach:'
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/176c2d4a-7abe-4634-ad54-79e23d93c679.png)'
  id: totrans-30
  prefs: []
  type: TYPE_IMG
- en: As well as the application containers, **App Volumes Agent** also provides the
    end user with their own container or virtual hard disk where they can install
    their own applications. This container is called a **Writable Volume**, and follows
    the end user when they log in to different virtual desktop machines, bringing
    all of their applications with them.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
- en: 'The following diagram illustrates the **App Volumes Agent** model, which has
    application containers (**AppStack**) and user writeable containers (**Writeable
    Volumes**):'
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/980ba8cd-94f9-4895-8022-fa87e01f8957.png)'
  id: totrans-33
  prefs: []
  type: TYPE_IMG
- en: In the next section, we are going to take a look at how to build an AppStack
    and also how to deliver it to an end user.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
- en: How does App Volumes work? Step 1 – app capture
  id: totrans-35
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: So, how does App Volumes work? The first thing you must do is create or capture
    an application that can be delivered by App Volumes. You start this process by
    installing the application on a virtual desktop machine, which is referred to
    as the provisioning machine. This provisioning machine is basically a vanilla
    installation of the OS, with no applications installed.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
- en: When you start the capture process, an empty VMDK file (App Volumes also supports
    VHD), called an AppStack, is mounted on the provisioning machine. Next, you start
    the application installation as you would do normally. All of the files associated
    with this application are then redirected to the AppStack or VMDK file.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
- en: 'This is shown in the following diagram:'
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/3d666d9e-1583-4698-aaf9-2d24a546f0a2.png)'
  id: totrans-39
  prefs: []
  type: TYPE_IMG
- en: Once you have completed the capture process, the AppStack is set to read-only
    and is ready to be assigned to end users based on their Active Directory group
    membership. AppStacks can also be assigned to individual users or other groups.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
- en: How does App Volumes work? Step 2 – app delivery
  id: totrans-41
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: Once you have your AppStacks created, you can now deliver them to the end users.
    AppStacks are assigned based on Active Directory membership. An **App Volumes
    Agent** runs on their virtual desktop machine and mounts the virtual hard disk
    that contains the captured application. The agent "layers" in the applications
    files and settings, making the application appear as if it were fully integrated
    and installed locally, rather than running it from an additional drive. This is
    how applications are able to be delivered to a user in real-time, since **AppStack**
    can be assigned on the fly based on AD membership.
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
- en: 'This is shown in the following diagram:'
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/a246cfe9-e8be-40b8-8446-cd3067e27167.png)'
  id: totrans-44
  prefs: []
  type: TYPE_IMG
- en: When an **AppStack** is unassigned from an end user, the virtual hard drive
    is simply unmounted, taking with it all of the application's files and settings,
    making the OS appear as though the application was never actually there!
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
- en: This enables the delivery of applications to stateless virtual desktop machines,
    and in the case of JMP, delivers applications on demand as desktops are built
    and delivered to the end users.
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
- en: Installing and configuring JMP
  id: totrans-47
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we are going to install and configure the Horizon JMP solution.
    The key part of the solution is to not only install the other VMware technology
    components, such as App Volumes, but to also install the JMP Server itself.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
- en: Before we start the installation process, we are going to discuss the requirements
    and prerequisites.
  id: totrans-49
  prefs: []
  type: TYPE_NORMAL
- en: Prerequisites
  id: totrans-50
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: There are a number of elements that need to be in place before you install the
    JMP software, both from the other components that are required to make the solution
    work, to the hardware and software requirements for JMP itself. Let's start by
    listing the other VMware solution components first.
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
- en: VMware JMP component requirements
  id: totrans-52
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Supported versions of the VMware products that make up the JMP technology must
    be installed before you can start the installation of the JMP Server. These are
    required to utilize the JMP Integrated Workflow features. The following versions
    of the VMware products must be installed before you can install JMP Server:'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
- en: VMware Horizon 7 version 7.5 or later
  id: totrans-54
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: VMware App Volumes 2.14 or later
  id: totrans-55
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: VMware User Environment Manager 9.2.1 or later
  id: totrans-56
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: VMware Identity Manager 2.9.2 or later (for integration with VMware Workspace™
    ONE™)
  id: totrans-57
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Next, we will look at the hardware requirements to run the JMP Server.
  id: totrans-58
  prefs: []
  type: TYPE_NORMAL
- en: VMware JMP hardware requirements
  id: totrans-59
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'To install the JMP Server, you need either a physical or virtual server that''s
    configured with the following setup:'
  id: totrans-60
  prefs: []
  type: TYPE_NORMAL
- en: 4 CPUs or vCPUs
  id: totrans-61
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 8 GB memory (4 GB for POC)
  id: totrans-62
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 100 GB disk space (25 GB for POC)
  id: totrans-63
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Next, we will look at the software and database requirements for running the
    JMP Server.
  id: totrans-64
  prefs: []
  type: TYPE_NORMAL
- en: VMware JMP software requirements
  id: totrans-65
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The JMP Server needs to be installed on one of the following Windows Server
    operating systems:'
  id: totrans-66
  prefs: []
  type: TYPE_NORMAL
- en: Windows Server 2008 R2 SP1 64-bit Standard, Enterprise, or Datacenter
  id: totrans-67
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Windows Server 2012 R2 64-bit Standard or Datacenter
  id: totrans-68
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: Windows Server 2016 64-bit Standard or Datacenter
  id: totrans-69
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: 'You will also need a SQL database that''s using one of the following versions:'
  id: totrans-70
  prefs: []
  type: TYPE_NORMAL
- en: SQL Server Express 2014 64-bit (for POC deployments)
  id: totrans-71
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SQL Server 2012 (SP1, SP2, SP3, and SP4) 64-bit Standard and Enterprise
  id: totrans-72
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SQL Server 2014 (SP1 and SP2 with CU7 or later) 64-bit Standard and Enterprise
  id: totrans-73
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: SQL Server 2016 (SP1 with CU6 or later)
  id: totrans-74
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
- en: You will need to ensure that the SQL Server logins and permissions have been
    configured for the JMP Server host and Windows user account that you plan to use
    to install the JMP Server.
  id: totrans-75
  prefs: []
  type: TYPE_NORMAL
- en: Now that we have covered the prerequisites and other requirements, we can start
    the installation of the JMP Server.
  id: totrans-76
  prefs: []
  type: TYPE_NORMAL
- en: Installing the JMP Server
  id: totrans-77
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: In this section, we are going to install the JMP Server.
  id: totrans-78
  prefs: []
  type: TYPE_NORMAL
- en: 'To install the JMP Server, navigate to the location of the installer file.
    In the example lab environment, this is the shared folder on the domain controller,
    as shown in the following screenshot:'
  id: totrans-79
  prefs: []
  type: TYPE_NORMAL
- en: '![](img/6335a970-ca76-48e9-88ae-d1e00569b9f7.png)'
  id: totrans-80
  prefs: []
  type: TYPE_IMG
- en: 'Double-click the `VMware-Jmp-Installer-7.6.0-9823717` file to launch the installer.
    The installer will launch and you can complete the installation steps as described.
    We will also provide them here for clarity:'
  id: totrans-81
  prefs: []
  type: TYPE_NORMAL
- en: You will see the Welcome to the InstallShield Wizard for VMware just-in-Time
    Management Platform (JMP) Server screen.
  id: totrans-82
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click Next > to continue.
  id: totrans-83
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Then, you will see the VMware End User License Agreement screen.
  id: totrans-84
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click the radio button for I accept the terms in the license agreement, and
    then click Next > to continue.
  id: totrans-85
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Next, you will see the Allow HTTP Traffic on Port 80 screen. By default, port
    443 (HTTPS) is used, but if you want to use port 80, then check the box for Allow
    HTTP.
  id: totrans-86
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click Next > to continue.
  id: totrans-87
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'You will now see the Database Server for JMP Server Platform Services screen,
    as shown in the following screenshot:'
  id: totrans-88
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/8423d677-6f77-4ac4-89e4-f05a9902e986.png)'
  id: totrans-89
  prefs: []
  type: TYPE_IMG
- en: In the Database server that you are connecting to box, enter the details of
    the SQL Server. Alternatively, you can click the Browse... button and select it
    from the list of servers that are displayed.
  id: totrans-90
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Next, click the radio button for either Windows authentication or Server authentication.
    For server authentication, you then need to enter the Login ID and the Password
    for the account you want to use, and for Windows authentication, it will use the
    credentials of the currently logged in user. If you use this option then ensure
    that the account has the appropriate permission levels.
  id: totrans-91
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the Name of database catalog box, enter the name of the SQL database that
    you have set up for JMP. Alternatively, you can click the Browse... button and
    select the database from the list of databases that are displayed.
  id: totrans-92
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You then have the option to check the overwrite existing database checkbox.
    If you are installing additional JMP Servers, then ensure that this box is unchecked
    as checking it will overwrite an existing database should the installer find one.
  id: totrans-93
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Finally, to ensure secure communication between the JMP Server and the SQL server,
    check the Enable SSL box.
  id: totrans-94
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: When the Enable SSL box is checked, you need to ensure that the TLS/SSL certificate
    that's used on the SQL Server is imported into the Windows local certificate store
    on the JMP Server. If you have not done this, then the JMP Server installation
    process will fail.
  id: totrans-95
  prefs: []
  type: TYPE_NORMAL
- en: Click Next > to continue.
  id: totrans-96
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You will now see the Ready to Install Program screen.
  id: totrans-97
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click Finish to complete the installation.
  id: totrans-98
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: The next step is to ensure that the time is synchronized between the JMP Server
    and the Horizon Connection Server.
  id: totrans-99
  prefs: []
  type: TYPE_NORMAL
- en: Syncing the time with Horizon Connection Server
  id: totrans-100
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: The time on both the Horizon Connection Server and JMP Server hosts must be
    synchronized so that the authentication process between the two servers works
    successfully.
  id: totrans-101
  prefs: []
  type: TYPE_NORMAL
- en: When you access the JMP Integrated Workflow features using the Horizon Console,
    the JMP Server authenticates the token it receives from Horizon Connection Server,
    which in turn returns a token to the JMP Server. If the time between the two host
    servers is not in sync, then the Horizon Connection Server will reject the token
    and the JMP Integrated Workflow features won't be available from the Horizon Console.
  id: totrans-102
  prefs: []
  type: TYPE_NORMAL
- en: Since these servers are virtual machines, the easiest way to deploy this is
    via the ESXi host server. You can do this by configuring the Time Configuration
    option to point to a **Network Time Protocol** (**NTP**) client.
  id: totrans-103
  prefs: []
  type: TYPE_NORMAL
- en: 'On each of the virtual machines, open a command prompt, and then from the `c:\program
    files\VMware\VMware Tools` directory, run the following command:'
  id: totrans-104
  prefs: []
  type: TYPE_NORMAL
- en: '[PRE0]'
  id: totrans-105
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: In the next section, we are going to configure the JMP Server and the other
    solution components to work together by using the Horizon Console.
  id: totrans-106
  prefs: []
  type: TYPE_NORMAL
- en: Adding JMP Server and its components to Horizon
  id: totrans-107
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'The first thing to note is that JMP can only be configured using the new Horizon
    Console and not by using the View Admin console. To configure this, follow these
    steps:'
  id: totrans-108
  prefs: []
  type: TYPE_NORMAL
- en: To start the configuration and add the other components together, log in to
    the Horizon Console using `https://hzn7-cs1.pvolab.com/newadmin`.
  id: totrans-109
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'You will then see the login screen, as shown in the following screenshot:'
  id: totrans-110
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/c9f403a8-93b9-4246-ace0-009e7532eeb5.png)'
  id: totrans-111
  prefs: []
  type: TYPE_IMG
- en: Enter your username and password. Ensure that the correct domain has been selected
    from the drop-down box and then click Sign in.
  id: totrans-112
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'You will now see the dashboard screen, as shown in the following screenshot:'
  id: totrans-113
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/1db5aa62-d9c6-44f7-87a9-68c3ac07fec1.png)'
  id: totrans-114
  prefs: []
  type: TYPE_IMG
- en: Click on Settings JMP (**1**).
  id: totrans-115
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'You will now see the JMP Settings screen, as shown in the following screenshot:'
  id: totrans-116
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/9b6e04b1-b637-4dcf-987e-08487265aa25.png)'
  id: totrans-117
  prefs: []
  type: TYPE_IMG
- en: The first thing you need to do is add the JMP Server. To do this, click Add
    JMP Server (**2**).
  id: totrans-118
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'You will now see the Add JMP Server screen, as shown in the following screenshot:'
  id: totrans-119
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/cf4ca585-b287-425a-bb97-be9691007c38.png)'
  id: totrans-120
  prefs: []
  type: TYPE_IMG
- en: In the JMP Server URL box, enter the address for the JMP Server. In the example
    lab, this is `https://jmp.pvolab.com`.
  id: totrans-121
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Click Save to continue.
  id: totrans-122
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'You will now return to the JMP Settings screen, which now shows that the JMP
    Server has been validated and added, as shown in the following screenshot:'
  id: totrans-123
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/9aa66711-f3f6-4359-aab3-89af52891cd2.png)'
  id: totrans-124
  prefs: []
  type: TYPE_IMG
- en: 'Next, we are going to move on to the Horizon 7 configuration and add the Horizon
    Connection Server. You will now see the following screenshot:'
  id: totrans-125
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/7e4ef616-cbf0-4d95-96c8-d1d2bfa41b1a.png)'
  id: totrans-126
  prefs: []
  type: TYPE_IMG
- en: Click the Add Credentials button.
  id: totrans-127
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'You will now see the Edit Horizon configuration screen, as shown in the following
    screenshot:'
  id: totrans-128
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/a9cbdcca-d6a5-4249-831d-f03d44de579f.png)'
  id: totrans-129
  prefs: []
  type: TYPE_IMG
- en: In the Connection Server UR**L** box, enter the address to the Connection Server.
    In the example lab, this is `https://hzn7-cs1.pvolab.com`.
  id: totrans-130
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the Service Account User Name, enter the username that is used for the Horizon
    View service account, and in the Service Account Password box, enter the password
    for the account.
  id: totrans-131
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Finally, in the Service Account Domain box, enter the domain name. In the example
    lab, this is the `pvolab.com` domain.
  id: totrans-132
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: When you have completed the configuration details, click Save to continue.
  id: totrans-133
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, we are going to configure Active Directory, as shown in the following
    screenshot:'
  id: totrans-134
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/73dcdd8c-755e-4b57-b489-67d428cedb44.png)'
  id: totrans-135
  prefs: []
  type: TYPE_IMG
- en: Click the Add button.
  id: totrans-136
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'You will now see the Add Active Directory configuration screen, as shown in
    the following screenshot:'
  id: totrans-137
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/abeeed28-37d6-4e98-8e29-2936d0911563.png)'
  id: totrans-138
  prefs: []
  type: TYPE_IMG
- en: In the NETBIOS Name box, enter the NETBIOS name for the domain. In the example
    lab, this is `PVOLAB`.
  id: totrans-139
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Then, in the DNS Domain Name box, enter the name of the domain. In the example
    lab, this is `pvolab.com`. Then, click the radio button to choose the protocol.
    In the example lab, we are going to select LDAP (non-secure).
  id: totrans-140
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the Bind User Name, enter a user that has access to Active Directory and
    can create machine and user accounts, and then in the Bind Password box, enter
    the password for this user account.
  id: totrans-141
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Finally, in the Context box, enter the details in the format `DC=`. In the example
    lab, this would be `DC=pvolab,DC=com`.
  id: totrans-142
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: When you have completed the configuration details, click Save to continue.
  id: totrans-143
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, we are going to configure App Volumes, as shown in the following screenshot:'
  id: totrans-144
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/b984a12c-9db8-4bc5-8fdf-39107e95682c.png)'
  id: totrans-145
  prefs: []
  type: TYPE_IMG
- en: Click the Add button.
  id: totrans-146
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'You will now see the Add App Volumes Instance configuration screen, as shown
    in the following screenshot:'
  id: totrans-147
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/8441821f-81e1-4026-8739-f3c517531340.png)'
  id: totrans-148
  prefs: []
  type: TYPE_IMG
- en: In the Name box, enter the name of the App Volumes instance.
  id: totrans-149
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Next, in the App Volumes Server URL box, enter the address to the App Volumes
    Server. In the example lab, this is `https://app-vol.pvolab.com`.
  id: totrans-150
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the Service Account User Name, enter the details of the service account that's
    used to manage the App Volumes server, and in the Service Account Password box,
    enter the password for the service account.
  id: totrans-151
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Finally, in the Service Account Domain box, enter the name of the domain for
    the service account.
  id: totrans-152
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: When you have completed the configuration details, click Save to continue.
  id: totrans-153
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'Next, we are going to configure the final component, UEM, as shown in the following
    screenshot:'
  id: totrans-154
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/829e2018-ddf1-4c27-ab3f-163123b9a417.png)'
  id: totrans-155
  prefs: []
  type: TYPE_IMG
- en: Click the Add button.
  id: totrans-156
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: 'You will now see the Add UEM File Share configuration screen, as shown in the
    following screenshot:'
  id: totrans-157
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: '![](img/b650c47b-d9c9-4e27-b341-d2a4d8c72718.png)'
  id: totrans-158
  prefs: []
  type: TYPE_IMG
- en: In the File Share UNC Path box, enter the path details to the UEM configuration
    share. In the example lab, this is on the domain controller, and so the path is
    `\\dc\uem-configuration`.
  id: totrans-159
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: In the User Name box, enter the details of a user that has access to the shared
    folder, and in the Password box, enter the password for this account.
  id: totrans-160
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: Finally, in the Active Directory box, enter the domain details.
  id: totrans-161
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: When you have completed the configuration details, click Save to continue.
  id: totrans-162
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: You have now successfully configured the JMP Server settings. In the next section,
    we are going to look at configuring JMP assignments.
  id: totrans-163
  prefs: []
  type: TYPE_NORMAL
- en: JMP assignments
  id: totrans-164
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'Now that we have completed the setup and configuration of the JMP Server and
    the other components, we can now create the JMP assignments. A JMP assignment
    brings together the end users, Instant Clone virtual desktop pools, applications
    (App Volumes AppStacks), and user profiles and settings (VMware UEM). To create
    the assignment, follow these steps:'
  id: totrans-165
  prefs: []
  type: TYPE_NORMAL
- en: Log in to the Horizon Console using `https://hzn7-cs1.pvolab.com/newadmin`.
  id: totrans-166
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
- en: As with the previous configuration steps, JMP assignments can only be configured
    using the new Horizon Console.
  id: totrans-167
  prefs: []
  type: TYPE_NORMAL
  zh: 与之前的配置步骤一样，JMP任务只能通过新的Horizon控制台进行配置。
- en: You will then see the login screen. Log in using the administrator account and
    password.
  id: totrans-168
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你将看到登录屏幕。使用管理员帐户和密码登录。
- en: 'Once you''re logged in, click on Assignments JMP (**1**) in the top left of
    the screen, as shown in the following screenshot:'
  id: totrans-169
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录后，点击屏幕左上角的任务JMP (**1**)，如以下截图所示：
- en: '![](img/fce9ca53-407a-4d85-bf95-ce5598dd58cc.png)'
  id: totrans-170
  prefs: []
  type: TYPE_IMG
  zh: '![](img/fce9ca53-407a-4d85-bf95-ce5598dd58cc.png)'
- en: You will now see the JMP Assignments screen.
  id: totrans-171
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在将看到JMP任务屏幕。
- en: Click the New button. You will now see the New Assignment screen.
  id: totrans-172
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击新建按钮。你现在将看到新任务屏幕。
- en: Enter the details of either a user or group that you want to assign the desktop
    workspace to. These users and groups are selected from the domain details that
    were entered during the configuration process. In the search box, start typing
    in the user or group name. The matching names will appear in the results box.
  id: totrans-173
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 输入你想要分配桌面工作区的用户或组的详细信息。这些用户和组是从配置过程中输入的域详细信息中选择的。在搜索框中，开始输入用户或组的名称，匹配的名称会出现在结果框中。
- en: Select the user or group you want to assign and then click Next to continue.
  id: totrans-174
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择你要分配的用户或组，然后点击下一步继续。
- en: You will now see the Desktops configuration screen, where you choose the desktop
    pool to include in the JMP assignment. Select the desktop pool from the table
    of those shown (read from the Connection Server), and then click Next.
  id: totrans-175
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在将看到桌面配置屏幕，在这里你选择要包括在JMP任务中的桌面池。从显示的表格中选择桌面池（从连接服务器读取），然后点击下一步。
- en: In the next screen, you can choose which applications you want to include in
    the JMP assignment. These applications are the AppStacks, which are displayed
    and available from the configured App Volumes server. Select the apps from those
    displayed in the table and then click Next to continue.
  id: totrans-176
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在下一个屏幕中，你可以选择要包括在JMP任务中的应用程序。这些应用程序是AppStacks，可以从配置的App Volumes服务器中显示和获取。从显示的表格中选择应用程序，然后点击下一步继续。
- en: You will now see the User Environment configuration screen. The settings on
    this screen are automatically pulled from the UEM server that was configured in
    the previous section.
  id: totrans-177
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在将看到用户环境配置屏幕。该屏幕上的设置会自动从先前配置的UEM服务器中提取。
- en: The first setting on the screen is for Disable UEM Settings and is a simple
    on or off switch. Switching this to on means that none of the UEM settings will
    be applied to this assignment. If you have this set to No and you click on Skip
    in the settings page, then be aware that all settings will be applied to the assignment.
    You will also see a list of the settings displayed in a table on the screen. You
    can check individual settings if you want to apply them to this assignment.
  id: totrans-178
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 屏幕上的第一个设置是禁用UEM设置，这是一个简单的开关。将此设置为开启表示该任务不会应用任何UEM设置。如果你将其设置为“否”，并在设置页面点击跳过，那么请注意，所有设置将应用于此任务。你还将看到屏幕上显示的设置列表，你可以勾选单个设置，如果你希望将它们应用到此任务。
- en: Click Next to continue.
  id: totrans-179
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击下一步继续。
- en: You will now see the Definitions configuration screen. In the Name box, enter
    a name for this JMP assignment, and optionally, enter a description. A default
    assignment name is automatically added.
  id: totrans-180
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在将看到定义配置屏幕。在名称框中，输入此JMP任务的名称，并可选择性地输入描述。系统会自动添加一个默认的任务名称。
- en: Then, in the AppStack Attach box, from the drop-down menu, select how you want
    the AppStacks to be attached to the virtual machines. You can choose either On
    next login or Immediately.
  id: totrans-181
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 然后，在AppStack附加框中，从下拉菜单中选择你希望如何将AppStacks附加到虚拟机。你可以选择“下次登录时”或“立即”。
- en: Click Next to continue.
  id: totrans-182
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击下一步以继续。
- en: You will now see the Summary screen.
  id: totrans-183
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在将看到总结屏幕。
- en: If you are happy with your configuration, then click Submit.
  id: totrans-184
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 如果你对配置满意，点击提交。
- en: You will now return to the JMP Settings screen where you will see that the assignment
    is shown as Pending. Once the assignment is loaded, the status will change to
    Success.
  id: totrans-185
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 你现在将返回到JMP设置屏幕，在这里你会看到任务显示为“待定”。一旦任务加载完成，状态将变更为“成功”。
- en: You have successfully configured a JMP assignment. When an end user next logs
    in to a desktop in the desktop pool that's been configured as part of the assignment,
    the virtual desktop machine will be created from an Instant Clone. The apps will
    be delivered via an App Volumes AppStack and the user's profile and personal data
    will be delivered via VMware UEM.
  id: totrans-186
  prefs: []
  type: TYPE_NORMAL
- en: Summary
  id: totrans-187
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
- en: 'In this chapter, we have taken a closer look at the just-in-time management
    platform and how it delivers all the component parts that make up the desktop
    back to the end users on demand. JMP is made up of a number of different VMware
    technologies: Instant Clones to build the virtual desktop machines, App Volumes
    to deliver applications as app layers (AppStacks), and VMware UEM to deliver the
    unique end user elements such as profiles and user-authored data. Optionally,
    the desktops and apps can be made available from the Workspace ONE portal.'
  id: totrans-188
  prefs: []
  type: TYPE_NORMAL
- en: Using this approach allows you to deliver truly stateless virtual desktop machines
    on demand.
  id: totrans-189
  prefs: []
  type: TYPE_NORMAL
- en: In the next chapter, we are going to look at some of the tips for troubleshooting
    an environment.
  id: totrans-190
  prefs: []
  type: TYPE_NORMAL
