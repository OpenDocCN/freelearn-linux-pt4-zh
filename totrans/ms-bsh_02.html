<html><head></head><body>
        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Operators</h1>
                
            
            <article>
                
<p class="calibre1">What we have looked at so far is tinkering with values returned from variable expansions and descriptors used in a tricky way. So, something nice, but we could not do much more, since we do not have a way to actually relate values, compare or even modify at our will.</p>
<p class="calibre1">Here is where the operators come in to play, and we will see how to modify the value of a variable so that it will hold a value and, over time, modify to gather new information. So, let's start from something simple, from basic math then move on to something more complex.</p>
<p class="calibre1">One last thing we have to bear in mind before proceeding is that the operators follow an order of precedence:</p>
<ul class="calibre12">
<li class="calibre13">The compound logical operators <kbd class="calibre9">-a</kbd>, <kbd class="calibre9">-o</kbd>, and <kbd class="calibre9">&amp;&amp;</kbd> have a low precedence</li>
<li class="calibre13">The arithmetic operators have the following precedence:</li>
<li class="calibre13">
<ul class="calibre23">
<li class="calibre13">Multiply</li>
<li class="calibre13">Divide</li>
<li class="calibre13">Add</li>
<li class="calibre13">Subtract</li>
</ul>
</li>
<li class="calibre13">The evaluation of operators with equal precedence is from left to right</li>
</ul>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Arithmetic operators</h1>
                
            
            <article>
                
<p class="calibre1">Arithmetic operators do what you think they do, that is, add, subtract, divide, and so on. It is something we are familiar with even without specific programming knowledge. Let's see each of them and how they can be used to manipulate the value of variables.</p>
<p class="calibre1">Before proceeding, keep in mind that for a shell script, a number is a decimal unless you prefix that with a <kbd class="calibre9">0</kbd> for the octal, a <kbd class="calibre9">0x</kbd> for a hexadecimal number, or a <kbd class="calibre9">base#number</kbd> for a number that evaluates on the base.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The + operator</h1>
                
            
            <article>
                
<p class="calibre1">This is like what we see at primary school; this operator allows us to add an integer to the value of the variable, as we can see in the following example:</p>
<pre class="codepackt">
<strong class="calibre2">#!/bin/bash</strong><br class="title-page-name"/><strong class="calibre2">echo "Hello user, please give me a number: "</strong>    <br class="title-page-name"/><strong class="calibre2">read user_input</strong>    <br class="title-page-name"/><strong class="calibre2">echo "And now another one, please: "</strong>    <br class="title-page-name"/><strong class="calibre2">read adding</strong>    <br class="title-page-name"/><strong class="calibre2">addition=$((user_input+adding))</strong>    <br class="title-page-name"/><strong class="calibre2">echo "The number is: ${user_input:-99}"</strong><br class="title-page-name"/><strong class="calibre2">echo "The number added of ${adding} is: ${addition}"</strong>  
</pre>
<p class="calibre1">Now time to invoke the script:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:$ ./useraddition.sh </strong><br class="title-page-name"/><strong class="calibre2">Hello user, please give me a number: </strong><br class="title-page-name"/><strong class="calibre2">120</strong><br class="title-page-name"/><strong class="calibre2">And now another one, please: </strong><br class="title-page-name"/><strong class="calibre2">30</strong><br class="title-page-name"/><strong class="calibre2">The number is: 120</strong><br class="title-page-name"/><strong class="calibre2">The number added of 30 is: 150</strong>  
</pre>
<p class="calibre1">As you have probably noted, we used a double parenthesis construct <kbd class="calibre9">$(( ))</kbd> to perform this arithmetic expansion and evaluation: in short, it is as we said, expand and evaluate, then return the value. It is a common notation in binary operators and also allows us to quote special characters as if we'd enclosed them into double quotes, so we are not compelled to escape that. The only exception is the double quote, which still must be escaped. Do not worry; we will read more about special characters and how to quote them later on.</p>
<p class="calibre1">Now, just try to run the script and give no numbers:</p>
<pre class="codepackt">
<strong class="calibre2">The number is: 99</strong><br class="title-page-name"/><strong class="calibre2">The number added of is: 0</strong>  
</pre>
<p class="calibre1">The number <kbd class="calibre9">99</kbd> is not an assignment, just a default value we were returned in case the variable held no usable values, but the first and second variables have no assignment so adding one value to the other leads us to <kbd class="calibre9">0</kbd>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The - operator</h1>
                
            
            <article>
                
<p class="calibre1">Well, in this case, we are going to subtract something from the value of the variable with a little caveat: this is a left-associative operation, with the evaluation order from left to right, and this means that we are subtracting the value at the right of the minus sign from the value on the left:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ a=20 ; b=5 ; c=$((a-b)) ; echo ${c}</strong><br class="title-page-name"/><strong class="calibre2">15</strong>  
</pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The * operator</h1>
                
            
            <article>
                
<p class="calibre1">To multiply, we do not need to care about the order; one value is multiplied for another one, no matter which direction we take:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ a=20 ; b=5 ; c=$((${a}*${b})) ; echo ${c}</strong><br class="title-page-name"/><strong class="calibre2">100</strong> 
</pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The / operator</h1>
                
            
            <article>
                
<p class="calibre1">Division is another operation left-associative, so we divide the number on the left of the division character by the number on the right:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ a=20 ; b=5 ; c=$((a/b)) ; echo ${c}</strong><br class="title-page-name"/><strong class="calibre2">4 </strong>  
</pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The % operator</h1>
                
            
            <article>
                
<p class="calibre1">The modulo operator gives us the remainder of the division between two integers:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ a=29 ; b=5 ; c=$((a/b)) ; echo ${c}</strong><br class="title-page-name"/><strong class="calibre2">5</strong><br class="title-page-name"/><strong class="calibre2">zarrelli:~$ a=29 ; b=5 ; c=$((a%b)) ; echo ${c}</strong><br class="title-page-name"/><strong class="calibre2">4</strong>  

</pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The ** operator</h1>
                
            
            <article>
                
<p class="calibre1">As we saw at school, exponentiation is a number multiplied by itself as many times as imposed by the exponent:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ a=4 ; b=5 ; c=$((a**b)) ; echo ${c}</strong><br class="title-page-name"/><strong class="calibre2">1024</strong>    <br class="title-page-name"/><strong class="calibre2">zarrelli:~$ a=4 ; c=$((a*a*a*a*a)) ; echo ${c}</strong><br class="title-page-name"/><strong class="calibre2">1024</strong>  
</pre>
<p class="calibre1">In this case, we are facing a left-associative operation and the order matters. Be aware that, in any case, the variables are expanded before the evaluation takes place with all the operators we have seen so far. We are using both <kbd class="calibre9">$a</kbd> and<kbd class="calibre9">${a}</kbd> to get you used to what you will face in real life, looking at the scripts you will find on the Internet.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Assignment operators</h1>
                
            
            <article>
                
<p class="calibre1">We have seen how to manipulate the value assigned to a variable and an integer so far, and then reassign this value to another variable or the same one. But why use two operations when you can alter the value of a variable and reassign it at the same time using the assignment operators?</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The += operator</h1>
                
            
            <article>
                
<p class="calibre1">This operator adds a quantity to the value of the variable and assigns the outcome to the variable itself, but to clarify its use, let's rewrite one of the examples we've seen before:</p>
<pre class="codepackt">
<strong class="calibre2">#!/bin/bash</strong>    <br class="title-page-name"/><strong class="calibre2">echo "Hello user, please give me a number: "</strong>    <br class="title-page-name"/><strong class="calibre2">read user_input</strong>    <br class="title-page-name"/><strong class="calibre2">echo "And now another one, please: "</strong>  
</pre>
<p class="calibre1">Adding</p>
<pre class="codepackt">
<strong class="calibre2">echo "The user_input variable value is: ${user_input}"</strong><br class="title-page-name"/><strong class="calibre2">echo "The adding variable value is: ${adding}"</strong><br class="title-page-name"/><strong class="calibre2">echo "${user_input} added of ${adding} is: $((user_input+=adding))"</strong><br class="title-page-name"/><strong class="calibre2">echo "And the user_input variable has now  the value of <br class="title-page-name"/>${user_input}"</strong><br class="title-page-name"/><strong class="calibre2">echo"But the adding variable has still the value of ${adding}"</strong>  
</pre>
<p class="calibre1">And now, let's run it, as follows:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ ./userreassign.sh </strong><br class="title-page-name"/><strong class="calibre2">Hello user, please give me a number: </strong><br class="title-page-name"/><strong class="calibre2">150</strong><br class="title-page-name"/><strong class="calibre2">And now another one, please: </strong><br class="title-page-name"/><strong class="calibre2">50</strong><br class="title-page-name"/><strong class="calibre2">The user_input variable value is: 150</strong><br class="title-page-name"/><strong class="calibre2">The adding variable value is: 50</strong><br class="title-page-name"/><strong class="calibre2">150 added of 50 is: 200</strong><br class="title-page-name"/><strong class="calibre2">And the user_input variable has now the value of 200</strong><br class="title-page-name"/><strong class="calibre2">But the adding variable has still the value of 50</strong>  
</pre>
<p class="calibre1">Easy! And we did not have to reassign the value of 200 explicitly.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The -= operator</h1>
                
            
            <article>
                
<p class="calibre1">Actually, this is very similar to the the former operator, only in this case, we do a subtraction and reassign the value. Let's rewrite our last script with the operator and see what happens:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ ./userreassign-subtract.sh </strong><br class="title-page-name"/><strong class="calibre2">Hello user, please give me a number: </strong><br class="title-page-name"/><strong class="calibre2">200</strong><br class="title-page-name"/><strong class="calibre2">And now another one, please: </strong><br class="title-page-name"/><strong class="calibre2">50</strong><br class="title-page-name"/><strong class="calibre2">The user_input variable value is: 200</strong><br class="title-page-name"/><strong class="calibre2">The adding variable value is: 50</strong><br class="title-page-name"/><strong class="calibre2">200 subtracted of 50 is: 150</strong><br class="title-page-name"/><strong class="calibre2">And the user_input variable has now  the value of 150</strong><br class="title-page-name"/><strong class="calibre2">But the adding variable has still the value of 50</strong>  
</pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The *= operator</h1>
                
            
            <article>
                
<p class="calibre1">In this case, we are multiplying the value of the variable for the given number and reassigning:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ ./userreassign-multiply.sh </strong><br class="title-page-name"/><strong class="calibre2">Hello user, please give me a number: </strong><br class="title-page-name"/><strong class="calibre2">-1</strong><br class="title-page-name"/><strong class="calibre2">And now another one, please: </strong><br class="title-page-name"/><strong class="calibre2">9223372036854775808</strong><br class="title-page-name"/><strong class="calibre2">The user_input variable value is: -1</strong><br class="title-page-name"/><strong class="calibre2">The adding variable value is: 9223372036854775808</strong><br class="title-page-name"/><strong class="calibre2">-1 multiplied for  9223372036854775808 is: <br class="title-page-name"/>-9223372036854775808</strong><br class="title-page-name"/><strong class="calibre2">And the user_input variable has now the value of <br class="title-page-name"/>-9223372036854775808</strong><br class="title-page-name"/><strong class="calibre2">But the adding variable has still the value of <br class="title-page-name"/>9223372036854775808</strong>  
</pre>
<p class="calibre1">Nice!  Indeed, we reached one of boundaries of the modern Bash: in the past, the value held by a variable could be represented by a 32-bit signed long, but from version 2.05b onward it switched to a 64-bit signed integer in the following range of:</p>
<pre class="codepackt">
<strong class="calibre2">−9,223,372,036,854,775,808 to 9,223,372,036,854,775,807</strong>  
</pre>
<div class="packt_tip">Remember that values containing a comma are interpreted as a character string.</div>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The /= operator</h1>
                
            
            <article>
                
<p class="calibre1">In this case, we are dividing the value of the variable for a given number and reassigning the new value to it:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli@:~$ ./userreassign-division.sh </strong><br class="title-page-name"/><strong class="calibre2">Hello user, please give me a number: </strong><br class="title-page-name"/><strong class="calibre2">10</strong><br class="title-page-name"/><strong class="calibre2">And now another one, please: </strong><br class="title-page-name"/><strong class="calibre2">2</strong><br class="title-page-name"/><strong class="calibre2">The user_input variable value is: 10</strong><br class="title-page-name"/><strong class="calibre2">The adding variable value is: 2</strong><br class="title-page-name"/><strong class="calibre2">10 divided for 2 is: 5</strong><br class="title-page-name"/><strong class="calibre2">And the user_input variable has now the value of 5</strong><br class="title-page-name"/><strong class="calibre2">But the adding variable has still the value of 2</strong>  
</pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The %= operator</h1>
                
            
            <article>
                
<p class="calibre1">With modulo assignment, we divide the value of the variable for a given number and reassign the remainder. Let's just modify a couple of lines in our script:</p>
<pre class="codepackt">
<strong class="calibre2">echo "The value of ${user_input} divided by ${adding} is: $((user_input/=adding))"</strong><br class="title-page-name"/><strong class="calibre2">echo "The remainder of ${user_input} divided by ${adding} is: $((user_input%=adding))"</strong>
</pre>
<p class="calibre1">And execute it:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli@:~$ ./userreassign-modulo.sh </strong><br class="title-page-name"/><strong class="calibre2">Hello user, please give me a number: </strong><br class="title-page-name"/><strong class="calibre2">324</strong><br class="title-page-name"/><strong class="calibre2">And now another one, please: </strong><br class="title-page-name"/><strong class="calibre2">12</strong><br class="title-page-name"/><strong class="calibre2">The user_input variable value is: 324</strong><br class="title-page-name"/><strong class="calibre2">The adding variable value is: 12</strong><br class="title-page-name"/><strong class="calibre2">The value of 324 divided by 12 is: 27</strong><br class="title-page-name"/><strong class="calibre2">The remainder of 27 divided by 12 is: 3</strong><br class="title-page-name"/><strong class="calibre2">And the user_input variable has now  the value of 3</strong><br class="title-page-name"/><strong class="calibre2">But the adding variable has still the value of 12</strong>  
</pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">The ++ or -- operators</h1>
                
            
            <article>
                
<p class="calibre1">This is the unary operator <kbd class="calibre9">++</kbd> (or <kbd class="calibre9">--</kbd>), which allows us to increase/decrease the value of a variable of <kbd class="calibre9">1</kbd> and reassign it, but be careful, the position of the operator matters:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ a=15 ; echo $((a++)) ; echo ${a}</strong><br class="title-page-name"/><strong class="calibre2">15</strong><br class="title-page-name"/><strong class="calibre2">16</strong><br class="title-page-name"/><strong class="calibre2">zarrelli:~$ a=15 ; echo $((++a)) ; echo ${a}</strong><br class="title-page-name"/><strong class="calibre2">16</strong><br class="title-page-name"/><strong class="calibre2">16</strong>  
</pre>
<p class="calibre1">Can you figure out what happened? Simply, in the first case, the first operator returned the value and, only after, added 1 to it; in the second case, first it added 1 to the value and then returned it. Pay attention to this operator because it is widely used inside loops to count the cycles and eventually break out from them:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ cat loop.sh </strong><br class="title-page-name"/><strong class="calibre2">#!/bin/bash</strong>   <br class="title-page-name"/><strong class="calibre2">counter=10</strong>    <br class="title-page-name"/><strong class="calibre2">while [ $counter -gt 0 ]; </strong><br class="title-page-name"/><strong class="calibre2">do</strong><br class="title-page-name"/><strong class="calibre2">echo"Loop number: $((counter--))"</strong><br class="title-page-name"/><strong class="calibre2">done</strong>  
</pre>
<p class="calibre1">We instance a variable named counter with a value of <kbd class="calibre9">10</kbd>, then we define a loop, which while the counter value is greater than <kbd class="calibre9">0</kbd>, it prints the value of the counter and decreases it, reassigning it. At each cycle, the variable value is printed and then lowered by  <kbd class="calibre9">1</kbd>. Once the counter reaches <kbd class="calibre9">0</kbd>, the while condition is no longer valid and the loop stops:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ ./loop.sh </strong><br class="title-page-name"/><strong class="calibre2">Loop number: 10</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 9</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 8</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 7</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 6</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 5</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 4</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 3</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 2</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 1</strong>  
</pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Bitwise operators</h1>
                
            
            <article>
                
<p class="calibre1">Bitwise operators are useful when dealing with bit masks, but in normal practice, they are not so easy to use, and so you will not encounter them very often. However, since they are available in Bash we are going to have a look at them with some examples.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Left shift (&lt;&lt;)</h1>
                
            
            <article>
                
<p class="calibre1">The bitwise left shift operators simply multiplies by 2 a value for each shift position; the following example will make everything more clear:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ x=10 ; echo $((x&lt;&lt;1))</strong><br class="title-page-name"/><strong class="calibre2">20</strong><br class="title-page-name"/><strong class="calibre2">zarrelli:~$ x=10 ; echo $((x&lt;&lt;2))</strong><br class="title-page-name"/><strong class="calibre2">40</strong><br class="title-page-name"/><strong class="calibre2">zarrelli:~$ x=10 ; echo $((x&lt;&lt;3))</strong><br class="title-page-name"/><strong class="calibre2">80</strong><br class="title-page-name"/><strong class="calibre2">zarrelli:~$ x=10 ; echo $((x&lt;&lt;4))</strong><br class="title-page-name"/><strong class="calibre2">160</strong>  
</pre>
<p class="calibre1">What happened? As we said before, the bitwise operators work on a bit mask, so let's start converting the integer <kbd class="calibre9">10</kbd> to its binary representation in 16-bit and using a power of 2 table to check the values.</p>
<p class="calibre1">In this case, a simple method to represent a decimal in a binary form is to use the power of two notations, starting with dividing our integer in a sum of power of two numbers. In our example, the highest power of two that fits into <kbd class="calibre9">10</kbd> is <kbd class="calibre9">2<sup class="calibre25">3</sup></kbd>, which is <kbd class="calibre9">8</kbd>, plus <kbd class="calibre9">2<sup class="calibre25">1</sup></kbd>,that is, <kbd class="calibre9">2</kbd>. So, among the powers of two we select only  <kbd class="calibre9">23</kbd> and <kbd class="calibre9">21</kbd> and we can represent this in a table like the following:</p>
<table class="table">
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2<sup class="calibre26">7</sup></strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2<sup class="calibre26">6</sup></strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2<sup class="calibre26">5</sup></strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2<sup class="calibre26">4</sup></strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2<sup class="calibre26">3</sup></strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2<sup class="calibre26">2</sup></strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2<sup class="calibre26">1</sup></strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2<sup class="calibre26">0</sup></strong></p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">128</p>
</td>
<td class="calibre8">
<p class="calibre1">64</p>
</td>
<td class="calibre8">
<p class="calibre1">32</p>
</td>
<td class="calibre8">
<p class="calibre1">16</p>
</td>
<td class="calibre8">
<p class="calibre1">8</p>
</td>
<td class="calibre8">
<p class="calibre1">4</p>
</td>
<td class="calibre8">
<p class="calibre1">2</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">8</p>
</td>
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">2</p>
</td>
<td class="calibre8"/>
</tr>
</tbody>
</table>
<p class="calibre1"> </p>
<p class="calibre1">If we mark with a <kbd class="calibre9">1</kbd> the powers of <kbd class="calibre9">2</kbd>, we used to represent the number <kbd class="calibre9">10</kbd> and with <kbd class="calibre9">0</kbd> those unused, the result will be <kbd class="calibre9">1010</kbd>, or <kbd class="calibre9">00001010</kbd> if we use 8-bit to represent the number.</p>
<p class="calibre1">What we are going to do now is to shift all the digits to the left by one position, but this gives us an issue with the right end digit, which has no digit on its right to take over its place. So, for the last right slot, we will use a <kbd class="calibre9">0</kbd>:</p>
<pre class="codepackt">
<strong class="calibre2">10100</strong>  
</pre>
<table class="table">
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">128</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">64</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">32</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">16</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">8</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">4</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">1</strong></p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">16</p>
</td>
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">4</p>
</td>
<td class="calibre8"/>
<td class="calibre8"/>
</tr>
</tbody>
</table>
<p class="calibre1"> </p>
<p class="calibre1">And this number, converted into decimal, is <kbd class="calibre9">20</kbd>. So now, let's see what  <kbd class="calibre9">echo$((x&lt;&lt;2))</kbd> turns into:</p>
<table class="table">
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">128</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">64</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">32</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">16</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">8</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">4</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">1</strong></p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">32</p>
</td>
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">8</p>
</td>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
</tr>
</tbody>
</table>
<p class="calibre1"> </p>
<p class="calibre1">So, we have <kbd class="calibre9">40</kbd>. Now it is time to go over <kbd class="calibre9">$((x&lt;&lt;3))</kbd>, moving out the first one on the left, adding a trailing <kbd class="calibre9">0</kbd> and adding a sign bit at the beginning:</p>
<pre class="codepackt">
<strong class="calibre2">1010000</strong>  

</pre>
<table class="table">
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">128</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">64</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">32</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">16</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">8</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">4</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">1</strong></p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">64</p>
</td>
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">16</p>
</td>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
</tr>
</tbody>
</table>
<p class="calibre1"> </p>
<p class="calibre1">We reached <kbd class="calibre9">80</kbd>; now, let's go for <kbd class="calibre9">$((x&lt;&lt;4))</kbd>, same procedure:</p>
<pre class="codepackt">
<strong class="calibre2">10100000</strong>  
</pre>
<table class="table">
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">128</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">64</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">32</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">16</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">8</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">4</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">1</strong></p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">128</p>
</td>
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">32</p>
</td>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
</tr>
</tbody>
</table>
<p class="calibre1"> </p>
<p class="calibre1">Well, <kbd class="calibre9">160</kbd> is the result, as you can imagine. So now we know a really fast method to multiply a number by the power of two, but what if we want to divide?</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Right shift (&gt;&gt;)</h1>
                
            
            <article>
                
<p class="calibre1">The bitwise right shift is a great method to divide a number by <kbd class="calibre9">2</kbd> at each position, so division by power of <kbd class="calibre9">2</kbd>, shifting the bit to the right. Note that this operation pads on the left with the most significant bit, that is the sign bit, so everything will be padded by one, but the following example will make everything easier:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ x=160 ; echo $((x&gt;&gt;1))</strong><br class="title-page-name"/><strong class="calibre2">80</strong><br class="title-page-name"/><strong class="calibre2">zarrelli:~$ x=160 ; echo $((x&gt;&gt;2))</strong><br class="title-page-name"/><strong class="calibre2">40</strong><br class="title-page-name"/><strong class="calibre2">zarrelli:~$ x=160 ; echo $((x&gt;&gt;3))</strong><br class="title-page-name"/><strong class="calibre2">20</strong><br class="title-page-name"/><strong class="calibre2">zarrelli:~$ x=160 ; echo $((x&gt;&gt;4))</strong><br class="title-page-name"/><strong class="calibre2">10</strong>  
</pre>
<p class="calibre1">So, let's start with <kbd class="calibre9">160</kbd>:</p>
<pre class="codepackt">
<strong class="calibre2">10100000</strong>  
</pre>
<table class="table">
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">128</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">64</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">32</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">16</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">8</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">4</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">1</strong></p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">128</p>
</td>
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">32</p>
</td>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
</tr>
</tbody>
</table>
<p class="calibre1">What we will do now is to shift one position to the right:</p>
<pre class="codepackt">
<strong class="calibre2">1010000</strong>  
</pre>
<table class="table">
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">128</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">64</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">32</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">16</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">8</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">4</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">1</strong></p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">64</p>
</td>
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
</tr>
</tbody>
</table>
<p class="calibre1"> </p>
<p class="calibre1">Now we have <kbd class="calibre9">80</kbd>, but again, one position to the left:</p>
<table class="table">
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">128</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">64</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">32</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">16</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">8</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">4</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">1</strong></p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">32</p>
</td>
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">8</p>
</td>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
</tr>
</tbody>
</table>
<p class="calibre1"> </p>
<p class="calibre1">Now, as an exercise, calculate by yourself the remaining values.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Bitwise AND</h1>
                
            
            <article>
                
<p class="calibre1">This is the bitwise AND operator; it is similar to a logical AND but works on the bit mask on the binary representation of the integer. The binary bits are read from left to right and compared between the two numbers: if, in the same position of each number, we find a <kbd class="calibre9">1</kbd>, the result will be <kbd class="calibre9">1</kbd>, otherwise it will be <kbd class="calibre9">0</kbd>:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ x=50 ; y=20; echo $((x&amp;y))</strong><br class="title-page-name"/><strong class="calibre2">16</strong>  
</pre>
<p class="calibre1">How did we come to such a value? Let's create a matrix with the binary values of <kbd class="calibre9">50</kbd> and <kbd class="calibre9">20</kbd>:</p>
<table class="table">
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">128</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">64</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">32</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">16</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">8</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">4</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">1</strong></p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">50</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">20</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">&amp;</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
</tbody>
</table>
<p class="calibre1"> </p>
<p class="calibre1">The result is the binary <kbd class="calibre9">00010000</kbd>, which in decimal is <kbd class="calibre9">16</kbd>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Bitwise OR (|)</h1>
                
            
            <article>
                
<p class="calibre1">The bitwise OR operator is similar to an inclusive OR and checks two integers using their binary representation: if there is at least a <kbd class="calibre9">1</kbd> on the same position for each number, the result will be <kbd class="calibre9">1</kbd>:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ x=50 ; y=20; echo $((x|y))</strong><br class="title-page-name"/><strong class="calibre2">54</strong> 
</pre>
<p class="calibre1">As we can see from the following table:</p>
<table class="table">
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">128</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">64</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">32</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">16</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">8</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">4</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">1</strong></p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">50</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">20</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">|</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
</tbody>
</table>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Bitwise XOR (^)</h1>
                
            
            <article>
                
<p class="calibre1">This is what we would call exclusive OR or XOR: the result will be <kbd class="calibre9">1</kbd> only if at the same slot, there is only a <kbd class="calibre9">1</kbd>, and if there are two <kbd class="calibre9">1</kbd>, the result will be <kbd class="calibre9">0</kbd>:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ x=50 ; y=20; echo $((x^y))</strong><br class="title-page-name"/><strong class="calibre2">38</strong>  
</pre>
<p class="calibre1">So, let's check again with our matrix:</p>
<table class="table">
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">128</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">64</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">32</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">16</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">8</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">4</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">1</strong></p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">50</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">20</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">^</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
</tbody>
</table>
<p class="calibre1"> </p>
<p class="calibre1">And that is, <kbd class="calibre9">36</kbd>.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Bitwise NOT (~)</h1>
                
            
            <article>
                
<p class="calibre1">The bitwise NOT is a unary operator, and this means it is used with just one operator, flipping the bit used to represent the integer in binary notation:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ x=50 ; echo $((~x))</strong><br class="title-page-name"/><strong class="calibre2">-51</strong>  
</pre>
<p class="calibre1">Have a look at the following table:</p>
<table class="table">
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">128</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">64</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">32</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">16</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">8</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">4</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">1</strong></p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">50</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">~</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">-128</p>
</td>
<td class="calibre8">
<p class="calibre1">64</p>
</td>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">8</p>
</td>
<td class="calibre8">
<p class="calibre1">4</p>
</td>
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
</tr>
</tbody>
</table>
<p class="calibre1"> </p>
<p class="calibre1">We have to keep in mind that the most significant bit on the left for a signed integer (and this is a signed integer, even though we do not write <kbd class="calibre9">+50</kbd> because Bash represents integer with a sign long at 64-bit) holds the sign value. So, flipping the first significant bit actually inverted the value. As the rule of thumb, the bitwise NOT leads to the same result as of a two's complement of the number minus 1:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ x=30 ; echo $((~x))</strong><br class="title-page-name"/><strong class="calibre2">-31</strong>  
</pre>
<table class="table">
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">128</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">64</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">32</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">16</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">8</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">4</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">2</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">1</strong></p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">30</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">~</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">-128</p>
</td>
<td class="calibre8">
<p class="calibre1">64</p>
</td>
<td class="calibre8">
<p class="calibre1">32</p>
</td>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8"/>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
</tr>
</tbody>
</table>
<p class="calibre1"> </p>
<p class="calibre1">However, we can also calculate the bitwise by not first converting the integer in binary, inverting the digits and adding to the result a <kbd class="calibre9">1</kbd> in binary notation in a so-called two's complement:</p>
<table class="table">
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">50</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">0</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">0</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">1</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">1</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">0</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">0</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">1</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">0</strong></p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">invert</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">add 1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">-51</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">1</p>
</td>
</tr>
</tbody>
</table>
<p class="calibre1"> </p>
<p class="calibre1">So, as you can see, in the two's complement, binaries with the leftmost bit set to <kbd class="calibre9">1</kbd> have a negative value; those starting with <kbd class="calibre9">0</kbd> are positive integers.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Logical operators</h1>
                
            
            <article>
                
<p class="calibre1">Here, we come to something really useful for our scripts, a bunch of operators that will enable us to perform some tests and react as a consequence. So, we will be able to make our script react to a some change or user input and be more flexible. Let's see what is available.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Logical NOT (!)</h1>
                
            
            <article>
                
<p class="calibre1">The NOT operator is used to test whether an expression is true and holds true when the expression is false:</p>
<pre class="codepackt">
<strong class="calibre2">[! expression ]</strong>  
</pre>
<p class="calibre1">Let's go back to one of our previous scripts and make it more user-friendly:</p>
<pre class="codepackt">
<strong class="calibre2">#!/bin/bash</strong>    <br class="title-page-name"/><strong class="calibre2">echo "Hello user, please give me a number between 10 and 12: "</strong>    <br class="title-page-name"/><strong class="calibre2">read user_input</strong>    <br class="title-page-name"/><strong class="calibre2">if [ ! ${user_input} -eq11 ]</strong><br class="title-page-name"/><strong class="calibre2">then</strong><br class="title-page-name"/><strong class="calibre2">echo "The number ${user_input} is not what we are looking for..."</strong><br class="title-page-name"/><strong class="calibre2">else</strong><br class="title-page-name"/><strong class="calibre2">echo "Great! The number ${user_input} is what we were looking for!"</strong><br class="title-page-name"/><strong class="calibre2">fi</strong>  
</pre>
<p class="calibre1">What we are doing here is asking the user for a number between <kbd class="calibre9">10</kbd> and <kbd class="calibre9">12</kbd>. We read the value from its input and evaluate it: if the user inputs a value that is not equal to <kbd class="calibre9">11</kbd>, then we write a boo sentence; otherwise, we have found our number. Do not worry; we will have a look at <kbd class="calibre9">if...then...else</kbd> later in this book, just take <kbd class="calibre9">if</kbd> for what it is a simple conditional. Let's run the script and see what happens when we input the right answer and when we fail the input:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ ./userinput-not.sh</strong><br class="title-page-name"/><strong class="calibre2">Hello user, please give me a number between 10 and 12: </strong><br class="title-page-name"/><strong class="calibre2">11</strong><br class="title-page-name"/><strong class="calibre2">Great! The number 11 is what we were looking for!</strong>    <br class="title-page-name"/><strong class="calibre2">zarrelli:~$ ./userinput-not.sh</strong><br class="title-page-name"/><strong class="calibre2">Hello user, please give me a number between 10 and 12: </strong><br class="title-page-name"/><strong class="calibre2">12</strong><br class="title-page-name"/><strong class="calibre2">The number 12 is not what we are looking for...</strong>  
</pre>
<p class="calibre1">Great! The script became quite interactive, and its output changes based on the conditions we imposed and the input we gave.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Logical AND</h1>
                
            
            <article>
                
<p class="calibre1">The AND operator tests the success of two or more expressions and holds true if all the conditions are true. This comes in handy to make our script a bit more complex so that we must pass at least a couple of conditions to make something trigger:</p>
<pre class="codepackt">
<strong class="calibre2">#!/bin/bash</strong>    <br class="title-page-name"/><strong class="calibre2">echo "Hello user, please give me a number between 10 and 20: "</strong>    <br class="title-page-name"/><strong class="calibre2">read user_input</strong>    <br class="title-page-name"/><strong class="calibre2">if [ ${user_input} -ge 10 ] &amp;&amp; [ ${user_input} -le 20 ]</strong><br class="title-page-name"/><strong class="calibre2">then</strong><br class="title-page-name"/><strong class="calibre2">echo "Great! The number ${user_input} is what we were looking for!"</strong><br class="title-page-name"/><strong class="calibre2">else</strong><br class="title-page-name"/><strong class="calibre2">echo "The number ${user_input} is not what we are looking for..."</strong><br class="title-page-name"/><strong class="calibre2">fi</strong>  
</pre>
<p class="calibre1">In this case, we ask for a couple of conditions that must hold true at the same time: the number given by the user must be equal or greater than <kbd class="calibre9">10</kbd> and lesser or equal than <kbd class="calibre9">20</kbd>. Let's see:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ ./userinput-and.sh </strong><br class="title-page-name"/><strong class="calibre2">Hello user, please give me a number between 10 and 20: </strong><br class="title-page-name"/><strong class="calibre2">9</strong><br class="title-page-name"/><strong class="calibre2">The number 9 is not what we are looking for...</strong>   <br class="title-page-name"/><strong class="calibre2">The number 9 is not a valid value: it is less than 20 but <br class="title-page-name"/>not bigger than 10.</strong>    <br class="title-page-name"/><strong class="calibre2">zarrelli:~$ ./userinput-and.sh </strong><br class="title-page-name"/><strong class="calibre2">Hello user, please give me a number between 10 and 20: </strong><br class="title-page-name"/><strong class="calibre2">10</strong><br class="title-page-name"/><strong class="calibre2">Great! The number 10 is what we were looking for!</strong>  
</pre>
<p class="calibre1">Yes, <kbd class="calibre9">10</kbd> is good, since it is equal to <kbd class="calibre9">10</kbd> and less than <kbd class="calibre9">20</kbd>. Both conditions are true at the same time. We have the following code:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ ./userinput-and.sh </strong><br class="title-page-name"/><strong class="calibre2">Hello user, please give me a number between 10 and 20: </strong><br class="title-page-name"/><strong class="calibre2">11</strong><br class="title-page-name"/><strong class="calibre2">Great! The number 11 is what we were looking for!</strong>  
</pre>
<p class="calibre1">With <kbd class="calibre9">11</kbd>, we are OK, because it is more than <kbd class="calibre9">10</kbd> but at the same time, less than <kbd class="calibre9">20</kbd>:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ ./userinput-and.sh </strong><br class="title-page-name"/><strong class="calibre2">Hello user, please give me a number between 10 and 20: </strong><br class="title-page-name"/><strong class="calibre2">19</strong><br class="title-page-name"/><strong class="calibre2">Great! The number 19 is what we were looking for!</strong>  
</pre>
<p class="calibre1">Still a valid answer because it is more than <kbd class="calibre9">10</kbd> and less than <kbd class="calibre9">20</kbd>:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ ./userinput-and.sh </strong><br class="title-page-name"/><strong class="calibre2">Hello user, please give me a number between 10 and 20: </strong><br class="title-page-name"/><strong class="calibre2">20</strong><br class="title-page-name"/><strong class="calibre2">Great! The number 20 is what we were looking for!</strong>  
</pre>
<p class="calibre1">This should be the last valid answer. The value is above <kbd class="calibre9">10</kbd> and equal to <kbd class="calibre9">20</kbd>, but <kbd class="calibre9">20</kbd> is our upper limit, so one more and we are out of our boundaries:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ ./userinput-and.sh </strong><br class="title-page-name"/><strong class="calibre2">Hello user, please give me a number between 10 and 20: </strong><br class="title-page-name"/><strong class="calibre2">21</strong><br class="title-page-name"/><strong class="calibre2">The number 21 is not what we are looking for..</strong>
</pre>
<p class="calibre1">Here we are: above <kbd class="calibre9">10</kbd> but also above <kbd class="calibre9">20</kbd>, and our second condition holds true only if the value is less than or equal to <kbd class="calibre9">20</kbd>. So, just one condition is true, the other is false, and <kbd class="calibre9">21</kbd> is not the number we were looking for.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Logical OR (||)</h1>
                
            
            <article>
                
<p class="calibre1">The OR operator tests the success of two or more expressions and holds true if at least one condition is true:</p>
<pre class="codepackt">
<strong class="calibre2">#!/bin/bash</strong>    <br class="title-page-name"/><strong class="calibre2">echo "Hello user, please give me a number between 10 and 20 <br class="title-page-name"/>or between 50 and 10: "</strong>    <br class="title-page-name"/><strong class="calibre2">read user_input</strong>  <br class="title-page-name"/><strong class="calibre2">if [[ ${user_input} -ge 10 &amp;&amp; ${user_input} -le 20 ]] || <br class="title-page-name"/>[[ ${user_input} -ge 50 &amp;&amp; ${user_input} -le 100 ]]</strong><br class="title-page-name"/><strong class="calibre2">then</strong><br class="title-page-name"/><strong class="calibre2">echo "Great! The number ${user_input} is what we were looking <br class="title-page-name"/>for!"</strong><br class="title-page-name"/><strong class="calibre2">else</strong><br class="title-page-name"/><strong class="calibre2">echo "The number ${user_input} is not what we are looking for..."</strong><br class="title-page-name"/><strong class="calibre2">fi</strong>  
</pre>
<p class="calibre1">What we see here are a few interesting things. First, we used a compound condition test so that we can now check between four different conditions, grouped by 2. Our test holds true if the user give us a number that is equal to or higher than <kbd class="calibre9">10</kbd> and at the same time, lower than or equal to <kbd class="calibre9">20</kbd>, or if he types a number that is equal to or higher than <kbd class="calibre9">50</kbd>, and at the same time lower or equal to <kbd class="calibre9">100</kbd>.</p>
<p class="calibre1">Note that we had to use the test command with double brackets <kbd class="calibre9">[[</kbd>; this is a Bash improvement over the single bracket, and it should be preferred over this last one. To be true, the <kbd class="calibre9">[</kbd> is an actual binary, a command you can find into the operating system and <kbd class="calibre9">[[</kbd> is a keyword available only in Bash, <strong class="calibre2">Zsh</strong> and <strong class="calibre2">Korn</strong> shell.</p>
<p class="calibre1">There are quite a few interesting improvements with the double bracket. As an example, it does not suffer from word splitting or glob expansion, so deals better with spaces and empty strings and you do not have to quote your variables. Other advantages are that you do not have to escape any parenthesis inside the double brackets, and you can also use <kbd class="calibre9">!</kbd>, <kbd class="calibre9">&amp;&amp;</kbd>, and<kbd class="calibre9">||</kbd> inside them to combine different expressions. We used the <kbd class="calibre9">[]</kbd> test operator in our examples just to get used to them, but you will see in most of the scripts, you will encounter that the brackets are usually adopted for file or string test, whereas for testing numbers, you will prefer using the arithmetic operations <kbd class="calibre9">$(())</kbd>because the first is deprecated for arithmetic operations.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Comma operator (,)</h1>
                
            
            <article>
                
<p class="calibre1">One last operator that actually does not fit into any other category is the comma operator, which is used to chain together arithmetic operations. All the operations are evaluated, but only the value from the last one is returned:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ echo $((x=1, 7-2))</strong><br class="title-page-name"/><strong class="calibre2">5</strong><br class="title-page-name"/><strong class="calibre2">zarrelli@moveaway:~$ echo ${x}</strong><br class="title-page-name"/><strong class="calibre2">1</strong>  

</pre>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Operators evaluation order and precedence in decreasing relevance</h1>
                
            
            <article>
                
<p class="calibre1">Operators are evaluated in a precise order and we must keep this in mind when working with them. It is not so easy to remember what is evaluated before and what after, so the following table will help us to keep in mind the order and precedence of operators:</p>
<table class="table">
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">Operator</strong></p>
</td>
<td class="calibre8">
<p class="calibre1"><strong class="calibre2">Evaluation order</strong></p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">++ --</p>
</td>
<td class="calibre8">
<p class="calibre1">Unary operators for incrementing/decrementing, evaluated from left to right</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">+- !~</p>
</td>
<td class="calibre8">
<p class="calibre1">Unary plus and minus, evaluated from right to left</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">* / %</p>
</td>
<td class="calibre8">
<p class="calibre1">Multiplication, division, modulo, are evaluated from left to right and are evaluated after</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">+ -</p>
</td>
<td class="calibre8">
<p class="calibre1">Addition and subtraction are evaluated from left to right</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">&lt;&lt;&gt;&gt;</p>
</td>
<td class="calibre8">
<p class="calibre1">Bitwise shift are evaluated from left to right</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">&lt;= =&gt;&lt;&gt;</p>
</td>
<td class="calibre8">
<p class="calibre1">Comparison operators, from left to right</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">== !=</p>
</td>
<td class="calibre8">
<p class="calibre1">Equality operators, from left to right</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">&amp;</p>
</td>
<td class="calibre8">
<p class="calibre1">Bitwise AND, from left to right</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">^</p>
</td>
<td class="calibre8">
<p class="calibre1">Bitwise XOR, from left to right</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">|</p>
</td>
<td class="calibre8">
<p class="calibre1">Bitwise OR, from left to right</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">&amp;&amp;</p>
</td>
<td class="calibre8">
<p class="calibre1">Logic AND, from left to right</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">||</p>
</td>
<td class="calibre8">
<p class="calibre1">Logic OR, from left to right</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">= += -+ */ /= %= &amp;= ^= &lt;&lt;= =&gt;&gt; }=</p>
</td>
<td class="calibre8">
<p class="calibre1">Assignment operators, from left to right</p>
</td>
</tr>
</tbody>
</table>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Exit codes</h1>
                
            
            <article>
                
<p class="calibre1">We have already seen that when a program encounters issues it <em class="calibre20">exits</em>, usually with an error message. What does exits means? Simply that the code execution terminates and the program, or the script, returns an exit code that informs the system of what happened. This is very handy for us, since we can trap the exit code of a program and decide what to do based on its value.</p>
<table class="table">
<tbody class="calibre6">
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">0</p>
</td>
<td class="calibre8">
<p class="calibre1">Success</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">1</p>
</td>
<td class="calibre8">
<p class="calibre1">Failure</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">2</p>
</td>
<td class="calibre8">
<p class="calibre1">Misuse of builtin</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">126</p>
</td>
<td class="calibre8">
<p class="calibre1">Command not executable</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">127</p>
</td>
<td class="calibre8">
<p class="calibre1">Command not found</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">128</p>
</td>
<td class="calibre8">
<p class="calibre1">Invalid argument</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">128+x</p>
</td>
<td class="calibre8">
<p class="calibre1">Fatal error exit with signal x</p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">130</p>
</td>
<td class="calibre8">
<p class="calibre1">Execution terminated by <span>Ctrl</span> +<span>C</span></p>
</td>
</tr>
<tr class="calibre7">
<td class="calibre8">
<p class="calibre1">255</p>
</td>
<td class="calibre8">
<p class="calibre1">Exit state out of boundary (0-255)</p>
</td>
</tr>
</tbody>
</table>
<p class="calibre1"> </p>
<p class="calibre1">So, maybe you already guessed, each execution terminates with an exit code, whether successful or not, with an error message or silently:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ date ; echo $?</strong><br class="title-page-name"/><strong class="calibre2">Thu  2 Feb 19:17:48 GMT 2017</strong><br class="title-page-name"/><strong class="calibre2">0</strong>  
</pre>
<p class="calibre1">As you can see, the exit code is <kbd class="calibre9">0</kbd> because the command was executed without issues. Now, let's try this:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ asrw ; echo $?</strong><br class="title-page-name"/><strong class="calibre2">bash: asrw: command not found</strong><br class="title-page-name"/><strong class="calibre2">127</strong>  
</pre>
<p class="calibre1">It is a <kbd class="calibre9">command not found</kbd> as we just typed a meaningless bunch of characters. Now a while cycle will not terminate until we press <span>Ctrl</span> + <span>C</span>.</p>
<pre class="codepackt">
<strong class="calibre2">while true ; do echo 1 ; done</strong>  
</pre>
<p class="calibre1">You will see your screen filling up with a column of infinite 1. Press <span>Ctrl</span> + <span>C</span> and you will see:</p>
<pre class="codepackt">
<strong class="calibre2">^C</strong>  
</pre>
<p class="calibre1">Now, let's check the exit code:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ echo $?</strong><br class="title-page-name"/><strong class="calibre2">130</strong>  
</pre>
<p class="calibre1">Now, let's create a never-ending script:</p>
<pre class="codepackt">
<strong class="calibre2">#!/bin/bash</strong>    <br class="title-page-name"/><strong class="calibre2">while true; do</strong>    <br class="title-page-name"/><strong class="calibre2">echo ${$}</strong>    <br class="title-page-name"/><strong class="calibre2">done</strong>  
</pre>
<p class="calibre1">Although true is a never-ending cycle, since the condition is always true, it will print to the <kbd class="calibre9">stdout</kbd> the PID of the shell, which the script is running in. Let's open a second terminal and launch the script from the first; you will see the same PID repeated indefinitely:</p>
<pre class="codepackt">
<strong class="calibre2">1764</strong><br class="title-page-name"/><strong class="calibre2">1764</strong><br class="title-page-name"/><strong class="calibre2">1764</strong><br class="title-page-name"/><strong class="calibre2">1764</strong><br class="title-page-name"/><strong class="calibre2">1764</strong>  
</pre>
<p class="calibre1">Now, from the second terminal, using the same user or root user, issue:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ kill -9 1764</strong>  
</pre>
<p class="calibre1">Go back to the first terminal, and you see your script terminated:</p>
<pre class="codepackt">
<strong class="calibre2">1764</strong><br class="title-page-name"/><strong class="calibre2">1764</strong><br class="title-page-name"/><strong class="calibre2">1764</strong><br class="title-page-name"/><strong class="calibre2">1764</strong><br class="title-page-name"/><strong class="calibre2">Killed</strong>  
</pre>
<p class="calibre1">Time to check the exit status of the script:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ echo $?</strong><br class="title-page-name"/><strong class="calibre2">137</strong>  
</pre>
<p class="calibre1">Which is <kbd class="calibre9">128 + 9</kbd>, <kbd class="calibre9">9</kbd> being the signal we used to kill the process. Let's run the script again:</p>
<pre class="codepackt">
<strong class="calibre2">1778</strong><br class="title-page-name"/><strong class="calibre2">1778</strong><br class="title-page-name"/><strong class="calibre2">1778</strong><br class="title-page-name"/><strong class="calibre2">1778</strong>  
</pre>
<p class="calibre1">Now kill it from the second terminal with:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ kill -15 1778</strong>    <br class="title-page-name"/><strong class="calibre2">1778</strong><br class="title-page-name"/><strong class="calibre2">1778</strong><br class="title-page-name"/><strong class="calibre2">1778</strong><br class="title-page-name"/><strong class="calibre2">1778<br class="title-page-name"/></strong><strong class="calibre2">Terminated</strong>  
</pre>
<p class="calibre1">Back to the first terminal to check the exit code of the script:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ echo $?</strong><br class="title-page-name"/><strong class="calibre2">143</strong> 
</pre>
<p class="calibre1">And <kbd class="calibre9">143</kbd> is exactly <kbd class="calibre9">128 + 15</kbd>, as we expected.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Exiting a script</h1>
                
            
            <article>
                
<p class="calibre1">So far, we have seen how a script terminated with the exit status of the last command issued, and how a <kbd class="calibre9">$?</kbd>  allows us to read the exit value. This is possible because every command returns an exit code, whether issued on the command line or from inside a script, and even functions that we can think of as a compound of commands return a value. Now we are going to see how a script can return an exit code on its own, despite of the result of the last command issued:</p>
<pre class="codepackt">
<strong class="calibre2">#!/bin/bash</strong>    <br class="title-page-name"/><strong class="calibre2">counter=10</strong>    <br class="title-page-name"/><strong class="calibre2">while [ $counter -gt 0 ]; </strong><br class="title-page-name"/><strong class="calibre2">do</strong><br class="title-page-name"/><strong class="calibre2">echo "Loop number: $((counter--))"</strong><br class="title-page-name"/><strong class="calibre2">done</strong><br class="title-page-name"/><strong class="calibre2">exit 20</strong>  
</pre>
<p class="calibre1">We took one of our previous scripts and added this:</p>
<pre class="codepackt">
<strong class="calibre2">exit 20</strong>  
</pre>
<p class="calibre1">As you can see, we used the command <kbd class="calibre9">exit</kbd> followed by a positive number to give an exit code. Remember that you can use any code between:</p>
<pre class="codepackt">
<strong class="calibre2">0-255</strong>  
</pre>
<p class="calibre1">With the exclusion of the reserved values, we saw in the previous chapter. Now, let's run the script:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ ./loop-exit.sh ; echo $?</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 10</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 9</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 8</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 7</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 6</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 5</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 4</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 3</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 2</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 1</strong><br class="title-page-name"/><strong class="calibre2">20 </strong>  
</pre>
<p class="calibre1">Here we are. Instead of having a <kbd class="calibre9">0</kbd> as the script exit value, since the last instruction was successful, we have a <kbd class="calibre9">20</kbd>, provided by the exit command.</p>
<p class="calibre1">Let's modify the script a bit so that the exit will be just above our <kbd class="calibre9">echo</kbd> command:</p>
<pre class="codepackt">
<strong class="calibre2">#!/bin/bash</strong>    <br class="title-page-name"/><strong class="calibre2">counter=10</strong><br class="title-page-name"/><strong class="calibre2">exit_at=5</strong>    <br class="title-page-name"/><strong class="calibre2">while (( counter &gt; 0 ));</strong><br class="title-page-name"/><strong class="calibre2">do</strong><br class="title-page-name"/><strong class="calibre2">echo "Loop number: $((counter--))"</strong><br class="title-page-name"/><strong class="calibre2">if (( $counter &lt;exit_at )); then</strong><br class="title-page-name"/><strong class="calibre2">exit 18</strong><br class="title-page-name"/><strong class="calibre2">fi</strong><br class="title-page-name"/><strong class="calibre2">done</strong>  
</pre>
<p class="calibre1">Note a couple of things:</p>
<ul class="calibre12">
<li class="calibre13">We are using both <kbd class="calibre9">$(())</kbd> and <kbd class="calibre9">(())</kbd>. The first is an arithmetic expansion and gives us a number, the second is a command that gives us an exit status so we can read <em class="calibre20">if it is true (0)</em> that the value of counter is less than value of <kbd class="calibre9">exit_at</kbd>.</li>
<li class="calibre13">We used a condition to break out of this infinite loop. Once the value of counter is less than the value of <kbd class="calibre9">exit_at</kbd>, we exit the whole script with a code of <kbd class="calibre9">18</kbd>, regardless of the fact that the last command, the evaluation of the <kbd class="calibre9">if</kbd> condition got a value of 1, so was a failure.</li>
</ul>
<p class="calibre1">And now, execute the following script:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ /loop-premature-exit.sh ; echo $?</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 10</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 9</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 8</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 7</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 6</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 5</strong><br class="title-page-name"/><strong class="calibre2">18</strong>  
</pre>
<p class="calibre1">Here we are. The script exited once it passed the boundary of <kbd class="calibre9">5</kbd>, so the remaining five <kbd class="calibre9">echo</kbd> commands were not executed at all and we got <kbd class="calibre9">18</kbd> as the exit value. So, now you have a handy loop that you can use to iterate over items and stop when a condition is reached.</p>
<p class="calibre1">We said that the <kbd class="calibre9">exit</kbd> command prevents the further execution of a script and the previous example gave us a glimpse of it, but let's modify our previous loop script moving the <kbd class="calibre9">exit 20</kbd> command to some lines earlier:</p>
<pre class="codepackt">
<strong class="calibre2">#!/bin/bash</strong>    <br class="title-page-name"/><strong class="calibre2">counter=10</strong>    <br class="title-page-name"/><strong class="calibre2">while [ $counter -gt 0 ];</strong><br class="title-page-name"/><strong class="calibre2">do</strong><br class="title-page-name"/><strong class="calibre2">exit 20</strong><br class="title-page-name"/><strong class="calibre2">echo"Loop number: $((counter--))"</strong><br class="title-page-name"/><strong class="calibre2">done</strong>  
</pre>
<p class="calibre1">Now, let's execute it:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:$ ./loop-upper-exit.sh ; echo $?</strong><br class="title-page-name"/><strong class="calibre2">20</strong>  
</pre>
<p class="calibre1">Well, no output and the exit value is <kbd class="calibre9">20</kbd>. The script had no time to reach the echo line, it was forced to exit well before. Now, let's see how our <kbd class="calibre9">exit</kbd> command masquerades the exit code from a command not found:</p>
<pre class="codepackt">
<strong class="calibre2">#!/bin/bash</strong>    <br class="title-page-name"/><strong class="calibre2">counter=10</strong>    <br class="title-page-name"/><strong class="calibre2">while [ $counter -gt 0 ]; </strong><br class="title-page-name"/><strong class="calibre2">do</strong><br class="title-page-name"/><strong class="calibre2">echo "Loop number: $((counter--))"</strong><br class="title-page-name"/><strong class="calibre2">fsaapoiwe</strong><br class="title-page-name"/><strong class="calibre2">done</strong><br class="title-page-name"/><strong class="calibre2">exit 20</strong>  
</pre>
<p class="calibre1">Have a loop at the line under <kbd class="calibre9">echo</kbd>, that is, a bunch of characters without any sense, so it will throw an error for sure:</p>
<pre class="codepackt">
<strong class="calibre2">zarrelli:~$ ./loop-error-exit.sh ; echo $?</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 10</strong><br class="title-page-name"/><strong class="calibre2">./loop-error-exit.sh: line 8: fsaapoiwe: command not found</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 9</strong><br class="title-page-name"/><strong class="calibre2">./loop-error-exit.sh: line 8: fsaapoiwe: command not found</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 8</strong><br class="title-page-name"/><strong class="calibre2">./loop-error-exit.sh: line 8: fsaapoiwe: command not found</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 7</strong><br class="title-page-name"/><strong class="calibre2">./loop-error-exit.sh: line 8: fsaapoiwe: command not found</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 6</strong><br class="title-page-name"/><strong class="calibre2">./loop-error-exit.sh: line 8: fsaapoiwe: command not found</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 5</strong><br class="title-page-name"/><strong class="calibre2">./loop-error-exit.sh: line 8: fsaapoiwe: command not found</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 4</strong><br class="title-page-name"/><strong class="calibre2">./loop-error-exit.sh: line 8: fsaapoiwe: command not found</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 3</strong><br class="title-page-name"/><strong class="calibre2">./loop-error-exit.sh: line 8: fsaapoiwe: command not found</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 2</strong><br class="title-page-name"/><strong class="calibre2">./loop-error-exit.sh: line 8: fsaapoiwe: command not found</strong><br class="title-page-name"/><strong class="calibre2">Loop number: 1</strong><br class="title-page-name"/><strong class="calibre2">./loop-error-exit.sh: line 8: fsaapoiwe: command not found</strong><br class="title-page-name"/><strong class="calibre2">20</strong>  
</pre>
<p class="calibre1">It did, we had errors at each cycle, but the overall exit code is still <kbd class="calibre9">20</kbd>, since we forced this using the <kbd class="calibre9">exit</kbd> command.</p>
<p class="calibre1">What are the benefits we can get from the usage of the <kbd class="calibre9">exit</kbd> command? Well, we just saw a nice and easy counter that can be useful to iterate over numbers, items, arrays, lists, but in a broader way, we can use the exit codes to check the result of a function we created, of a command we invoked and based on the value we get, react accordingly. To do this, though, we need to a way to verify and react, to check whether a condition is met or not, and based on that, to do something or something else, we need to have a closer look at the <kbd class="calibre9">if...else</kbd> statement and at the tests operators.</p>


            </article>

            
        </section>
    

        <section>

                            <header>
                    </header><h1 class="header-title" id="calibre_pb_0">Summary</h1>
                
            
            <article>
                
<p class="calibre1">In the previous chapter, we had a look at the variable; now we have just looked at how to correlate them. Assigning values and being able to perform some math or logic operations on them gives us more flexibility, since we do not just collect something, but transform it into something different and new. We also learned that exit codes can sometimes be pitfalls, trapping us with red herrings, and this tells us something important: never take anything as a given, always double-check what you are writing in your code, and always try to catch all the possible outcomes and exceptions. It seems like something obvious, but being such  common sense, we tend to overlook this simple but effective code style advice.</p>


            </article>

            
        </section>
    </body></html>