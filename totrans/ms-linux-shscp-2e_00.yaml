- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 序言
- en: First, you'll learn about Linux shells and why we chose the bash shell. Then,
    you'll learn how to write a simple bash script and how to edit your bash script
    using Linux editors.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 首先，你将了解Linux shell及其选择bash shell的原因。然后，你将学习如何编写一个简单的bash脚本，以及如何使用Linux编辑器编辑你的bash脚本。
- en: Following this, you will learn how to define a variable and the visibility of
    a variable. After this, you will learn how to store command execution output into
    a variable, which is called command substitution. Also, you will learn how to
    debug your code using bash options and Visual Studio Code. You will learn how
    to make your bash script interactive to the user by accepting input from the user
    using the read command. Then, you will learn how to read options and its values
    if the user passed them to the script. Following this, you will learn how to write
    conditional statements such as if statements and how to use case statements. After
    this, you will learn how to create code snippets using vim and Visual Studio Code.
    For repetitive tasks, you will see how to write for loops, how to iterate over
    simple values, and how to iterate over directory content. Also, you will learn
    how to write nested loops. Along with this, you will write while and until loops.
    Then, we will move on to functions, the reusable chunks of code. You will learn
    how to write functions and how to use them. After this, you will be introduced
    to one of the best tools in Linux, which is Stream Editor. As we are still talking
    about text processing, we will introduce AWK, one of the best text processing
    tools in Linux that you will ever see.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 接下来，你将学习如何定义变量以及变量的可见性。之后，你将学习如何将命令执行输出存储到变量中，这称为命令替换。此外，你将学习如何使用bash选项和Visual
    Studio Code调试代码。你将学习如何通过接受用户输入使你的bash脚本具有交互性。然后，你将学习如何读取用户传递给脚本的选项及其值。接下来，你将学习如何编写条件语句，如`if`语句，以及如何使用`case`语句。之后，你将学习如何使用vim和Visual
    Studio Code创建代码片段。对于重复的任务，你将学习如何编写for循环，如何遍历简单的值，以及如何遍历目录内容。此外，你将学习如何编写嵌套循环。与此同时，你还将学习如何编写while循环和until循环。接着，我们将进入函数部分，函数是可重用的代码块。你将学习如何编写函数以及如何使用它们。之后，你将接触到Linux中最强大的工具之一——流编辑器（Stream
    Editor）。由于我们仍在讨论文本处理，我们将介绍AWK，这是Linux中最优秀的文本处理工具之一。
- en: After this, you will learn how to empower your text processing skills by writing
    better regular expressions. Finally, you will be introduced to Python as an alternative
    to bash scripting.
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 之后，你将通过编写更好的正则表达式来提升你的文本处理技能。最后，你将学习Python，作为bash脚本的替代方案。
- en: Who this book is for
  id: totrans-4
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书适合谁阅读
- en: This book targets system administrators and developers who would like to write
    a better shell script to automate their work. Some programming experience is preferable.
    If you don't have any background in shell scripting, no problem, the book will
    discuss everything from the beginning.
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 本书面向系统管理员和开发人员，帮助他们编写更好的shell脚本以自动化工作。有编程经验者优先。如果你没有任何shell脚本背景也没关系，本书将从头开始讨论所有内容。
- en: What this book covers
  id: totrans-6
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书内容
- en: '[Chapter 1](f439f212-0f5f-4c9d-abdb-9f9b8c199a78.xhtml), *The* *What and Why
    of Scripting with Bash*, will introduce Linux shells, how to write your first
    shell script, how to prepare your editor, how to debug your shell script, and
    some basic bash programming, such as declaring variables, variable scope, and
    command substitution.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[第一章](f439f212-0f5f-4c9d-abdb-9f9b8c199a78.xhtml)，*使用Bash脚本的是什么和为什么*，将介绍Linux
    shell，如何编写你的第一个shell脚本，如何准备编辑器，如何调试你的shell脚本，以及一些基础的bash编程，如声明变量、变量作用域和命令替换。'
- en: '[Chapter 2](10a24eea-2218-44cc-a019-e01ee63ad77c.xhtml), *Creating Interactive
    Scripts*, covers how to read input from the user using `read` command, how to
    pass options to your script, how to control the visibility of the entered text,
    and how to limit the number of entered characters.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[第二章](10a24eea-2218-44cc-a019-e01ee63ad77c.xhtml)，*创建交互式脚本*，介绍了如何使用`read`命令读取用户输入，如何向脚本传递选项，如何控制输入文本的可见性，以及如何限制输入字符的数量。'
- en: '[Chapter 3](406fda8c-fc3d-4a96-beee-4f65bf388067.xhtml), *Conditions Attached*,
    will introduce the `if` statement, the `case` statement, and other testing command
    such as `else` and `elif`.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[第三章](406fda8c-fc3d-4a96-beee-4f65bf388067.xhtml)，*附加条件*，将介绍`if`语句、`case`语句以及其他测试命令，如`else`和`elif`。'
- en: '[Chapter 4](19078063-2569-4587-b424-922f49fde021.xhtml), *Creating Code Snippets*,
    covers creating and using code snippets using editors, such as vim and Visual
    Studio Code.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[第4章](19078063-2569-4587-b424-922f49fde021.xhtml)，*创建代码片段*，介绍如何使用编辑器（如vim和Visual
    Studio Code）创建和使用代码片段。'
- en: '[Chapter 5](f707e052-830f-4cfc-bd43-6678cf282918.xhtml), *Alternative Syntax*,
    will discuss advanced testing using `[[` and how to perform arithmetic operations.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[第5章](f707e052-830f-4cfc-bd43-6678cf282918.xhtml)，*替代语法*，将讨论如何使用`[[`进行高级测试，以及如何执行算术运算。'
- en: '[Chapter 6](a9bad548-8c76-4e5f-adb1-8cf4e6198c50.xhtml), *Iterating with Loops*,
    will teach you how to use `for` loops, `while` loops, and `until` loops to iterate
    over simple values and complex values.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[第6章](a9bad548-8c76-4e5f-adb1-8cf4e6198c50.xhtml)，*使用循环迭代*，将教你如何使用`for`循环、`while`循环和`until`循环来遍历简单值和复杂值。'
- en: '[Chapter 7](d5fd1361-e00e-4236-b5ed-463fe2d9db00.xhtml), *Creating Building
    Blocks with Functions*, will introduce functions and explains how to create a
    function, list builtin functions, pass parameters to functions, and writing recursive
    functions.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[第7章](d5fd1361-e00e-4236-b5ed-463fe2d9db00.xhtml)，*通过函数创建构建模块*，将介绍函数，并解释如何创建函数、列出内建函数、将参数传递给函数，以及编写递归函数。'
- en: '[Chapter 8](9d994c56-8311-4871-af5a-1e7c9b2449d5.xhtml), *Introducing the Stream
    Editor*, will introduce the basics of sed tool to manipulate files, such as adding,
    replacing deleting, and transforming text.'
  id: totrans-14
  prefs: []
  type: TYPE_NORMAL
  zh: '[第8章](9d994c56-8311-4871-af5a-1e7c9b2449d5.xhtml)，*介绍流编辑器*，将介绍sed工具的基础知识，如何操作文件，如添加、替换、删除和转换文本。'
- en: '[Chapter 9](ad6cd6e4-212d-4e2a-8df3-81208f5cb38d.xhtml), *Automating Apache
    Virtual Hosts*, contains a practical example of sed and explains how to create
    virtual hosts automatically using sed.'
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: '[第9章](ad6cd6e4-212d-4e2a-8df3-81208f5cb38d.xhtml)，*自动化Apache虚拟主机*，包含一个sed的实用示例，并解释如何使用sed自动创建虚拟主机。'
- en: '[Chapter 10](e179c20a-9176-473d-b49a-dc3c84d1ffc9.xhtml), *AWK Fundamentals*,
    will discuss AWK and how to filter file content using it. Also, we will discuss
    some AWK programming basics.'
  id: totrans-16
  prefs: []
  type: TYPE_NORMAL
  zh: '[第10章](e179c20a-9176-473d-b49a-dc3c84d1ffc9.xhtml)，*AWK基础*，将讨论AWK及如何使用它来过滤文件内容。同时，我们也将讨论一些AWK编程基础。'
- en: '[Chapter 11](165453d1-d266-4144-882a-11ded6d1dd98.xhtml), *Regular Expressions*,
    covers regular expressions, their engines, and how to use them with sed and AWK
    to empower your script.'
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: '[第11章](165453d1-d266-4144-882a-11ded6d1dd98.xhtml)，*正则表达式*，介绍正则表达式、它们的引擎以及如何与sed和AWK结合使用，以增强你的脚本。'
- en: '[Chapter 12](313640b7-9414-431e-8b29-b105ea325da0.xhtml), *Summarizing Logs
    with AWK*, will show how to process the `httpd.conf` Apache log file using AWK
    and extract useful well-formatted data.'
  id: totrans-18
  prefs: []
  type: TYPE_NORMAL
  zh: '[第12章](313640b7-9414-431e-8b29-b105ea325da0.xhtml)，*使用AWK总结日志*，将展示如何使用AWK处理`httpd.conf`
    Apache日志文件，并提取有用的、格式化良好的数据。'
- en: '[Chapter 13](4a1110b8-2ead-4ea9-9a03-1b7b911b55e3.xhtml), A* Better lastlog
    with AWK*, will show you how to use AWK to output beautiful reports using the
    lastlog command by filtering and processing the lastlog output.'
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: '[第13章](4a1110b8-2ead-4ea9-9a03-1b7b911b55e3.xhtml)，*使用AWK改进lastlog*，将向你展示如何使用AWK通过过滤和处理lastlog输出，利用lastlog命令生成漂亮的报告。'
- en: '[Chapter 14](ebf42350-ebcf-4dbf-8c29-1cbff0d0a1f3.xhtml), *Using Python as
    a Bash Scripting Alternative*, will discuss Python programming language basics
    and explains how to write some Python scripts as a bash script alternative.'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: '[第14章](ebf42350-ebcf-4dbf-8c29-1cbff0d0a1f3.xhtml)，*使用Python作为Bash脚本替代*，将讨论Python编程语言基础，并解释如何编写一些Python脚本作为Bash脚本的替代。'
- en: To get the most out of this book
  id: totrans-21
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 为了最大限度地从本书中获益
- en: I assume that you have a little programming background. Even if you don't have
    a programming background, the book will start from the beginning.
  id: totrans-22
  prefs: []
  type: TYPE_NORMAL
  zh: 我假设你有一些编程背景。即使没有编程背景，本书也会从基础开始。
- en: You should know some Linux basics such as the basic commands such as `ls`, `cd`,
    and `which`.
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 你应该了解一些Linux基础知识，如基本命令`ls`、`cd`和`which`。
- en: Download the example code files
  id: totrans-24
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载示例代码文件
- en: You can download the example code files for this book from your account at [www.packtpub.com](http://www.packtpub.com).
    If you purchased this book elsewhere, you can visit [www.packtpub.com/support](http://www.packtpub.com/support)
    and register to have the files emailed directly to you.
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以从你的账户在 [www.packtpub.com](http://www.packtpub.com) 下载本书的示例代码文件。如果你是在其他地方购买本书，你可以访问
    [www.packtpub.com/support](http://www.packtpub.com/support) 并注册，直接将文件通过邮件发送给你。
- en: 'You can download the code files by following these steps:'
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 你可以通过以下步骤下载代码文件：
- en: Log in or register at [www.packtpub.com](http://www.packtpub.com/support).
  id: totrans-27
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 登录或注册 [www.packtpub.com](http://www.packtpub.com/support)。
- en: Select the SUPPORT tab.
  id: totrans-28
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 选择“支持”标签。
- en: Click on Code Downloads & Errata.
  id: totrans-29
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 点击“代码下载和勘误”。
- en: Enter the name of the book in the Search box and follow the onscreen instructions.
  id: totrans-30
  prefs:
  - PREF_OL
  type: TYPE_NORMAL
  zh: 在搜索框中输入书名，并按照屏幕上的指示操作。
- en: 'Once the file is downloaded, please make sure that you unzip or extract the
    folder using the latest version of:'
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 下载文件后，请确保使用以下最新版本的解压工具解压或提取文件夹：
- en: WinRAR/7-Zip for Windows
  id: totrans-32
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: WinRAR/7-Zip for Windows
- en: Zipeg/iZip/UnRarX for Mac
  id: totrans-33
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: Zipeg/iZip/UnRarX for Mac
- en: 7-Zip/PeaZip for Linux
  id: totrans-34
  prefs:
  - PREF_UL
  type: TYPE_NORMAL
  zh: 7-Zip/PeaZip for Linux
- en: The code bundle for the book is also hosted on GitHub at [https://github.com/PacktPublishing/Mastering-Linux-Shell-Scripting-Second-Edition](https://github.com/PacktPublishing/Mastering-Linux-Shell-Scripting-Second-Edition). In
    case there's an update to the code, it will be updated on the existing GitHub
    repository.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的代码包也托管在 GitHub 上，地址为 [https://github.com/PacktPublishing/Mastering-Linux-Shell-Scripting-Second-Edition](https://github.com/PacktPublishing/Mastering-Linux-Shell-Scripting-Second-Edition)。如果代码有更新，它将会在现有的
    GitHub 仓库中更新。
- en: We also have other code bundles from our rich catalog of books and videos available
    at **[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)**.
    Check them out!
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 我们的丰富书籍和视频目录中也提供了其他代码包，您可以访问 **[https://github.com/PacktPublishing/](https://github.com/PacktPublishing/)**。快去看看吧！
- en: Download the color images
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 下载彩色图像
- en: We also provide a PDF file that has color images of the screenshots/diagrams
    used in this book. You can download it from [https://www.packtpub.com/sites/default/files/downloads/MasteringLinuxShellScriptingSecondEdition_ColorImages.pdf](https://www.packtpub.com/sites/default/files/downloads/MasteringLinuxShellScriptingSecondEdition_ColorImages.pdf).
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 我们还提供了一个 PDF 文件，里面有本书中使用的截图/图表的彩色图像。您可以从 [https://www.packtpub.com/sites/default/files/downloads/MasteringLinuxShellScriptingSecondEdition_ColorImages.pdf](https://www.packtpub.com/sites/default/files/downloads/MasteringLinuxShellScriptingSecondEdition_ColorImages.pdf)
    下载。
- en: Conventions used
  id: totrans-39
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 使用的约定
- en: There are a number of text conventions used throughout this book.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中使用了多种文本约定。
- en: '`CodeInText`: Indicates code words in text, database table names, folder names,
    filenames, file extensions, pathnames, dummy URLs, user input, and Twitter handles.
    Here is an example: "Edit your script so that it reads like the following complete
    code block for `$HOME/bin/hello2.sh`"'
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: '`CodeInText`：表示文本中的代码词汇、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟 URL、用户输入和 Twitter 账号。示例：“编辑您的脚本，使其像下面的完整代码块一样运行，示例：`$HOME/bin/hello2.sh`”'
- en: 'A block of code is set as follows:'
  id: totrans-42
  prefs: []
  type: TYPE_NORMAL
  zh: 一段代码如下所示：
- en: '[PRE0]'
  id: totrans-43
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出如下所示：
- en: '[PRE1]'
  id: totrans-45
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: '**Bold**: Indicates a new term, an important word, or words that you see onscreen.
    For example, words in menus or dialog boxes appear in the text like this. Here
    is an example: "Another very useful feature is found on the Preferences | Plugins
    tab"'
  id: totrans-46
  prefs: []
  type: TYPE_NORMAL
  zh: '**粗体**：表示一个新术语、一个重要的词汇或您在屏幕上看到的词汇。例如，菜单或对话框中的词汇以这种方式出现在文本中。示例：“另一个非常有用的功能可以在
    ''Preferences | Plugins'' 标签页中找到”'
- en: Warnings or important notes appear like this.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要提示通常以这种形式出现。
- en: Tips and tricks appear like this.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士和技巧通常以这种形式出现。
- en: Get in touch
  id: totrans-49
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 联系我们
- en: Feedback from our readers is always welcome.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。
- en: '**General feedback**: Email `feedback@packtpub.com` and mention the book title
    in the subject of your message. If you have questions about any aspect of this
    book, please email us at `questions@packtpub.com`.'
  id: totrans-51
  prefs: []
  type: TYPE_NORMAL
  zh: '**一般反馈**：请发送电子邮件至`feedback@packtpub.com`，并在邮件主题中提及书名。如果您有关于本书的任何问题，请通过`questions@packtpub.com`联系我们。'
- en: '**Errata**: Although we have taken every care to ensure the accuracy of our
    content, mistakes do happen. If you have found a mistake in this book, we would
    be grateful if you would report this to us. Please visit [www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    selecting your book, clicking on the Errata Submission Form link, and entering
    the details.'
  id: totrans-52
  prefs: []
  type: TYPE_NORMAL
  zh: '**勘误**：尽管我们已尽最大努力确保内容的准确性，但错误还是可能发生。如果您在本书中发现错误，我们将非常感激您向我们报告。请访问 [www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)，选择您的书籍，点击
    “Errata Submission Form” 链接并输入详细信息。'
- en: '**Piracy**: If you come across any illegal copies of our works in any form
    on the Internet, we would be grateful if you would provide us with the location
    address or website name. Please contact us at `copyright@packtpub.com` with a
    link to the material.'
  id: totrans-53
  prefs: []
  type: TYPE_NORMAL
  zh: '**盗版**：如果您在互联网上发现我们作品的任何非法复制版本，我们将非常感激您提供该位置地址或网站名称。请通过`copyright@packtpub.com`联系我们，并附上该材料的链接。'
- en: '**If you are interested in becoming an author**: If there is a topic that you
    have expertise in and you are interested in either writing or contributing to
    a book, please visit [authors.packtpub.com](http://authors.packtpub.com/).'
  id: totrans-54
  prefs: []
  type: TYPE_NORMAL
  zh: '**如果您有兴趣成为作者**：如果您在某个领域拥有专业知识，并且有兴趣撰写或为书籍贡献内容，请访问 [authors.packtpub.com](http://authors.packtpub.com/)。'
- en: Reviews
  id: totrans-55
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 评论
- en: Please leave a review. Once you have read and used this book, why not leave
    a review on the site that you purchased it from? Potential readers can then see
    and use your unbiased opinion to make purchase decisions, we at Packt can understand
    what you think about our products, and our authors can see your feedback on their
    book. Thank you!
  id: totrans-56
  prefs: []
  type: TYPE_NORMAL
  zh: 请留下评论。在阅读并使用本书后，为什么不在您购买书籍的网站上留下评论呢？潜在的读者可以看到并利用您的公正意见做出购买决策，我们在 Packt 也能了解您对我们产品的看法，而我们的作者也可以看到您对他们书籍的反馈。谢谢！
- en: For more information about Packt, please visit [packtpub.com](https://www.packtpub.com/).
  id: totrans-57
  prefs: []
  type: TYPE_NORMAL
  zh: 如需了解更多关于 Packt 的信息，请访问 [packtpub.com](https://www.packtpub.com/)。
