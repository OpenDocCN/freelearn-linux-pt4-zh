<html><head></head><body><div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Common Storage Issues</h1>
                </header>
            
            <article>
                
<p>So far, a magnetic storage technology that's impregnable, and can withstand corruption and accidental or malicious erasure, doesn't exist—not yet, anyway. In the meantime, disk, tape, and optical storage devices continue to have their problems, issues, and faults. In this chapter, we look at the data storage issues and their respective causes that you should expect to encounter in the Server+ exam.</p>
<p>We will cover the following topics in this chapter:</p>
<ul>
<li>Data storage device problems</li>
<li>Causes of common problems</li>
<li>Administrative tools</li>
<li>Storage monitoring tools</li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Data storage device problems</h1>
                </header>
            
            <article>
                
<p>The ultimate safeguard against any data storage device failing is a formally defined and steadfastly followed data backup policy and procedure. A full system backup and incremental or differential backups are our insurance policy for any data storage device's failure. <em>Why do we need an insurance policy?</em> Well, we store one of our organization's most valuable assets (data) on what we believe is a reliable device. We then power it with one of the most unreliable and frequently failing devices in a PC—the power supply. If it avoids power issues, it's subject to viruses, physical damage, bad application software, and erroneous device drivers. On top of all that, there's the human. It's no wonder that data storage devices can develop problems.</p>
<p>In the sections that follow, we look at the common problems of three of the primary storage device types—<strong>hard disk drives</strong> (<strong>HDDs</strong>), optical storage drives, and tape cartridge drives.</p>
<p>The following table lists some general causes of <span>failure of</span> data storage devices that you should know:</p>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p><strong>Problem</strong></p>
</td>
<td>
<p><strong>Cause</strong></p>
</td>
<td>
<p><strong>Chance of recovery</strong></p>
</td>
</tr>
<tr>
<td>
<p>Deleted files, formatted drive</p>
</td>
<td>
<p>Human error</p>
</td>
<td>
<p>Good</p>
</td>
</tr>
<tr>
<td>
<p>Database or file corrupted or missing</p>
</td>
<td>
<p>Malware, software errors</p>
</td>
<td>
<p>Good</p>
</td>
</tr>
<tr>
<td>
<p>Filesystem corrupted</p>
</td>
<td>
<p>Media logical fault</p>
</td>
<td>
<p>Good</p>
</td>
</tr>
<tr>
<td>
<p>Can't access disk drive or garbled data</p>
</td>
<td>
<p>Media physical fault—heads, spindle motor, actuator</p>
</td>
<td>
<p>Fair to good</p>
</td>
</tr>
<tr>
<td>
<p>Device water-damaged</p>
</td>
<td>
<p>Natural disaster</p>
</td>
<td>
<p>Fair</p>
</td>
</tr>
<tr>
<td>
<p>Damaged device</p>
</td>
<td>
<p>External drive or laptop computer dropped</p>
</td>
<td>
<p>Fair</p>
</td>
</tr>
<tr>
<td>
<p>Flash media failed</p>
</td>
<td>
<p>Flash device overwrite limit exceeded*</p>
</td>
<td>
<p>Fair</p>
</td>
</tr>
<tr>
<td>
<p>Stored data garbled</p>
</td>
<td>
<p>Magnetic tape media degradation, failure, or damage*</p>
</td>
<td>
<p>Fair</p>
</td>
</tr>
<tr>
<td>
<p>Stored data unreadable</p>
</td>
<td>
<p>CD/DVD medium failure*</p>
</td>
<td>
<p>Poor</p>
</td>
</tr>
</tbody>
</table>
<div class="packt_figref CDPAlignCenter CDPAlign"><span>Common failure causes of data storage media</span></div>
<p><span>* </span><span>The medium in some data storage units, such as flash, tape, and optical mediums, can and does wear out, and degrades over time to the point that anything stored on the medium becomes garbled, unreadable, or not there at all.</span></p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Common HDD problems</h1>
                </header>
            
            <article>
                
<p>It can be difficult to identify certain HDD performance problems as such. The actions of a failing HDD can look very much like the symptoms of a malware attack, a memory problem, a failing power supply, or perhaps too many downloads running at the same time. The symptoms of a failing hard disk could be any of these issues and more. Some of the HDD problems you should know are as follows:</p>
<ul>
<li><strong>Operating system not found</strong>: One of the first things the BIOS/UEFI does when a computer starts up is to access the OS on the system HDD, load its kernel to memory, and start up the system. This error says one of three things—there is a serious BIOS error, all or part of the HDD is faulty, or the <strong>Master Boot Record</strong> (<strong>MBR</strong>) is corrupted or missing.</li>
<li><strong>Slow file access</strong>: When opening a file for display, editing, printing, or any other use, if there seems to be a longer-than-usual pause or hesitation before the file shows up, the obvious problem is that the storage device has become slower. Actually, there could be several reasons why storage drives do take longer to access, read, and transfer data to memory and to the requesting program. The most common reasons for the I/O operations to slow down are as follows:
<ul>
<li><strong>Lack of sufficient space</strong>: If an error message displays saying you're running out of disk space on a given drive as shown in the following screenshot, then the data storage drive indicated is almost filled to capacity. Many processes use secondary storage, and some are not able to execute properly if insufficient space is available for their needs:</li>
</ul>
</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1142 image-border" src="Images/46b904b8-358f-4883-94c5-c09f5bd95fc3.jpg" style="width:23.67em;height:10.17em;" width="820" height="351"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">Windows' low disk space warning</div>
<ul>
<li style="list-style-type: none">
<ul>
<li><strong>Corrupted data</strong>: It's possible for a disk sector or cluster to become corrupted from several causes. Corrupted data on the hard disk could cause a slow data transfer speed. Use the <span class="packt_screen">Error checking</span> tool, as shown in the following screenshot, on the HDD in question to search for corrupted data on that drive:</li>
</ul>
</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1143 image-border" src="Images/018bfab6-4ce2-4f7a-9bd2-90b7cf05d81d.jpg" style="width:30.58em;height:24.92em;" width="792" height="645"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">Windows Properties dialog box for a HDD showing the Error checking tool</div>
<ul>
<li><strong>File/data/object unavailable</strong>: Although it's uncommon, files, data, and even a filesystem can suddenly disappear from a storage device—<em>apparently for no reason</em>. Well, for the sake of discussion, let's say that nothing happens in a computer by itself. Files, including documents, images, videos, programs, games, and so on, can become <em>unavailable</em>, <em>not found</em>, or some other way of saying, <em>it's gone</em>. There are several potential causes for this problem:
<ul>
<li><strong>Automatic operating system (OS) updates</strong>: This is primarily a Windows issue, but automatically downloaded and applied upgrades, patches, or fixes may remove desktop files and installed applications, depending on their storage locations.</li>
<li><strong>Malware/virus</strong>: Yes, these nefarious evil doers can and do delete or hide system, application, and personal files.</li>
<li><strong>Login</strong>: On occasion, users log in to their computers using different username credentials. An unavailable file may be there, but your other username may not have rights or permissions to see it.</li>
<li><strong>HDD failing</strong>: There is always the possibility that the HDD is logically or mechanically failing. Always assume this to be true and create a backup first thing.</li>
</ul>
</li>
<li><strong>HDD logical problems</strong>: If a message appears, something like <em>Drive not available</em>, <em>Cannot access logical drive</em>, or <em>Unable to mount the device displays</em>, obviously there's a problem. There are several possible reasons why you may not be able to access a filesystem, file, or data on an HDD. Here are a few:
<ul>
<li><strong>Drive letter missing</strong>: The drive designation, such as <span class="packt_screen">C:</span> or <span class="packt_screen">H:</span>, is missing from an HDD partition. This may be the result of a virus or an inadvertent action by a user.</li>
<li><strong>Hidden partition</strong>: To protect personal or sensitive files, a user may decide to hide a partition. To access its contents, the filesystem must be unhidden.</li>
<li><strong>Partition inaccessible</strong>: This condition indicates one of three possible causes—the access permissions for a particular partition are corrupted or gone altogether; the OS has detected an error in a value via the <strong>cyclic redundancy check</strong> (<strong>CRC</strong>); or the <strong>Master File Table</strong> (<strong>MFT</strong>) or <strong>File Allocation Table</strong> (<strong>FAT</strong>) is corrupt and needs rebuilding.</li>
<li><strong>RAW partition</strong>: A RAW partition is not in the format of a particular filesystem, such as NTFS, EXT4, or the like. A previously formatted filesystem can become RAW through a virus or result from an interruption during its formatting.</li>
<li><strong>Unallocated partition</strong>: A power spike or surge could damage the logical partitioning of an HDD. A partition and its contents could change to unallocated.</li>
</ul>
</li>
<li><strong>Backup/restore problems</strong>: A strictly followed backup program provides an insurance policy against catastrophic damage and loss. However, backup media can fail and become damaged. If the power fails or another event causes an interruption in the backup process, especially if the backup runs unattended, the resultant backup may be worthless. The discovery of a failed backup may not occur until it is needed to restore damaged or compromised files.</li>
<li><strong>Cache failure</strong>: In the context of data storage, caching refers to the disk cache, also known as the disk buffer or cache buffer, which is a small amount of disk space on an HDD. When the hard disk is busy, the disk cache receives and holds data for when the read/write mechanisms are available. A disk cache failure can occur from a power failure or any system error that halts the system, such as a kernel panic on a Linux or macOS system or the <strong>Blue Screen of Death</strong> (<strong>BSoD</strong>) on a Windows system. In any case, when the I/O operation interrupts, the cache empties and the data is lost.</li>
<li><strong>Multiple HDD failure</strong>: There are two ways you can look at this error condition—the failure of single HDDs installed in a computer one at a time, or an array of HDDs in a structure, such as <strong>Redundant Array of Independent Disks</strong> (<strong>RAID</strong>), <span><strong>Network-Attached Storage</strong> (</span><strong>NAS</strong>), or a <strong>storage area network</strong> (<strong>SAN</strong>), all failing at once. In either situation, the first thing to suspect is the <strong>power supply unit</strong> (<strong>PSU</strong>).</li>
<li><strong>Status/error lights</strong>: Most rackmount or tower servers have front-facing LEDs to indicate the activity, condition, and error status of their internal HDDs. Most HDD caddies and multiple-drive chassis devices, such as those for NAS or SANs, have lights for each bay or the ability to check each bay independently.</li>
</ul>
<p>The following table shows a sampling of the meanings for an LED status light:</p>
<div>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td>
<p><strong>Pattern</strong></p>
</td>
<td>
<p><strong>Color</strong></p>
</td>
<td>
<p><strong>Meaning</strong></p>
</td>
</tr>
<tr>
<td>
<p>Off</p>
</td>
<td>
<p>-</p>
</td>
<td>
<p>Empty slot</p>
</td>
</tr>
<tr>
<td>
<p>Steady</p>
</td>
<td>
<p>Green</p>
</td>
<td>
<p>Online</p>
</td>
</tr>
<tr>
<td>
<p>Flashing slow</p>
</td>
<td>
<p>Green</p>
</td>
<td>
<p>Drive administration in progress</p>
</td>
</tr>
<tr>
<td>
<p>Flashing fast</p>
</td>
<td>
<p>Yellow</p>
</td>
<td>
<p>Drive has failed</p>
</td>
</tr>
<tr>
<td>
<p>Flashing very slow</p>
</td>
<td>
<p>Alternating green/yellow</p>
</td>
<td>
<p>Drive failure imminent</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="packt_figref CDPAlignCenter CDPAlign">Common HDD status light colors, patterns, and meanings</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Causes of common problems</h1>
                </header>
            
            <article>
                
<p>As you have most likely learned in your experience as a computing technician, the causes of most computer, software, and component failures, faults, and problems are relatively few in number. Identifying the source of a device or component problem typically involves looking for a familiar set of common system problems. In this section, we look at the list of common storage device problems you should expect to see on the Server+ certification exam.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Media failures</h1>
                </header>
            
            <article>
                
<p>Storage media is something we take more or less for granted—but it is important. After all, that's where our data actually resides. However, since we cannot, and shouldn't, see, touch, or even smell, storage media for the most part, it's often a case of <em>out of sight, out of mind</em>.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Hard disk media</h1>
                </header>
            
            <article>
                
<p>In spite of its rugged, metal-enclosed appearance, a hard disk drive, be it internal or external, is actually a relatively fragile device. Its internal components operate extremely close to each other, and at very high speeds. Any force or sudden motion to the system case or rackmount tray can, and usually does, cause damage to the disk and its storage medium. A crashed head that remains on the disk surface can scrape the medium material off the substrate, taking any data with it. One of the more common disk medium failures is the appearance of bad sectors on the disk. There are two types of bad sectors:</p>
<ul>
<li><strong>Physical bad sectors</strong>: A portion of a hard disk medium damaged by a head crash or a contaminant inside the disk's case, such as dust, hair, and so on (typically from manufacturing). Neither the disk controller nor the OS is able to read or write to these areas. Physical bad sectors on an HDD are not generally repairable.</li>
<li><strong>Logical bad sectors</strong>: Unlike a physical bad sector, these areas of an HDD, also known as, soft bad sectors, are accessible but may cause I/O problems such as increased latency or read errors. The disk controller and OS can access a logical bad sector, and even write to it and attempt to read from it. Logical bad sectors are repairable.</li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">SSD media</h1>
                </header>
            
            <article>
                
<p>One of the advantages of an SSD over an HDD is the lack of moving parts. This means no head crashes or contaminant problems. However, SSD is an electronic device and, while its storage media is relatively error-free, the electronics around it aren't. Capacitors, circuits, and power supplies are known to fail, and if one or all of these that support the SSD do fail, then so does the SSD.</p>
<p class="mce-root"/>
<p>An SSD doesn't have bad sector problems, but it can have bad blocks. Here are a few of the symptoms to look for:</p>
<ul>
<li>The disk controller can't write to or read from the storage medium</li>
<li>I/O-intensive applications may freeze up</li>
<li>Copying or moving files causes system errors</li>
<li>Accessing larger files takes longer than usual</li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Magnetic tape media</h1>
                </header>
            
            <article>
                
<p>Magnetic tape, primarily in cartridges, has a limited, but very important, role in data integrity and system recovery, namely as a backup medium. A backup tape, regardless of its iteration, is necessary, but when something goes wrong with your main storage device, a backup becomes essential. Magnetic tape does have its problems, though. Here are the most common issues you may see on the exam:</p>
<ul>
<li><strong>Human errors</strong>: Operators, technicians, and well-meaning, yet untrained, helpers are the causes of a majority of the problems of magnetic tape. Forgetting to change or load the tape, putting in the wrong tape for the current cycle, keeping tapes in service too long, and storing tapes in an improper location are just a few of the problems that humans create.</li>
<li><strong>Script errors</strong>: On some systems, rather than use a software utility, such as <strong>Bacula</strong> or <strong>Duplicati</strong> for macOS and Linux and <strong>Windows Server Backup</strong> (<strong>WSB</strong>) and <strong>Acronis</strong> for Windows, a script runs the system backups. Errors in the script, SAN or NAS addressing errors, or a folder not available can result in an incomplete backup that may not restore the system completely.</li>
<li><strong>Hardware errors</strong>: Tape drives and magnetic tape media can and do fail. In fact, one is often the cause of the other failing. A tape drive issue can affect the spooling of the tape medium, which can stretch, tear, or unravel the tape, usually outside the cartridge.</li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Optical drives</h1>
                </header>
            
            <article>
                
<p>Optical drives, that is, CDs and DVDs, either work or they don't. Usually, there isn't any kind of a heads-up that the disc or the drive may be failing. It's typically a "<em>well, it worked yesterday</em>" kind of thing. The more common problems of an optical drive are as follows:</p>
<ul>
<li><strong>No drive at boot</strong>: If the BIOS/UEFI doesn't <em>see</em> the optical drive during the boot process all of a sudden, chances are the drive's electronics are bad. Try rebooting, though. If that doesn't resurrect the drive, it's a goner.</li>
<li><strong>Reads DVD, not CD</strong>: If the drive reads a DVD with no problems, but won't read a CD at all, it's likely that one of the read lasers has failed. Try cleaning the disc and the drive and try again. If it's still a no-go, you'll need to replace the drive.</li>
<li><strong>Read errors</strong>: Typically, read errors indicate a dirty disc. Clean the disc and try again. If you still have problems, try another disc. If read errors continue, clean the drive.</li>
<li><strong>Inconsistent operation</strong>: If you have recently applied an upgrade or a patch to the OS, and since then the optical drive is operating erratically, then check with the manufacturer of the optical drive to see if a firmware update is available to fix the problem.</li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Common storage problems causes</h1>
                </header>
            
            <article>
                
<p>Although we've discussed a few causes for storage device problems in the preceding section, let's focus now on specific causes of specific device or component failures. I've categorized the problem causes into the following groups—<strong>drive and connector failures</strong>, <strong>controller and cache failures</strong>, and <strong>RAID and array failures</strong>. The controller and cache failures and RAID and array failures are discussed in the <em>Hardware-related issues</em> section later in this chapter.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Drive and connector failures</h1>
                </header>
            
            <article>
                
<p>The potential for storage device problems exists during almost every part of its installed life. In fact, just installing the device may introduce problems that may not be noticeable at first, but grow into serious issues. We discussed the problems a power supply can cause to storage devices and more, but even with general day-to-day levels of usage, there are several problems that can cause the storage device to be unavailable, perform erratically, or fail altogether.</p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">HDD problems</h1>
                </header>
            
            <article>
                
<p>Beyond human error, power supply issues, physical damage issues, and a few others, there are problems that can be the cause of problems with the OS, application software, and, okay, just about any program running on the computer that needs data from a storage device. The causes for the problems that fit this description are as follows:</p>
<ul>
<li><strong>Corrupt or missing MBR</strong>: The MBR provides information to the boot process about the HDD on which it resides. When the boot process first accesses the HDD from which it will access the OS, it requests the MBR for that drive. The MBR includes information about the size of the disk, the number and type of logical partitions on it, and the like. However, if the MBR is corrupted or is missing, the boot process ignores the drive, which essentially says it doesn't exist. The three primary causes for an MBR to be missing or corrupt are a computer virus or malware, a program that has erroneously overwritten the MBR, that the drive has lost the clusters that include the MBR, or the drive has completely failed.</li>
<li><strong>Corrupt filesystem table</strong>: A part of the MBR is a master file table or a filesystem table that describes the logical partitions on the disk. The following table shows the contents of an MBR's filesystem table. Damage to the MBR will most likely also affect the filesystem table as well. A filesystem table looks something like the following:</li>
</ul>
<div>
<table style="border-collapse: collapse;width: 100%" border="1">
<tbody>
<tr>
<td style="width: 16.6181%">
<p class="CDPAlignCenter CDPAlign"><strong>Byte</strong></p>
</td>
<td style="width: 19.3819%">
<p class="CDPAlignCenter CDPAlign"><strong>Length (bytes)</strong></p>
</td>
<td style="width: 61%">
<p class="CDPAlignCenter CDPAlign"><strong>Contents</strong></p>
</td>
</tr>
<tr>
<td style="width: 16.6181%">
<p class="CDPAlignCenter CDPAlign">0</p>
</td>
<td style="width: 19.3819%">
<p class="CDPAlignCenter CDPAlign">1</p>
</td>
<td style="width: 61%">
<p class="CDPAlignCenter CDPAlign">Active boot indicator</p>
</td>
</tr>
<tr>
<td style="width: 16.6181%">
<p class="CDPAlignCenter CDPAlign">1</p>
</td>
<td style="width: 19.3819%">
<p class="CDPAlignCenter CDPAlign">3</p>
</td>
<td style="width: 61%">
<p class="CDPAlignCenter CDPAlign"><strong>Cylinder-Head-Sector</strong> (<strong>CHS</strong>) starting values</p>
</td>
</tr>
<tr>
<td style="width: 16.6181%">
<p class="CDPAlignCenter CDPAlign">4</p>
</td>
<td style="width: 19.3819%">
<p class="CDPAlignCenter CDPAlign">1</p>
</td>
<td style="width: 61%">
<p class="CDPAlignCenter CDPAlign">Partition type</p>
</td>
</tr>
<tr>
<td style="width: 16.6181%">
<p class="CDPAlignCenter CDPAlign">5</p>
</td>
<td style="width: 19.3819%">
<p class="CDPAlignCenter CDPAlign">3</p>
</td>
<td style="width: 61%">
<p class="CDPAlignCenter CDPAlign">CHS ending values</p>
</td>
</tr>
<tr>
<td style="width: 16.6181%">
<p class="CDPAlignCenter CDPAlign">8</p>
</td>
<td style="width: 19.3819%">
<p class="CDPAlignCenter CDPAlign">4</p>
</td>
<td style="width: 61%">
<p class="CDPAlignCenter CDPAlign">First sector</p>
</td>
</tr>
<tr>
<td style="width: 16.6181%">
<p class="CDPAlignCenter CDPAlign">12</p>
</td>
<td style="width: 19.3819%">
<p class="CDPAlignCenter CDPAlign">4</p>
</td>
<td style="width: 61%">
<p class="CDPAlignCenter CDPAlign">Partition size in sectors</p>
</td>
</tr>
</tbody>
</table>
</div>
<div class="packt_figref CDPAlignCenter CDPAlign">The contents of the 16-byte filesystem table entry</div>
<ul>
<li><strong>Improper disk partition</strong>: There are two types of partitions on a disk drive, namely, the system partition and one or more data partitions. The OS resides on the system partition, which is commonly designated as the <span class="packt_screen">C:</span> drive. Data partitions store anything else and are designated as drives <span class="packt_screen">D:</span>, <span class="packt_screen">E:</span>, <span class="packt_screen">F:</span>, and so on. Installing a lot of software, creating a large database, or saving data primarily to one partition can cause it to fill up. The message <span class="packt_screen">Insufficient Disk Space</span>, which is common to all OSes, indicates that perhaps the partition sizing is incorrect for what the computer is being asked to support.</li>
</ul>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Cable and connector problems</h1>
                </header>
            
            <article>
                
<p>On data center, rackmount, disks and disk arrays, a disk drive connects to the network through an Ethernet connector or <strong>Serial Attached SCSI</strong> (<strong>SAS</strong>) connection. The cables and connectors for these systems may have the same issues as standalone server connections, but typically on a much less frequent basis.</p>
<p>Standalone servers, whether free-standing (tower) or rackmount, generally have an onboard HDD of one form or another mounted inside the system case. These servers can also connect to SAN or NAS systems over the network. Storage drive failures do occur on systems or all sizes and technologies. The causes of these failures, regardless of the system, are essentially the same in all cases. These causes include the following:</p>
<ul>
<li><strong>Cable issues</strong>: If the installation of the proper cabling for an internal storage drive is correct, the system should remain operational. If the system isn't recognizing the storage device, check the connectors and cabling for power or connectivity problems. If necessary, reseat the connectors or replace the cables. As a result of heating up and cooling down, a connector can wiggle out of a socket due to its metal contacts expanding and contracting. A faulty cable, even a new one, can cause intermittent problems or the boot process not seeing the device.</li>
<li><strong>Improper termination</strong>: This issue is one typically associated with SCSI and SAS devices and the <em>chain</em> that connects them. To prevent a signal from bouncing back onto the chain and creating <em>ghost devices</em>, properly terminate each end of a SCSI and SAS chain.</li>
<li><strong>Serial Advanced Technology Attachment (SATA) connections</strong>: Most of the time, SATA drives don't come with cabling. Match the cables to the specific drive manufacturer and model. The cabling should not be more than 1 m in length or intermittent data problems could occur. Make sure that all of the connectors are clean and snugly inserted.</li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Storage system issues</h1>
                </header>
            
            <article>
                
<p>Data storage device failures fall into one of two general problem types—software-related failures and hardware-related failures.</p>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Software-related failures</h1>
                </header>
            
            <article>
                
<p>Data stored on a data storage device (that is, data at rest) can be like a proverbial <em>sitting duck</em>. Any number of factors can affect the data's quality, usability, and availability. Some common software-related or logical stored data issues are as follows:</p>
<ul>
<li><strong>Formatting</strong>: Formatting a data storage device, either purposely or accidentally, deletes the partition tables and the file location information. Any data stored on the device remains intact, but we can't access it because we've lost the map.</li>
<li><strong>Deleted data</strong>: When deleting a file, folder, or filesystem, regardless of whether you meant to or not, the data remains on the storage medium. In most cases, this data is recoverable, even though the OS can't find it. Deleting a filesystem removes the file indexing used to point to a folder, or file within it. However, in most cases, this data is recoverable.</li>
<li><strong>Corrupted data</strong>: Bad programming instructions, virus or malware infections, and hardware issues can be a cause of corrupted data.</li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Hardware-related issues</h1>
                </header>
            
            <article>
                
<p>Because of its close operating distances, an HDD can be almost fragile, meaning it's relatively easy to damage it. Most data storage device problems occur during system startup. These problems are generally in the hard disk controller, but may also be in HDDs, as well. However, other forms of data storage devices can experience most of these problems. You should expect to see questions regarding HDD problems and their effect on stored data. The following are issues you may run into:</p>
<ul>
<li><strong>Controller failure</strong>: On SATA and IDE HDDs, the disk controller, which may be in the disk housing or on the motherboard as a function of the chipset, could fail, which eliminates the capability of the OS to read and write from the disk medium. The HDD controller provides a go-between service for the OS and the HDD device. Commonly, although the message that's displayed indicates that the controller failed, it could very well be the HDD device itself.</li>
<li><strong>Host bus adapter (HBA) failure</strong>: An HBA is an electronic circuit board that relieves the CPU of the communications and actions with the data storage system, which may be a <strong>fibre channel</strong> (<strong>FC</strong>) SAN, NAS, RAID, or onboard data storage devices. A failure of an HBA controller can indicate installation issues, a failed component on the card, or a failure in the SAN controller.</li>
<li><strong>Disk cache off</strong>: By default, the disk-buffering or disk-caching function is enabled to assist an HDD to receive data from the system for writing to the disk while it's busy with other tasks, as shown in the following screenshot. If you disable this feature on an internal HDD, I/O speeds may be slow. On external drives, disabled disk caching is the default:</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1144 image-border" src="Images/7964e8a3-e6c0-4f94-95ab-a40521140ad6.jpg" style="width:29.67em;height:16.42em;" width="784" height="434"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">The write-caching policy settings in the Windows Device Manager</div>
<ul>
<li><strong>Cache battery failure</strong>: RAID systems power their write cache memory with a battery so that, should the power fail, the system is able to clear the cache before shutting down. Any data in the cache when the cache battery's power weakens will be gone.</li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Storage array issues</h1>
                </header>
            
            <article>
                
<p>The technologies and mechanisms available for implementation on a network to improve data I/O speed, reliability, redundancy, and availability for network users typically are relatively problem-free. However, improper configuration, incompatible devices, or hardware issues may defeat the purpose of the array. Specific issues that can arise are as follows:</p>
<ul>
<li><strong>Improper RAID configuration</strong>: RAID is a disk storage technique that creates a network of HDDs that coordinate to prevent data loss while improving reliability, performance, and redundancy. However, if a RAID configuration is faulty, the system could work against itself. If performance is the priority, it could result in a data loss in the event of a failure. The reverse would be true as well. The configuration of the RAID arrangement should match the objectives of the system and the goals of the organization.</li>
<li><strong>RAID rebuilds</strong>: Should one of the storage devices in a RAID system fail and a replacement drive is available, the RAID array will reconstruct the piece that is now missing on the new drive based on its parity data. Unfortunately, while this is happening, users see longer-than-normal latency.</li>
<li><strong>Mismatched drives</strong>: In some data storage arrangements, such as NAS or SAN, differently sized drives work as well as drives that are identical. However, RAID needs the disk drives to all be the same size. If differently sized drives are in the RAID array, all drives, regardless of size, will only use the storage size of the smallest drive.</li>
<li><strong>Backplane failure</strong>: A common method used to implement a RAID system is through a backplane circuit or card, as shown in the following image. A backplane is often part of a card enclosure. Each disk drive unit connects into a slot or connector on the backplane, which eliminates the cabling clutter of multiple drives. Should a single backplane connector fail, its drive becomes inaccessible. Should the entire backplane fail, none of the drives connected to it are accessible. Typically, the drives themselves are okay though:</li>
</ul>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1145 image-border" src="Images/90617102-8033-4af5-a11c-a354c249f084.jpg" style="width:67.75em;height:34.50em;" width="813" height="414"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">A data storage device backplane card<br/>
Image courtesy: kisspng.com</div>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Administrative tools</h1>
                </header>
            
            <article>
                
<p>The complexity of administering the data storage connected to a server depends on several factors, including size, technology, arrangement, and—let's not forget—security. Based on the complexity, the job of the storage administrator can range from the part-time duties of a single administrator to a full-time job for multiple technicians. There are a variety of disk or storage management software packages available that include the functions necessary to perform most of the tasks described in the following sections.</p>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Disk management</h1>
                </header>
            
            <article>
                
<p>The term <strong>disk management</strong> has a few connotations, but it's most commonly used to describe a task or a utility feature of the Windows OS. Actually, the latter can help you with the former. The Windows <span class="packt_screen">Disk Management</span> utility, as shown in the following screenshot, provides the capabilities to create, change, remove, extend, and rename disk volumes and partitions. For Linux systems, the <kbd>fdisk</kbd> and <kbd>disk</kbd> commands provide many of the same features:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1146 image-border" src="Images/b9a93bf0-1093-4346-a8e5-dd04be5de3ac.jpg" style="width:66.58em;height:28.83em;" width="799" height="346"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">The Windows Disk Management utility</div>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Disk partitioning tools</h1>
                </header>
            
            <article>
                
<p>The Windows <span class="packt_screen">Disk Management</span> utility, as shown in the preceding screenshot, manages disk partitions. However, there are also many freeware and not-so-freeware packages available for this purpose, including the <strong>MiniTool Partition Wizard</strong> and the <strong>AOMEI Partition Assistant</strong>. On a Linux system, the <kbd>fdisk</kbd> command has been the standard, but <span class="packt_screen">GParted</span>, as shown in the following screenshot, is an excellent open source tool for this purpose, as well:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1147 image-border" src="Images/715426e1-c56b-4657-a06a-84b1353843be.jpg" style="width:66.42em;height:40.17em;" width="797" height="482"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">GParted partitioning tool for Linux<br/>
Image courtesy: gparted.org</div>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Map, mount, and net use</h1>
                </header>
            
            <article>
                
<p>The process of mapping a network resource is a much different action from mounting a storage device or connecting to or creating a share on a network resource. But, these three functions are often confused. Let's look at each one separately:</p>
<ul>
<li><strong>Drive mapping</strong>: Mapping a data storage resource involves identifying it by assigning it a drive identity, such as <span class="packt_screen">E:</span>, and making it available to local network users. In effect, drive mapping creates a share, but on a broader scale than a resource on one node shared with a specific user. However, in most cases, adding a shortcut to the resource in the Windows File Explorer's <span class="packt_screen">Network</span> folder may be a better option.</li>
<li><strong>Mount command</strong>: Both Windows and Linux use the <kbd>mount</kbd> command to make a storage device, a filesystem, or a group of files accessible to one or more users and connecting it to the active directory structure. However, the Linux <kbd>mount</kbd> command has a few more options that can make it the equivalent of the Windows <kbd>net use</kbd> command.</li>
<li><strong>Net use</strong>: The <kbd>use</kbd> option is just one of over 20 options that facilitate the management of just about any part of a network, including setting network shares, administering users and their permissions, and so on. The <kbd>net use</kbd> command can create, configure, or remove connections to shared resources on a network, including data storage drives and printers. The <kbd>net use</kbd> command produces essentially the same results as the <span class="packt_screen">Map Network Drive</span> option in the Windows File Explorer.</li>
</ul>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Disk arrays</h1>
                </header>
            
            <article>
                
<p>A disk array, also known as a storage array, combines several HDDs into a single data storage system that operates independently of network servers. Storage arrays also centralize storage devices for a single resource management function. Storage arrays provide the foundation for SANs and NAS.</p>
<p>Most disk array system manufacturers provide a form of storage management software. In addition, there are third-party storage management software packages:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1155 image-border" src="Images/f57982c3-e378-41db-9c5e-4b4ba1b4bf48.jpg" style="width:69.42em;height:28.83em;" width="833" height="346"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">An example of common disk array management software</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">RAID arrays</h1>
                </header>
            
            <article>
                
<p><span>Another type of storage device array is a RAID array, and, as with general disk arrays, there are specific software management tools for RAID implementations. On a Linux system, RAID management is</span> through the <kbd>mdadm</kbd> com<span>mand. The following screenshot shows the help display for this command:</span></p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1149 image-border" src="Images/2009f556-1fe0-4317-a96d-728899cda100.jpg" style="width:32.58em;height:18.33em;" width="999" height="562"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">The help display for the mdadm Linux command</div>
<p>On Windows Server and other 64-bit Windows versions, utilities such as the HP <span class="packt_screen">Array Configuration Utilit</span><span class="packt_screen">y</span>, shown in the following screenshot, support the creation, administration, and monitoring of RAID and other disk arrays:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1150 image-border" src="Images/3b702a4a-f8f9-49b3-be61-7e1cb23f03cf.jpg" style="width:42.08em;height:27.42em;" width="801" height="522"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">The HP Array Configuration Utility is an example of RAID array management software</div>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Storage monitoring tools</h1>
                </header>
            
            <article>
                
<p>All OSes record informational, cautionary, and error-alarm events in system log files. Windows has a robust log system. The Windows <span class="packt_screen">Event Viewer</span> utility provides a tool to view, manage, archive, and customize the content and display of each of the log files. The following screenshot shows a screen capture of the Windows <span class="packt_screen">Event Viewer</span>:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1151 image-border" src="Images/fc119aaa-710f-486a-a678-a888c2d9df3d.jpg" style="width:83.25em;height:43.42em;" width="999" height="521"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">The Windows Event Viewer displays the contents of the system's log files</div>
<p>On a Linux system, the log files are in the <kbd>/var/log</kbd> <span>directory</span>. The following screenshot shows a display of the log entries in the <kbd>sysinfo.log</kbd> file, which contains entries for the general activities of the system:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1152 image-border" src="Images/ed61eef9-45c3-4d6d-8857-98343ebc8de7.jpg" style="width:83.25em;height:47.33em;" width="999" height="568"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">The contents of a Linux sysinfo.log file</div>
<p>In addition to the onboard log file utilities, several third-party systems are available for log file monitoring, analysis, and reporting. The following screenshot shows an event log analysis tool. Monitoring a server's log files is an important task. As the saying goes, <em>the devil is in the detail</em>, and it's certainly the case with log files:</p>
<p class="CDPAlignCenter CDPAlign"><img class="alignnone size-full wp-image-1153 image-border" src="Images/c84fdc8f-7d2f-4297-b6b1-7b7091cd8f37.jpg" style="width:83.33em;height:44.58em;" width="1000" height="535"/></p>
<div class="CDPAlignCenter CDPAlign packt_figref">The Splunk Enterprise log file analysis tool</div>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Summary</h1>
                </header>
            
            <article>
                
<p>The safeguard against storage device failures and data loss is a formal data backup procedure. System backups provide insurance against storage device failure. Some HDD problems you should know are <em>OS not found</em>, <em>slow file access</em>, <em>lack of sufficient space</em>, <em>corrupted data</em>, and <em>file/data/object unavailable</em>.</p>
<p>A common disk failure is physical or logical bad sectors appearing on a disk platter. Physical bad sectors are the result of a read/write head touching the disk medium surfaces. Logical bad sectors may cause I/O problems, including increased latency or read errors. An advantage of an SSD is its lack of moving parts, but its electronics can fail and it can have bad blocks. Magnetic tape cartridges are a common backup medium. Backup tapes are essential. Magnetic tape does have problems, including human errors, script errors, and hardware errors. The common problems of optical drives include no drive being detected at boot, reads a DVD—but not a CD, read errors, and inconsistent operation.</p>
<p>The causes for device or component failures fall into four groups—drive and connector failures, controller and cache failures, and RAID and array failures. The causes for HDD drive problems include a corrupt or missing MBR, a corrupt filesystem table, and an improper disk partition. Causes for cable and connector problems include cable issues, improper termination, and SATA connection issues.</p>
<p>The causes for storage system problems can be software-or hardware-related. The causes for software failures include formatting, deleted data, and corrupted data. The causes of hardware-related failures include controller failure, HBA failure, the disk cache being off, and a cache battery failure. The causes for storage array problems include improper RAID configuration, RAID rebuilds, mismatched drives, and backplane failures.</p>
<p>Storage management software provides the functionality to perform the following tasks of disk management: managing partitions, mapping a network resource, mounting filesystems, and adding, configuring, and removing partitions.</p>
<p>A storage array combines storage drives into a single data storage unit that operates independently of the network servers. Storage arrays are the foundation of SANs and NAS. Disk array manufacturers provide storage management software. There are specific software tools for RAID implementations. OSes record events in log files.</p>
<p class="mce-root"/>
<p class="mce-root"/>


            </article>

            
        </section>
    </div>



  
<div id="sbo-rt-content"><section>

                            <header>
                    <h1 class="header-title">Questions</h1>
                </header>
            
            <article>
                
<ol>
<li>Which of the following is not a common problem of an HDD device?
<ol>
<li>Slow access</li>
<li>Corrupted data</li>
<li>Too fast</li>
<li>Bad sectors or clusters</li>
</ol>
</li>
</ol>
<ol start="2">
<li>Which of the following data storage devices has no storage-related moving parts?
<ol>
<li>HDD</li>
<li>SSD</li>
<li>DVD</li>
<li>CD</li>
</ol>
</li>
</ol>
<ol start="3">
<li>What does the acronym HBA stand for?
<ol>
<li>Hierarchical Binary Array</li>
<li>Host Base Algorithm</li>
<li>Host Bus Adapter</li>
<li>Hierarchical Bus Adapter</li>
</ol>
</li>
</ol>
<ol start="4">
<li>The most commonly accepted meaning of the acronym RAID is which of the following?
<ol>
<li>Responsive arrays of independent disks</li>
<li>Redundant arrays of independent disks</li>
<li>Reproduced arrays of independent disks</li>
<li>Readable arrays of independent disks</li>
</ol>
</li>
</ol>
<ol start="5">
<li>Which of the following is a common cause of backup failures? (Choose all that apply)
<ol>
<li>Tape drive errors</li>
<li>Human error</li>
<li>OS errors</li>
<li>Disk errors</li>
</ol>
</li>
</ol>
<p class="mce-root"/>
<p class="mce-root"/>
<ol start="6">
<li>Which of the following is not a type of device or component failure?
<ol>
<li>Drive failures</li>
<li>Connector failures</li>
<li>Controller failures</li>
<li>Cache failures</li>
<li>RAID and array failures</li>
<li>Cable termination failures</li>
<li>All of the above</li>
<li>None of the above</li>
</ol>
</li>
</ol>
<ol start="7">
<li>The information needed by the boot process about a hard disk partition is found in which data block?
<ol>
<li>Registry</li>
<li>MBR</li>
<li>Filesystem</li>
<li>Disk buffer</li>
</ol>
</li>
</ol>
<ol start="8">
<li>On a Windows system, which system utility can be used to view the contents of the system log files?
<ol>
<li>Task Manager</li>
<li>Device Manager</li>
<li>Control Panel</li>
<li>Event Viewer</li>
</ol>
</li>
</ol>
<ol start="9">
<li>Which logical structure combines storage devices into a single unit that operates independently of network servers?
<ol>
<li>Data array</li>
<li>iSCSI chain</li>
<li>Storage or disk array</li>
<li>Database</li>
</ol>
</li>
</ol>


            </article>

            
        </section>
    </div>



  </body></html>