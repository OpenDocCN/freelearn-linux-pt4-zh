- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 序言
- en: 2006 was an exciting year. The disappointment that surrounded the dot-com crash
    had pretty much been superseded by a renewed and more confident growth of Web
    2.0 and inspired a search for technologies of a new age.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: 2006年是一个令人兴奋的年份。围绕着互联网泡沫破裂的失望几乎完全被Web 2.0的复兴和更为自信的增长所取代，激发了对新一代技术的探索。
- en: At that time, I was looking for a web server to power my projects that would
    do many things in a different way. After getting some experience in large-scale
    online projects, I knew that the popular LAMP stack was suboptimal and sometimes
    did not solve certain challenges, such as efficient uploads, geo-dependent rate
    limiting, and so on.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 那时，我正在寻找一个可以为我的项目提供支持的Web服务器，它能以不同的方式处理许多事情。在积累了一些大型在线项目的经验后，我知道流行的LAMP堆栈并不理想，有时无法解决某些挑战，比如高效上传、基于地理位置的限速等问题。
- en: After trying and rejecting a number of options, I came to know about Nginx and
    immediately felt that my search was over. It is small yet powerful, with a clean
    code base, good extensibility, relevant set of features, and a number of architectural
    challenges solved. Nginx definitely stood out from the crowd!
  id: totrans-3
  prefs: []
  type: TYPE_NORMAL
  zh: 在尝试并拒绝了多个选项后，我了解了Nginx，并立即觉得我的搜索找到了终点。它小巧而强大，代码库简洁，扩展性好，功能齐全，并且解决了许多架构上的挑战。Nginx无疑从人群中脱颖而出！
- en: I immediately got inspired and felt some affinity to this project. I tried participating
    in the Nginx community, learned, shared my knowledge, and contributed as much
    as I could.
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: 我立刻受到启发，并且对这个项目产生了某种亲近感。我尝试参与Nginx社区，学习、分享我的知识，并尽可能多地贡献。
- en: With time, my knowledge of Nginx grew. I started to get consultancy requests
    and have been capable of addressing quite sophisticated cases. After some time,
    I realized that some of my knowledge might be worth sharing with everyone. That's
    how I started a blog at [www.nginxguts.com](http://www.nginxguts.com).
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: 随着时间的推移，我对Nginx的了解不断增长。我开始收到咨询请求，并且能够解决一些相当复杂的案例。过了一段时间，我意识到我的一些知识可能值得与大家分享。于是我在[www.nginxguts.com](http://www.nginxguts.com)上开设了一个博客。
- en: A blog turned out to be an author-driven medium. A more reader-focused and more
    thorough medium was in demand, so I set aside some time to assemble my knowledge
    in the more solid form of a book. That's how the book you're holding in your hands
    right now came into existence.
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: 博客最终变成了一个以作者为主导的媒介。更注重读者并更全面的媒介变得有需求，因此我抽出时间将我的知识汇编成一本更为扎实的书籍。这就是你现在手中的这本书的由来。
- en: What this book covers
  id: totrans-7
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书的内容
- en: '[Chapter 1](ch01.html "Chapter 1. Getting Started with Nginx"), *Getting Started
    with Nginx*, gives you the most basic knowledge about Nginx, including how to
    carry out the very basic installation and get Nginx up and running quickly. A
    detailed explanation of the structure of the configuration file is given so that
    you know where exactly code snippets from the rest of the book apply.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[第1章](ch01.html "第1章 Nginx入门")，*Nginx入门*，为你提供了有关Nginx的最基本知识，包括如何进行最基本的安装并快速启动Nginx。还详细解释了配置文件的结构，让你清楚地知道书中其他部分的代码片段应用在哪些位置。'
- en: '[Chapter 2](ch02.html "Chapter 2. Managing Nginx"), *Managing Nginx*, explains
    how to manage an operating Nginx instance(s).'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[第2章](ch02.html "第2章 管理Nginx")，*管理Nginx*，解释了如何管理一个正在运行的Nginx实例。'
- en: '[Chapter 3](ch03.html "Chapter 3. Proxying and Caching"), *Proxying and Caching*,
    explains how to turn Nginx into a powerful web proxy and cache.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[第3章](ch03.html "第3章 代理与缓存")，*代理与缓存*，解释了如何将Nginx转变为一个强大的Web代理和缓存。'
- en: '[Chapter 4](ch04.html "Chapter 4. Rewrite Engine and Access Control"), *Rewrite
    Engine and Access Control*, explains how to use the rewrite engine to manipulate
    URLs and secure your web resources.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[第4章](ch04.html "第4章 重写引擎与访问控制")，*重写引擎与访问控制*，解释了如何使用重写引擎来操作URL并保护你的Web资源。'
- en: '[Chapter 5](ch05.html "Chapter 5. Managing Inbound and Outbound Traffic"),
    *Managing Inbound and Outbound Traffic*, describes how to apply various restrictions
    to inbound traffic, and how to use and manage upstream.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[第5章](ch05.html "第5章 管理进出流量")，*管理进出流量*，描述了如何对进站流量施加各种限制，以及如何使用和管理上游服务器。'
- en: '[Chapter 6](ch06.html "Chapter 6. Performance Tuning"), *Performance Tuning*,
    explains how to squeeze the most out of your Nginx server.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[第6章](ch06.html "第6章 性能调优")，*性能调优*，解释了如何从你的Nginx服务器中榨取最大性能。'
- en: What you need for this book
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 你需要为本书做的准备
- en: A good knowledge of Unix-like operating systems is required, presumably Linux,
    along with some web master experience.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 需要对类Unix操作系统有良好的理解，假设是Linux系统，并具备一定的网页管理员经验。
- en: Who this book is for
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书适合谁阅读
- en: This book intends to enrich web masters' and site reliability engineers' knowledge
    of subtleties known to those who have a deep understanding of the Nginx core.
    At the same time, this book is a *from the start* guide that allows beginners
    to easily switch to Nginx under experienced guidance.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 本书旨在丰富网站管理员和站点可靠性工程师对Nginx核心深层次知识的了解。同时，本书也是一本*从零开始*的指南，允许初学者在经验丰富的指导下轻松切换到Nginx。
- en: Conventions
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 约定
- en: In this book, you will find a number of text styles that distinguish between
    different kinds of information. Here are some examples of these styles and an
    explanation of their meaning.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 本书中，你将看到多种文本样式，这些样式用于区分不同类型的信息。以下是这些样式的示例及其含义的解释。
- en: 'Code words in text, folder names, filenames, file extensions, pathnames, dummy
    URLs, and user input, are shown as follows: "We can include other contexts through
    the use of the `include` directive."'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 文本中的代码词汇、文件夹名称、文件名、文件扩展名、路径名、虚拟网址和用户输入，都会按如下方式显示：“我们可以通过使用`include`指令来包含其他上下文。”
- en: 'A block of code is set as follows:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块的显示方式如下：
- en: '[PRE0]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'When we wish to draw your attention to a particular part of a code block, the
    relevant lines or items are set in bold:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 当我们希望将你的注意力引向代码块的特定部分时，相关的行或项会以粗体显示：
- en: '[PRE1]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-25
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出如下所示：
- en: '[PRE2]'
  id: totrans-26
  prefs: []
  type: TYPE_PRE
  zh: '[PRE2]'
- en: '**New terms** and **important words** are shown in bold. Words that you see
    on the screen, for example, in menus or dialog boxes, appear in the text like
    this: "Clicking the **Next** button moves you to the next screen."'
  id: totrans-27
  prefs: []
  type: TYPE_NORMAL
  zh: '**新术语**和**重要词汇**以粗体显示。你在屏幕上看到的词语，例如菜单或对话框中的词语，会以如下方式显示在文本中：“点击**下一步**按钮将带你进入下一个屏幕。”'
- en: Note
  id: totrans-28
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Warnings or important notes appear in a box like this.
  id: totrans-29
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要说明以类似这样的框显示。
- en: Tip
  id: totrans-30
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 提示
- en: Tips and tricks appear like this.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士和技巧以这种方式呈现。
- en: Elisions of sections of configuration files are shown as […] or with a comment
    [… this part of the configuration file is up to you ...]
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 配置文件部分的省略以[…]显示，或者用注释标注为[…这部分配置文件由你来决定...]
- en: Reader feedback
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 读者反馈
- en: Feedback from our readers is always welcome. Let us know what you think about
    this book—what you liked or disliked. Reader feedback is important for us as it
    helps us develop titles that you will really get the most out of.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。让我们知道你对这本书的看法——你喜欢或不喜欢什么。读者反馈对我们来说非常重要，因为它帮助我们开发出你真正能从中受益的书籍。
- en: To send us general feedback, simply e-mail `<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`,
    and mention the book's title in the subject of your message.
  id: totrans-35
  prefs: []
  type: TYPE_NORMAL
  zh: 若要向我们发送一般反馈意见，只需通过电子邮件发送至`<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`，并在邮件主题中提到本书的标题。
- en: If there is a topic that you have expertise in and you are interested in either
    writing or contributing to a book, see our author guide at [www.packtpub.com/authors](http://www.packtpub.com/authors).
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在某个领域拥有专长，并且有兴趣撰写或参与书籍的编写，请访问我们的作者指南：[www.packtpub.com/authors](http://www.packtpub.com/authors)。
- en: Customer support
  id: totrans-37
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 客户支持
- en: Now that you are the proud owner of a Packt book, we have a number of things
    to help you to get the most from your purchase.
  id: totrans-38
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经成为一本Packt书籍的骄傲拥有者，我们有很多方法帮助你充分利用你的购买。
- en: Errata
  id: totrans-39
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 勘误
- en: Although we have taken every care to ensure the accuracy of our content, mistakes
    do happen. If you find a mistake in one of our books—maybe a mistake in the text
    or the code—we would be grateful if you could report this to us. By doing so,
    you can save other readers from frustration and help us improve subsequent versions
    of this book. If you find any errata, please report them by visiting [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    selecting your book, clicking on the **Errata Submission Form** link, and entering
    the details of your errata. Once your errata are verified, your submission will
    be accepted and the errata will be uploaded to our website or added to any list
    of existing errata under the Errata section of that title.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们已经尽力确保内容的准确性，但错误仍然可能发生。如果您在我们的书籍中发现任何错误——无论是文字错误还是代码错误——我们将非常感谢您能报告给我们。通过这样做，您可以帮助其他读者避免沮丧，同时帮助我们改进后续版本的内容。如果您发现任何勘误，请通过访问
    [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)
    提交，选择您的书籍，点击 **Errata Submission Form** 链接并输入勘误的详细信息。您的勘误一旦验证通过，我们将接受并将其上传到我们的网站或添加到该书籍的勘误列表中。
- en: To view the previously submitted errata, go to [https://www.packtpub.com/books/content/support](https://www.packtpub.com/books/content/support)
    and enter the name of the book in the search field. The required information will
    appear under the **Errata** section.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 要查看之前提交的勘误，请访问 [https://www.packtpub.com/books/content/support](https://www.packtpub.com/books/content/support)，并在搜索框中输入书名。所需的信息将显示在
    **Errata** 部分。
- en: Piracy
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 盗版
- en: Piracy of copyrighted material on the Internet is an ongoing problem across
    all media. At Packt, we take the protection of our copyright and licenses very
    seriously. If you come across any illegal copies of our works in any form on the
    Internet, please provide us with the location address or website name immediately
    so that we can pursue a remedy.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 网络上盗版受版权保护的材料是一个持续存在的问题，涵盖了所有媒体。在 Packt，我们非常重视保护我们的版权和许可。如果您在网络上发现任何形式的非法复制作品，请立即提供相关的网址或网站名称，以便我们采取措施。
- en: Please contact us at `<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`
    with a link to the suspected pirated material.
  id: totrans-44
  prefs: []
  type: TYPE_NORMAL
  zh: 请通过`<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`与我们联系，并提供涉嫌盗版材料的链接。
- en: We appreciate your help in protecting our authors and our ability to bring you
    valuable content.
  id: totrans-45
  prefs: []
  type: TYPE_NORMAL
  zh: 我们感谢您在保护我们的作者以及我们为您提供有价值内容方面的帮助。
- en: eBooks, discount offers, and more
  id: totrans-46
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 电子书、折扣优惠及更多
- en: Did you know that Packt offers eBook versions of every book published, with
    PDF and ePub files available? You can upgrade to the eBook version at [www.PacktPub.com](http://www.PacktPub.com)
    and as a print book customer, you are entitled to a discount on the eBook copy.
    Get in touch with us at `<[customercare@packtpub.com](mailto:customercare@packtpub.com)>`
    for more details.
  id: totrans-47
  prefs: []
  type: TYPE_NORMAL
  zh: 您知道 Packt 提供了每本出版书籍的电子书版本吗？PDF 和 ePub 文件均可获取。您可以在 [www.PacktPub.com](http://www.PacktPub.com)
    升级到电子书版本，作为纸质书籍的客户，您有资格享受电子书的折扣。详情请通过`<[customercare@packtpub.com](mailto:customercare@packtpub.com)>`与我们联系。
- en: At [www.PacktPub.com](http://www.PacktPub.com), you can also read a collection
    of free technical articles, sign up for a range of free newsletters, and receive
    exclusive discounts and offers on Packt books and eBooks.
  id: totrans-48
  prefs: []
  type: TYPE_NORMAL
  zh: 在 [www.PacktPub.com](http://www.PacktPub.com) 上，您还可以阅读一系列免费的技术文章，订阅各种免费的电子通讯，并且在
    Packt 的图书和电子书上获得独家折扣和优惠。
- en: Questions
  id: totrans-49
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 问题
- en: If you have a problem with any aspect of this book, you can contact us at `<[questions@packtpub.com](mailto:questions@packtpub.com)>`,
    and we will do our best to address the problem.
  id: totrans-50
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您对本书的任何部分有疑问，您可以通过`<[questions@packtpub.com](mailto:questions@packtpub.com)>`与我们联系，我们将尽力解决问题。
