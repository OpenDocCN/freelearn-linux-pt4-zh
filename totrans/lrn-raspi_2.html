<html><head></head><body><div class="chapter" title="Chapter&#xA0;2.&#xA0;Getting Started with Raspbian"><div class="titlepage"><div><div><h1 class="title"><a id="ch02"/>Chapter 2. Getting Started with Raspbian</h1></div></div></div><p>Now that you know a bit more about Raspbian, it is time to get started. The first thing that you need to do is plug in your Raspberry Pi and then install Raspbian onto an SD card. This process is different from installing software onto your Windows PC or Mac.</p><p>In this chapter, we will cover the following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">SD card specifications</li><li class="listitem" style="list-style-type: disc">Downloading Raspbian</li><li class="listitem" style="list-style-type: disc">Imaging Raspbian onto your SD card</li></ul></div><div class="section" title="SD card specifications"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec14"/>SD card specifications</h1></div></div></div><p>It is recommended that<a class="indexterm" id="id47"/> your SD card has the following specifications:</p><div class="informaltable"><table border="1"><colgroup><col style="text-align: left"/><col style="text-align: left"/></colgroup><thead><tr><th style="text-align: left" valign="bottom">
<p>Capacity</p>
</th><th style="text-align: left" valign="bottom">
<p>At least 8 GB</p>
</th></tr></thead><tbody><tr><td style="text-align: left" valign="top">
<p>Class</p>
</td><td style="text-align: left" valign="top">
<p>Class 4 is minimum but class 10 is recommended</p>
</td></tr></tbody></table></div><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note04"/>Note</h3><p>Make sure that you get the correct SD card. Raspberry Pi A and Raspberry Pi B both use a full-sized SD card. Raspberry Pi B+ uses a mini SD card.</p></div></div><p>It is highly recommended that you don't run your Raspberry Pi without an SD card. This is because all the hardware on your Raspberry Pi will not be set up correctly. This might lead to the damage of your Raspberry Pi hardware.</p></div></div>
<div class="section" title="Downloading Raspbian"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec15"/>Downloading Raspbian</h1></div></div></div><p>Now that you have<a class="indexterm" id="id48"/> got all the hardware, you need to get your Raspberry Pi up and running. It is time to get the Raspbian image. You can download the Raspbian image from several places. The easiest place from which you can download this is directly from the<a class="indexterm" id="id49"/> Raspberry Pi Foundation website at <a class="ulink" href="http://www.raspberrypi.org/downloads/">http://www.raspberrypi.org/downloads/</a>.</p><div class="mediaobject"><img alt="Downloading Raspbian" src="graphics/2192OS_02_01.jpg"/><div class="caption"><p>The official Raspbian download page</p></div></div><p>On this page, you will see links to all the official operating systems supported by the Foundation. We are interested in the Raspbian image. If you are able to download the image from a BitTorrent client, you can help the Foundation save some bandwidth. If you can't do this, simply download the zip file.</p><p>At the time of <a class="indexterm" id="id50"/>writing this book, the latest version of Raspbian is based on Debian Wheezy, which was released in January 2015. The download itself is just over 800 MB. When you have downloaded the file, you need to extract the image from the zip file. How you do this depends on the operating system that you are running.</p><p>You are now ready to image Raspbian onto your SD card.</p></div>
<div class="section" title="Imaging Raspbian onto your SD card"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec16"/>Imaging Raspbian onto your SD card</h1></div></div></div><p>The file that you have just<a class="indexterm" id="id51"/> downloaded is an exact replica of the all the contents of an SD card. For this reason, you can't simply copy the file onto the SD<a class="indexterm" id="id52"/> card and be up and running. To copy Raspbian onto your SD card, you need to write the image directly to your SD card. The process to do this varies depending on your operating system.</p><div class="section" title="Writing the image using Windows"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec19"/>Writing the image using Windows</h2></div></div></div><p>To write the Raspbian image to an SD card using Windows, you need a software program that is capable of performing<a class="indexterm" id="id53"/> the task. There are several programs available, but we will be using a program called Win32 Disk Imager. Win32 Disk Imager is an <a class="indexterm" id="id54"/>open source tool designed to write image files to a removable storage device such as an SD card or USB drive. You can get <a class="indexterm" id="id55"/>Win32 Disk Imager from <a class="ulink" href="http://sourceforge.net/projects/win32diskimager/">http://sourceforge.net/projects/win32diskimager/</a>. Its icon will look like the following: </p><div class="mediaobject"><img alt="Writing the image using Windows" src="graphics/2192OS_02_14.jpg"/></div><p>The steps to be performed for writing the image using Windows are as follows:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">The first step is to insert the SD card into your computer.</li><li class="listitem">You then need to download and install Win32 Disk Imager.</li><li class="listitem">Once you have done this, you need to run the file that you have just downloaded and install Win32 Disk Imager.</li><li class="listitem">You need to run Win32 Disk Imager as an administrator. To do this, right-click on the <span class="strong"><strong>Win32DiskImager</strong></span> shortcut and click on <span class="strong"><strong>Run as Administrator</strong></span>.</li><li class="listitem">Once you have launched Win32 Disk Imager, you should see the following screen:<div class="mediaobject"><img alt="Writing the image using Windows" src="graphics/2192OS_02_02.jpg"/></div></li><li class="listitem">You now need to click on the folder button and browse to the Raspbian image that you downloaded previously. At the time of writing this book, the image file is<a class="indexterm" id="id56"/> called <code class="literal">2015-01-31-wheezy-raspbian.img</code>. The file might be compressed inside a zip file. If this is the case, you will <a class="indexterm" id="id57"/>need to extract the <code class="literal">.img</code> file first.</li><li class="listitem">The next step is to make sure that you select the correct drive your SD card, in the <span class="strong"><strong>Device</strong></span> drop-down list.<div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note05"/>Note</h3><p>It is really important to double-check that you have selected the correct device, as you will be destroying all the files on the drive. You can make sure that you are selecting the correct disk by going into Windows explorer and making a note of the drive that matches the size and label of the SD card you have just inserted.</p><p>It is a good idea to remove any other removable storage devices when you do this, as this will ensure that they are not selected by mistake.</p></div></div></li><li class="listitem">When you are satisfied that you have selected the correct device, click on <span class="strong"><strong>Write</strong></span>. The write process will take a few minutes depending on the machine, and it might be a good idea to grab a cup of coffee! When this is done, you are ready to get started with your Raspberry Pi.</li></ol></div><div class="mediaobject"><img alt="Writing the image using Windows" src="graphics/2192OS_02_15.jpg"/></div></div><div class="section" title="Writing the image using Mac"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec20"/>Writing the image using Mac</h2></div></div></div><p>You are able to write<a class="indexterm" id="id58"/> the image file that you downloaded from the Raspberry Pi Foundation using Mac OS X. You don't even need to install any additional software onto <a class="indexterm" id="id59"/>your Mac to do this.</p><p>These instructions are for OS X 10.10 (Yosemite), but they will also work on previous versions of OS X.</p><p>The steps to be performed for writing the image using Mac are as follows:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">First, you need to insert your SD card into your Mac and ensure that all other removable storage devices are unplugged so that they don't get erased by mistake.</li><li class="listitem">Now that the SD card is inserted, we need to find out what internal device name has the operating system given to the SD card. The device name will be in the form <code class="literal">/dev/diskX</code>. We do this by clicking on the Apple symbol in the top-left corner and selecting <span class="strong"><strong>About this Mac</strong></span>, as shown here:<div class="mediaobject"><img alt="Writing the image using Mac" src="graphics/2192OS_02_03.jpg"/></div></li><li class="listitem">Now, you need to<a class="indexterm" id="id60"/> select <span class="strong"><strong>System Report…</strong></span> as <a class="indexterm" id="id61"/>shown in the following screenshot:<div class="mediaobject"><img alt="Writing the image using Mac" src="graphics/2192OS_02_04.jpg"/></div></li><li class="listitem">You will then see the system report on your screen. If your Mac has an internal SD card reader, you need to select <span class="strong"><strong>Card Reader</strong></span> on the left-hand side of the screen.</li><li class="listitem">If you are using a USB-to-SD card reader, you need to select <span class="strong"><strong>USB</strong></span> and then find your SD card reader in the list.</li><li class="listitem">After you have<a class="indexterm" id="id62"/> selected the SD card, look at the bottom of the page for <span class="strong"><strong>BSD Name</strong></span>. It will be something similar to disk2 (in this case,<span class="strong"><strong> disk2s1</strong></span>). This name is the internal name that the OS X kernel gives<a class="indexterm" id="id63"/> the SD card.</li></ol></div><p>If there are other partitions in the card, they will be listed as diskXs1, diskXs2, and so on. We only need the diskX part.</p><div class="mediaobject"><img alt="Writing the image using Mac" src="graphics/2192OS_02_05.jpg"/></div><p>Now that we have the BSD name of the SD card, we need to make sure that none of the partitions on the SD card are mounted, but we don't want to eject the card either. By using Disk Utility, we can do this as follows:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">First, we need to open up Disk Utility. You can find Disk Utility by navigating to <span class="strong"><strong>Applications</strong></span> | <span class="strong"><strong>Utilities</strong></span>.<div class="mediaobject"><img alt="Writing the image using Mac" src="graphics/2192OS_02_06.jpg"/></div></li><li class="listitem">Once you have opened up Disk Utility, you will find your SD card on the left-hand side in the list of devices. You need to right-click on every partition in the<a class="indexterm" id="id64"/> list and select <span class="strong"><strong>Unmount</strong></span>. This will stop the operating system from using the<a class="indexterm" id="id65"/> partition. If you don't do this, you will get a <span class="strong"><strong>Device in use</strong></span> message when you actually write the image to the SD card.</li><li class="listitem">Now, you are finally ready to write the Raspbian image to your SD card. To do this, fire up Terminal. You will find it in the <span class="strong"><strong>Utilities</strong></span> tab under <span class="strong"><strong>Applications</strong></span>.<div class="mediaobject"><img alt="Writing the image using Mac" src="graphics/2192OS_02_07.jpg"/></div></li></ol></div><p>As OS X is based on the BSD operating system, we have access to all of its utilities. We are going to use a utility called <a class="indexterm" id="id66"/>
<span class="strong"><strong>Disk</strong></span> <span class="strong"><strong>Dump</strong></span> (<span class="strong"><strong>dd</strong></span>) to actually write the image file to our SD card. The <code class="literal">dd</code> utility is designed to read and write raw data from devices and can be used for anything from <a class="indexterm" id="id67"/>copying hard drives to writing images to SD cards.</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Once you have opened Terminal, you need to change to the directory that contains the image file. In this case, it is the <span class="strong"><strong>Desktop</strong></span> folder, <code class="literal">cd</code> <code class="literal">Desktop</code>.</li><li class="listitem">We then run the actual command to write the image to the SD card, substituting <code class="literal">2015-01-31-wheezy-raspbian.img</code> with the name of your Raspbian<a class="indexterm" id="id68"/> image file, and diskX with the BSD name that you found in the previous steps:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo dd bs=1m if=2015-01-31-wheezy-raspbian.img of=/dev/diskX</strong></span>
</pre></div><p>This command runs the <code class="literal">dd</code> command as a super user. The <code class="literal">dd</code> command reads the image file <code class="literal">2015-10-31-wheezy-raspbian.img</code> and writes it to the SD card. It writes the data in chunks of one megabyte.</p></li><li class="listitem">You will be asked for your administrator's password when you run this command. This command will take anywhere up to half an hour to write the image to your SD card, depending on its speed.</li></ol></div><p>When this is done, insert the card into your Raspberry Pi and you are ready to go.</p></div><div class="section" title="Writing the image using Linux"><div class="titlepage"><div><div><h2 class="title"><a id="ch02lvl2sec21"/>Writing the image using Linux</h2></div></div></div><p>The process of writing the <a class="indexterm" id="id69"/>Raspbian image that you have just downloaded using Linux is <a class="indexterm" id="id70"/>straightforward. As mentioned, there are many different distributions of Linux. The steps that follow are tested on Ubuntu, a distribution of Linux that, like Raspbian, is based on Debian. As mentioned previously, make sure that all your removable storage devices are unplugged so that they are not accidently erased.</p><p>The first thing that we need to do is launch a terminal. A terminal is available in all the different Linux <a class="indexterm" id="id71"/>environments. In the case of Ubuntu, it is called <span class="strong"><strong>Terminal</strong></span>. The following screenshot shows you how to find the terminal application in the latest <a class="indexterm" id="id72"/>version of Ubuntu:</p><div class="mediaobject"><img alt="Writing the image using Linux" src="graphics/2192OS_02_08.jpg"/></div><p>Now that you have launched the terminal, you need to gain root permissions as follows:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">The easiest way to do this is to run the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo –i</strong></span>
</pre></div></li><li class="listitem"><code class="literal">sudo</code> gives administration permissions to any program that you run in the terminal. This is necessary as writing the image to your SD card is an operation that can affect all the users. <code class="literal">sudo</code> is discussed further later in this book. You will see a terminal similar to what is shown in the following screenshot:<div class="mediaobject"><img alt="Writing the image using Linux" src="graphics/2192OS_02_09.jpg"/></div></li><li class="listitem">Now you are ready to find out the device name of your SD card. To do this, run the <code class="literal">df</code> command. The <a class="indexterm" id="id73"/><code class="literal">df</code> command allows you to find out how much storage is<a class="indexterm" id="id74"/> available for each storage device that is attached to <a class="indexterm" id="id75"/>your computer. We need to run the following command:<div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>df –h</strong></span>
</pre></div></li><li class="listitem">The following screenshot shows the output:<div class="mediaobject"><img alt="Writing the image using Linux" src="graphics/2192OS_02_10.jpg"/></div></li></ol></div><p>The results obtained by running the <code class="literal">df</code> <code class="literal">-h</code> command are shown in the preceding screenshot. We can see that in this case, the SD card we are using is <code class="literal">/dev/sdb1</code>. If your machine has a built-in SD card reader, this can be called <code class="literal">/dev/mmcblk0p1</code>. Regardless of the device name, we only need the first part of the name. In the preceding example, we will use <code class="literal">/dev/sdb</code>, or in the case of <code class="literal">/dev/mmcblk0p1</code>, we will use <code class="literal">/dev/mmcblk0</code>. An easy way to double-check whether you have chosen the correct device is to check the size.</p><p>Now that you have got the name of your device, you need to unmount the SD card. To do this, we will use the<a class="indexterm" id="id76"/> <code class="literal">unmount</code> command. We do this by running the following command in your terminal for the device name that we just found:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>umount /dev/sdb1</strong></span>
</pre></div><p>Now we are finally ready to write the image to our SD card. To do this, we need to change into the directory in which you have downloaded the Raspbian image. We then run the <code class="literal">dd</code> application. As mentioned in the previous section, the <code class="literal">dd</code> utility is designed to read and write raw data from devices and can be used for anything from copying hard drives to writing images to SD cards. The following command runs the <code class="literal">dd</code> command as a super user:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>cd Desktop</strong></span>
<span class="strong"><strong>dd bs=1m if=2014-06-20-wheezy-raspbian.img of=/dev/sdb1</strong></span>
</pre></div><p>The <code class="literal">dd</code> command reads the image file <code class="literal">2015-01-31-wheezy-raspbian.img</code> and writes it to the SD card. It writes<a class="indexterm" id="id77"/> the data in chunks of one megabyte.</p><p>This command can take anywhere<a class="indexterm" id="id78"/> from a few minutes up to half an hour, depending on the size of your SD card. When this is done, insert the SD card into your Raspberry Pi and you are ready to go.</p></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch02lvl1sec17"/>Summary</h1></div></div></div><p>In this chapter, you learned where to download the Raspbian image from. You also stepped through how to write the Raspbian image to your SD card using several different operating systems. The next chapter will show you how to set up your Raspberry Pi and configure Raspbian.</p></div></body></html>