<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Installation and Setup"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Installation and Setup</h1></div></div></div><p>In this chapter, we will cover the following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Preparing for the initial boot</li><li class="listitem" style="list-style-type: disc">Downloading new SD cards</li><li class="listitem" style="list-style-type: disc">Booting with NOOBS</li><li class="listitem" style="list-style-type: disc">Mac OS X disk utilities – diskutil and dd</li><li class="listitem" style="list-style-type: disc">Image Writer for Windows – Win32DiskImager.exe</li><li class="listitem" style="list-style-type: disc">Convert and copy for Linux – dd</li><li class="listitem" style="list-style-type: disc">Booting Raspbian Linux for the first time</li><li class="listitem" style="list-style-type: disc">Shutting down the Raspberry Pi</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Introduction</h1></div></div></div><p>This chapter introduces the Raspberry Pi. It begins by listing the components that you will need, such as a power supply, in addition to the Raspberry Pi.</p><p>The core recipes of this chapter describe how to download, install, and configure a number of common Raspberry Pi operating systems.</p><p>The last two recipes describe the initial boot of the official Raspbian Linux distribution and how to safely power off the Raspberry Pi.</p><p>Once you've completed this chapter, you will have downloaded, installed, and configured an operating system for your Raspberry Pi and booted your Raspberry Pi for the first time.</p></div></div>
<div class="section" title="Preparing for the initial boot"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Preparing for the initial boot</h1></div></div></div><p>This recipe explains which<a class="indexterm" id="id0"/> components are needed for the initial boot, in addition to the Raspberry Pi, before it can be powered on for the first time.</p><p>The Raspberry Pi Foundation has released a number of versions of the Raspberry Pi since it was first released in June 2012, which include Raspberry Pi B (April 2012), Raspberry Pi A (February 2013), Raspberry Pi Compute Module (April 2014), Raspberry Pi Model B+ (July 2014), and the Raspberry Pi 2 Model B (February 2015).</p><p>The original Raspberry Pi Model B has a memory of only 512 MB, a single-core processor, and two USB ports. The current model, the Raspberry Pi 2 Model B, has a memory of 1 GB, a quad-core processor, and four USB ports.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note02"/>Note</h3><p>The examples in this book feature the Raspberry Pi 2 Model B.</p></div></div><p>The Raspberry Pi is shipped without a case and power supply. There is no keyboard or monitor. Depending on how you intend to use the Raspberry Pi, you will need additional components. For the majority of the recipes in this book, you will only need a power supply, an SD card, and a network cable.</p><p>You may wish to attach additional peripherals, depending on how you intend to use the Raspberry Pi. An HDMI cable, a USB keyboard, and a USB mouse are needed if you'd like to use the Raspberry Pi as you would use a desktop computer. This recipe lists a number of different Raspberry Pi projects and the peripherals needed to complete them.</p><p>After completing this recipe, you will be ready for the initial boot of your Raspberry Pi.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec12"/>Getting ready</h2></div></div></div><p>To get started with this recipe, there are a few prerequisites that you must be familiar with.</p><div class="section" title="The basic components"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec01"/>The basic components</h3></div></div></div><p>These are some of the basic components:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The Raspberry Pi</li><li class="listitem" style="list-style-type: disc">An SD card</li><li class="listitem" style="list-style-type: disc">A 5V Micro USB Power Supply</li></ul></div><p>The Raspberry Pi draws its power from a 5V micro USB power supply and needs an SD card for its operating system. While no further components are required to boot the Raspberry Pi, many of the networking solutions in this book will require additional components.</p><p>A single 4 GB SD Class 10 card has more than enough room and speed to host the base operating system as well as many useful applications. Because the SD card is where the Raspberry Pi stores its operating system, the speed of the operating system is dependent on the speed of the SD card. Class 10 cards will have better performance than Class 4 or Class 6 cards. The Embedded Linux Wiki<a class="indexterm" id="id1"/> maintains an SD Card compatibility table, which can be viewed by visiting <a class="ulink" href="http://elinux.org/RPi_SD_cards">http://elinux.org/RPi_SD_cards</a>.</p><p>In addition to an SD Card, the Raspberry Pi will need additional components for many applications. For most of the recipes in this book, you will need only a network connection. For some, you may also need a display as well as a keyboard and mouse.</p><p>The following are a few examples of networking applications and the components that they will need.</p></div><div class="section" title="Basic networking"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec02"/>Basic networking</h3></div></div></div><p>By <a class="indexterm" id="id2"/>basic networking, we mean having a network connection. For the simplest networking solutions, the only additional component that the Raspberry Pi needs is a network connection—either a direct TCP cable connection, or a wireless network USB dongle. Once the network is configured and remote logins to the Raspberry Pi are possible, the Raspberry Pi can be remotely accessed, updated, and administered.</p></div><div class="section" title="Media centers"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec03"/>Media centers</h3></div></div></div><p>As part of <a class="indexterm" id="id3"/>media centers, we will require an HDMI television or monitor.</p><p>For the simplest network media solutions, in addition to the basic networking components, the only additional component that the Raspberry Pi needs is an HDMI connection. Both audio and video can be streamed through the Raspberry Pi's HDMI connection. Furthermore, there is enough room on an SD card to store a small collection of music and video files in addition to the operating system.</p></div><div class="section" title="Desktop computers"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec04"/>Desktop computers</h3></div></div></div><p>If you are using <a class="indexterm" id="id4"/>desktop computers, these will be required:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">An HMDI television or monitor</li><li class="listitem" style="list-style-type: disc">A USB keyboard</li><li class="listitem" style="list-style-type: disc">A USB mouse</li></ul></div><p>The Raspberry Pi 2 has four USB ports, with enough power to support low-power devices, such as a USB keyboard or a USB mouse. With its quad-core processor, it is powerful enough to browse the Web, send e-mails, and edit documents or images. Because it runs the Linux operating system, the Raspberry Pi can also run hundreds of educational, scientific, and business programs. In short, the Raspberry Pi can run many useful open source desktop applications.</p></div><div class="section" title="Network hubs"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec05"/>Network hubs</h3></div></div></div><p>For<a class="indexterm" id="id5"/> network hubs, we will require these:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A powered USB hub</li><li class="listitem" style="list-style-type: disc">A USB LAN adapter</li><li class="listitem" style="list-style-type: disc">A USB WLAN adapter (a Wi-Fi dongle)</li><li class="listitem" style="list-style-type: disc">A USB hard drive</li><li class="listitem" style="list-style-type: disc">A USB printer</li></ul></div><p>When using the Raspberry Pi as a firewall or wireless access point, an additional LAN or WLAN network adapter is required. If the network adapter is powered from the USB connection, an additional powered USB connector will be required for the adapter to operate reliably.</p></div><div class="section" title="Game consoles"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec06"/>Game consoles</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A powered USB hub</li><li class="listitem" style="list-style-type: disc">USB game controllers</li></ul></div><p>The Raspberry Pi is an <a class="indexterm" id="id6"/>excellent gaming platform if you wish to create games, or play single-player console games or multi-player network games. Many of the older text-based games can be played on the Raspberry Pi with just a keyboard or via a remote login. However, USB game controllers can also be connected to the Raspberry Pi to further enrich the gameplay of multimedia action games.</p></div><div class="section" title="The initial setup"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec07"/>The initial setup</h3></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The Raspberry Pi</li><li class="listitem" style="list-style-type: disc">An SD card</li><li class="listitem" style="list-style-type: disc">A 5V Micro USB power supply</li><li class="listitem" style="list-style-type: disc">A network connection</li><li class="listitem" style="list-style-type: disc">An HDMI TV or monitor</li><li class="listitem" style="list-style-type: disc">A USB keyboard</li><li class="listitem" style="list-style-type: disc">A USB mouse</li></ul></div><p>A power supply, preformatted SD card, monitor, keyboard, and mouse are the bare minimum components that are needed for an initial setup. When connected with an HDMI to a television, the television will output audio as well as video.</p></div></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec13"/>How to do it...</h2></div></div></div><p>Perform the following steps to boot the<a class="indexterm" id="id7"/> Raspberry Pi:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Download the latest disk image.</li><li class="listitem">Write the disk image to an SD card.</li><li class="listitem">Insert the formatted SD card into the Raspberry Pi.</li><li class="listitem">Attach a display to the HDMI connector.</li><li class="listitem">Attach a USB board and a USB mouse to the USB ports.</li><li class="listitem">Attach a 5V micro USB power supply to the Raspberry Pi, and it boots.</li><li class="listitem">Finally, shut down the Raspberry Pi.</li></ol></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec14"/>How it works…</h2></div></div></div><p>Before you can boot the Raspberry Pi, you'll need an SD card with a bootable disk image on it. The official Raspbian Linux image<a class="indexterm" id="id8"/> for the Raspberry Pi can be downloaded from <a class="ulink" href="http://www.raspberrypi.org/downloads">http://www.raspberrypi.org/downloads</a>.</p><p>Once the disk image has been downloaded, it needs to be written to an SD card (refer to the <span class="emphasis"><em>Setting up new SD cards</em></span> recipe).</p><p>After the SD card has been prepared and inserted into the Raspberry Pi, the display, keyboard, and mouse can be connected to the Raspberry Pi. Then it is ready to be booted (refer to the Booting Raspbian Linux recipe).</p><p>Connect the power supply in the end! There is no on-off switch for the Raspberry Pi. When the power supply is connected, the Raspberry Pi immediately boots. Therefore, it is important to have all the cables connected and the SD card inserted before connecting the power supply.</p><p>When it is time to turn off the Raspberry Pi, the operating system must first be shut down, which is the opposite of booting (refer to the <span class="emphasis"><em>Shutting down the Raspberry Pi</em></span> recipe).</p></div><div class="section" title="There's more…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec15"/>There's more…</h2></div></div></div><p>The Raspberry Pi 2 is a low-cost single-board computer (it costs only $35). It is sold bare bones and requires a power supply, a preformatted SD card to hold its operating system, a keyboard, and a display before it can do anything useful. However, it does have a number of standard I/O interfaces and on-board components that will enable it to connect to a large variety of devices.</p><div class="section" title="Interfaces"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec08"/>Interfaces</h3></div></div></div><p>The standard connectors<a class="indexterm" id="id9"/> and interfaces<a class="indexterm" id="id10"/> for the Raspberry Pi are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Power</strong></span> (5V at 800 mA (4.0 W)): The Raspberry Pi has a Micro USB power connector that <a class="indexterm" id="id11"/>should be connected directly to a power supply that is neither the USB port on a computer, nor a USB hub.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>SD card</strong></span>: The <a class="indexterm" id="id12"/>Raspberry Pi is designed to be booted from a preformatted SD card (4 GB or greater is recommended; Class 10 SD cards deliver the best performance).</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>GPIO</strong></span>: This is <a class="indexterm" id="id13"/>used in analog and digital I/O connection for expansion and experimentation.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Audio output</strong></span> (3.5 mm jack—stereo): The Raspberry Pi does not have an audio input <a class="indexterm" id="id14"/>connector. However, a USB microphone or sound card can be added. Audio output includes the I2S protocol to connect to digital audio devices.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>LEDs</strong></span>: These are <a class="indexterm" id="id15"/>disk, power, and network traffic indicators. When these LEDs are flashing, the Raspberry Pi is actively processing. After shutting down, wait until the LEDs stop flashing before unplugging the Raspberry Pi.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>USB 2.0</strong></span> (four ports): There is limited power available on these ports. The devices connected<a class="indexterm" id="id16"/> to the Raspberry Pi via USB should either have their own power supply, or should be connected via a powered USB hub.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Network</strong></span> (10/100 wired Ethernet RJ45): Be aware that the onboard networking <a class="indexterm" id="id17"/>competes for bandwidth with attached USB devices.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>HDMI</strong></span> (rev 1.3 and 1.4): This may be used for both video and audio output. Resolutions from<a class="indexterm" id="id18"/> 640x350 to 1920x1200, including the PAL and NTSC standards, are supported.</li></ul></div></div><div class="section" title="On-board components"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec09"/>On-board components</h3></div></div></div><p>The central on-board components<a class="indexterm" id="id19"/> for the Raspberry Pi are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>SoC</strong></span>: This stands for <a class="indexterm" id="id20"/>System on Chip. The one we require is Broadcom BCM2836 media processor. Here are its features:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>CPU</strong></span>: quad-core ARM Cortex-A7 at 900MHz</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>GPU</strong></span>: 24 GFLOPS of compute power</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Memory</strong></span>: 1GB SDRAM</li></ul></div></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>LAN9512</strong></span><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">10/100 MB <a class="indexterm" id="id21"/>Ethernet (Auto-MDIX)</li><li class="listitem" style="list-style-type: disc">4x USB 2.0</li></ul></div></li></ul></div></div><div class="section" title="Recommended accessories"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec10"/>Recommended accessories</h3></div></div></div><p>In addition to a power supply, the following <a class="indexterm" id="id22"/>accessories are recommended:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>A Case</strong></span>: This is a <a class="indexterm" id="id23"/>protective enclosure for the Raspberry Pi.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>A powered USB hub</strong></span>: This has its own power supply that is separate from that of the<a class="indexterm" id="id24"/> Raspberry Pi. This has enough power to support attached devices.</li></ul></div></div><div class="section" title="Power supply problems"><div class="titlepage"><div><div><h3 class="title"><a id="ch01lvl3sec11"/>Power supply problems</h3></div></div></div><p>It is difficult to say how much<a class="indexterm" id="id25"/> power is actually needed by the Raspberry <a class="indexterm" id="id26"/>Pi because the power needed varies depending on how busy the Raspberry Pi is and which peripherals are connected. However, problems related to an inadequate supply of power have been reported. These problems are reduced or eliminated when the power supply for the Raspberry Pi produces at least 800mA at 5V and the USB devices are connected indirectly through a powered USB Hub.</p><div class="section" title="Symptoms"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec01"/>Symptoms</h4></div></div></div><p>Here are some of the <a class="indexterm" id="id27"/>symptoms:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A rainbow square glows in the upper-right corner of the display</li><li class="listitem" style="list-style-type: disc">The network connection is unreliable</li><li class="listitem" style="list-style-type: disc">The keyboard does not work after the Desktop GUI is started</li><li class="listitem" style="list-style-type: disc">Intermittent SD card errors occur</li></ul></div></div><div class="section" title="Causes"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec02"/>Causes</h4></div></div></div><p>Here are the causes:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The power <a class="indexterm" id="id28"/>supply is rated less than 800mA</li><li class="listitem" style="list-style-type: disc">A complex keyboard or a keyboard with a built-in USB hub, such as Apple Macintosh keyboards</li><li class="listitem" style="list-style-type: disc">A USB hard disk or an extra large thumb drive is attached directly to the Raspberry Pi instead of indirectly through a powered USB hub</li></ul></div></div><div class="section" title="Solutions"><div class="titlepage"><div><div><h4 class="title"><a id="ch01lvl4sec03"/>Solutions</h4></div></div></div><p>Here are the<a class="indexterm" id="id29"/> solutions:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Use a regulated power supply of at least 700mA at 5V</li><li class="listitem" style="list-style-type: disc">Only connect simple USB devices directly to the Raspberry Pi</li><li class="listitem" style="list-style-type: disc">Connect USB devices to a powered USB hub and only connect the hub directly to the Raspberry Pi</li></ul></div></div></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec16"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Wikipedia—the Raspberry Pi</strong></span> (<a class="ulink" href="http://en.wikipedia.org/wiki/Raspberry_Pi">http://en.wikipedia.org/wiki/Raspberry_Pi</a>): This Wikipedia article about the <a class="indexterm" id="id30"/>Raspberry Pi includes a comparison of<a class="indexterm" id="id31"/> all the Raspberry Pi models, detailed information about each Raspberry Pi component, and an extended history of the Raspberry Pi.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>The </strong></span><a class="indexterm" id="id32"/><span class="strong"><strong>MagPi</strong></span> (<a class="ulink" href="http://www.raspberrypi.org/magpi">http://www.raspberrypi.org/magpi</a>): The MagPi is the official Raspberry Pi magazine. Monthly <a class="indexterm" id="id33"/>issues are available online.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>The </strong></span><a class="indexterm" id="id34"/><span class="strong"><strong>Raspberry Pi website</strong></span> (<a class="ulink" href="http://www.raspberrypi.org">http://www.raspberrypi.org</a>): The official Raspberry Pi website contains history, news, and documentation for the Raspberry Pi as well as a quick start guide, a forum, a wiki, and a download area.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>R-Pi Hub— eLinux.org</strong></span> (<a class="ulink" href="http://elinux.org/R-Pi_Hub">http://elinux.org/R-Pi_Hub</a>): The R-Pi Hub is an Embedded<a class="indexterm" id="id35"/> Linux community's wiki page for Raspberry Pi users. This <a class="indexterm" id="id36"/>wiki page has a buying guide, a beginner's guide, a list of verified peripherals, and a list of Raspberry Pi distributions that is larger than what's found on the official website. It has a wealth of well-organized, up-to-date information.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>The hardware history of the </strong></span><a class="indexterm" id="id37"/><span class="strong"><strong>Raspberry Pi</strong></span> (<a class="ulink" href="http://elinux.org/RPi_HardwareHistory">http://elinux.org/RPi_HardwareHistory</a>): The Embedded Linux community has chronicled the history of the Raspberry Pi, including detailed specs and images for each version.</li></ul></div></div></div>
<div class="section" title="Downloading new SD cards"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Downloading new SD cards</h1></div></div></div><p>The following recipes explain how to create bootable SD cards from downloaded disk images using <code class="literal">Win32DiskImager.exe</code>, <code class="literal">dd</code>, and <code class="literal">diskutil</code>.</p><p>The Raspberry Pi does not<a class="indexterm" id="id38"/> come with an operating system. Before the Raspberry Pi can boot, it needs an SD card with the operating system installed. Preinstalled SD cards are available for purchase. However, downloading and installing an operating system image is not difficult.</p><p>Once you've completed this recipe, you will know how to download a Raspberry Pi operating system. The following recipes will show you how to write it to an SD card.</p><div class="section" title="How to do it…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec17"/>How to do it…</h2></div></div></div><p>Perform the following <a class="indexterm" id="id39"/>steps to write an <a class="indexterm" id="id40"/>image to the SD card:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Download a Raspberry Pi image.</li><li class="listitem">Write the image to an SD card.</li></ol></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec18"/>How it works…</h2></div></div></div><p>The easiest way to get started with the Raspberry Pi is to download the <span class="strong"><strong>NOOBS</strong></span>
<a class="indexterm" id="id41"/> (<span class="strong"><strong>New Out Of Box Software</strong></span>) distribution from the Raspberry Pi Foundation website, which can be<a class="indexterm" id="id42"/> viewed by visiting <a class="ulink" href="http://www.raspberrypi.org/downloads">http://www.raspberrypi.org/downloads</a>. The files from this distribution can be copied directly to a formatted SD card. No additional disk utilities are required to create a bootable image (refer to the <span class="emphasis"><em>Booting with NOOBS</em></span> recipe).</p><p>Included with NOOBS is the Raspberry Pi Foundation's recommended operating system distribution, Raspbian Linux. On the downloads page, you will also find a link to the Raspbian Linux disk image. There are links to a number of other third-party operating systems too. For more images for the Raspberry Pi, visit the Embedded Linux community<a class="indexterm" id="id43"/>'s wiki page (<a class="ulink" href="http://elinux.org/RPi_Distributions">http://elinux.org/RPi_Distributions</a>).</p><p>Unlike NOOBS, once one of these individual operating system images is downloaded, you'll need to write it to an SD card using a special disk utility.</p><p>If you are using the <a class="indexterm" id="id44"/>Mac OS operating system, use <code class="literal">diskutil</code> and <code class="literal">dd</code> to <a class="indexterm" id="id45"/>write the operating system image to an SD card (refer to the Mac OS Disk Utilities recipe). If you are writing the SD card from a Windows computer, use <code class="literal">Win32DiskImager.exe</code> (refer to the <span class="emphasis"><em>Image Writer for Windows</em></span> recipe). If you are using the Linux operating system to write the image to the SD card, use the <code class="literal">dd</code> command-line utility (refer to the <span class="emphasis"><em>Convert and Copy for Linux</em></span> recipe).</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec19"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">The Raspberry Pi<a class="indexterm" id="id46"/> website—downloads (<a class="ulink" href="http://www.raspberrypi.org/downloads">http://www.raspberrypi.org/downloads</a>): The Raspberry Pi website's download <a class="indexterm" id="id47"/>page is where you can find links to the recommended versions of Raspberry Pi to optimize operating system distributions. Currently, the Raspberry Pi Foundation has links to the following operating system distributions:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">NOOBS and NOOBS Lite</li><li class="listitem" style="list-style-type: disc">Raspbian (Jessie and Wheezy)</li><li class="listitem" style="list-style-type: disc">Ubuntu Mate (a Linux desktop)</li><li class="listitem" style="list-style-type: disc">Snappy Ubuntu Core (a developer distribution)</li><li class="listitem" style="list-style-type: disc">Windows 10 IoT Core (a developer distribution)</li><li class="listitem" style="list-style-type: disc">Open Source Media Center (OSMC)</li><li class="listitem" style="list-style-type: disc">Open Embedded Linux Entertainment Center (OpenELEC)</li><li class="listitem" style="list-style-type: disc">PINET (a classroom distribution)</li><li class="listitem" style="list-style-type: disc">RISC OS (a non-Linux distribution)</li></ul></div><p>The Raspbian Linux distribution is recommended by the Raspberry Pi Foundation. It also is the operating system distribution that is used throughout this book.</p></li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>The Embedded Linux for the Raspberry Pi distributions </strong></span>(<a class="ulink" href="http://elinux.org/RPi_Distributions">http://elinux.org/RPi_Distributions</a>): The Embedded Linux community maintains an <a class="indexterm" id="id48"/>excellent wiki page on Raspberry Pi operating system distributions. The wiki page has a comparison table and links to downloadable image files. Many of these distributions are specialized for a specific use, such as penetration testing; use as a home theater, firewall, or an inexpensive desktop PC; or the development of software.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Windows 10IoT—Downloads</strong></span> (<a class="ulink" href="https://ms-iot.github.io/content/Downloads.htm">https://ms-iot.github.io/content/Downloads.htm</a>): Windows for IoT and the other tools that you <a class="indexterm" id="id49"/>will need to <a class="indexterm" id="id50"/>develop for Windows IoT devices such as the Raspberry Pi are available at this website.<p>As of this revision, the Window 10 IoT distribution does not have a user interface. It is labeled as <span class="strong"><strong>Windows 10 IoT Core Insider Preview</strong></span>. The tools needed to interact with the IoT Core are available from the downloads page of Windows 10 IoT.</p></li></ul></div></div></div>
<div class="section" title="Booting with NOOBS"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Booting with NOOBS</h1></div></div></div><p>This recipe explains how to use the<a class="indexterm" id="id51"/> Raspberry Pi Foundation's NOOBS to install a Raspberry Pi operating system.</p><p>NOOBS is not an operating system distribution. It is a tool that is used to install operating systems. By using NOOBS, you can select an operating system for your Raspberry Pi.</p><p>This is the easiest way to get started with the Raspberry Pi. No special disk utilities are required. Therefore, this recipe works from any computer that has an SD card writer.</p><p>Once you've completed this recipe, you will be able to use NOOBS to select an operating system for your Raspberry Pi.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec20"/>Getting ready</h2></div></div></div><p>Ingredients:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A computer with an SD card writer</li><li class="listitem" style="list-style-type: disc">An initial setup for the Raspberry Pi (refer to the <span class="emphasis"><em>Preparing for the initial boot</em></span> recipe)</li><li class="listitem" style="list-style-type: disc">A formatted SD card—4 GB or greater (class 10 has the best speed)</li><li class="listitem" style="list-style-type: disc">The NOOBS ZIP file</li></ul></div><p>The installation of NOOBS on an SD card is not operating system-specific.</p><p>Download the NOOBS ZIP file<a class="indexterm" id="id52"/> (<code class="literal">NOOBS_v1_4_2.zip</code>) from the Raspberry Pi website (<a class="ulink" href="https://www.raspberrypi.org/downloads/noobs/">https://www.raspberrypi.org/downloads/noobs/</a>).</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec21"/>How to do it...</h2></div></div></div><p>The following steps <a class="indexterm" id="id53"/>are required to copy NOOBS to an SD card:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Insert the<a class="indexterm" id="id54"/> formatted<a class="indexterm" id="id55"/> SD card into the computer.</li><li class="listitem">Decompress the NOOBS ZIP file onto the SD card.</li><li class="listitem">Eject the SD card.</li><li class="listitem">Insert the SD card into the Raspberry Pi and power on the Raspberry Pi.</li><li class="listitem">Select and install an operating system.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec22"/>How it works...</h2></div></div></div><p>The NOOBS installation process is not operating system-specific. The files in the NOOBS ZIP file simply need to be expanded onto a newly formatted SD card.</p><p>Once the files have been expanded onto the SD card, the SD card can be safely ejected from the computer and inserted into the Raspberry Pi.</p><p>After the SD card is firmly inserted into the Raspberry Pi and all of its other components are connected (the HDMI monitor, network connection, USB keyboard, and USB mouse), you can connect the power supply and boot the Raspberry Pi. Ensure that the power supply is connected in the end. Otherwise, your Raspberry Pi will not boot properly.</p><p>When the Raspberry Pi is finished booting NOOBS, you will be presented with a choice of operating systems. Select <span class="strong"><strong>Raspbian [RECOMMENDED] </strong></span>from the top of the list by pressing the Spacebar or clicking on it with the mouse. Click on <span class="strong"><strong>Install (i)</strong></span> or press the <span class="emphasis"><em>I</em></span> key to install the Raspbian Linux operating system.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note03"/>Note</h3><p>Raspbian Linux is the operating system that is used throughout this book.</p></div></div><p>NOOBS will then extract the Raspbian Linux operating system and reboot the Raspberry Pi. As NOOBS is extracting the operating system, you will be presented with a few tips on how to use the Raspberry Pi, including the default username and password (the default username is <code class="literal">pi</code> and the default password is <code class="literal">raspberry</code>).</p><p>After the Raspberry Pi is rebooted, you will be ready to use the <code class="literal">raspi-config</code> command to complete the installation (refer to the <span class="emphasis"><em>Booting Raspbian Linux for the first time</em></span> recipe).</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec23"/>There's more...</h2></div></div></div><p>NOOBS is the<a class="indexterm" id="id56"/> easiest way to get started with the Raspberry Pi. It is an installation tool and not a complete operating system.</p><p>In this recipe, you used NOOBS to install the Raspbian Linux operating system. NOOBS can also be used to install a number of other operating systems, including Arch, OpenELEC, Pidora, and RaspBMC.</p><p>By using NOOBS, Raspbian Linux can be configured so that it boots directly into an easy-to-use programming environment called <a class="indexterm" id="id57"/>
<span class="strong"><strong>Scratch</strong></span>. NOOBS also has a built-in configuration editor that can be used by experts to apply additional tweaks to the boot configuration.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec24"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">NOOBS (the New Out of Box Software)<a class="indexterm" id="id58"/> at <a class="ulink" href="https://github.com/raspberrypi/noobs">https://github.com/raspberrypi/noobs</a></li></ul></div><p>NOOBS is designed to make it easier to select and install operating systems for the Raspberry Pi without having to worry about manually imaging an SD card.</p></div></div>
<div class="section" title="Mac OS X disk utilities &#x2013; diskutil and dd"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec13"/>Mac OS X disk utilities – diskutil and dd</h1></div></div></div><p>This recipe explains how to use<a class="indexterm" id="id59"/> the <code class="literal">diskutil</code> and <code class="literal">dd</code> disk utilities that are found<a class="indexterm" id="id60"/> on a Mac OS X computer to install a Raspberry Pi operating system image on an SD card.</p><p>You should have already downloaded a Raspberry Pi disk image and you should be ready to write the disk image onto an SD card.</p><p>Once you've completed this recipe, you will be able to write an SD card from a Mac OS X computer.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec25"/>Getting ready</h2></div></div></div><p>Ingredients:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A computer running Mac OS X with an SD card writer</li><li class="listitem" style="list-style-type: disc">An SD card of 4 GB or greater (class 10 has the best performance)</li><li class="listitem" style="list-style-type: disc">A Raspberry Pi operating system image file</li></ul></div><p>Both the <code class="literal">diskutil</code> and <code class="literal">dd</code> disk utility commands are installed by default with the Mac OS X operating system. The <code class="literal">diskutil</code> command<a class="indexterm" id="id61"/> is used to administer disk devices, and the <code class="literal">dd</code> command<a class="indexterm" id="id62"/> is used to copy data to and from a disk device.</p><p>The <code class="literal">dd</code> command requires administrative privileges. Use the <code class="literal">sudo</code> command to temporarily give the user administrative privileges.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec26"/>How to do it...</h2></div></div></div><p>The following steps need<a class="indexterm" id="id63"/> to be performed to write a disk image to an <a class="indexterm" id="id64"/>SD card on a Linux computer:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Open a Terminal.</li><li class="listitem">Determine the name of the SD drive by using the following command:<div class="informalexample"><pre class="programlisting">diskutil list
</pre></div></li><li class="listitem">Unmount the mounted SD card by using the following command:<div class="informalexample"><pre class="programlisting">
diskutil unmountdisk /dev/disk2
</pre></div></li><li class="listitem">Use <code class="literal">dd</code> to copy the disk image to the SD card (this requires <code class="literal">sudo</code>), as follows:<div class="informalexample"><pre class="programlisting">
sudo dd bs=1M if=raspbian.img of=/dev/rdisk2
</pre></div></li></ol></div><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note04"/>Note</h3><p>Choose the disk carefully! Ensure that you do not erase the wrong disk!</p></div></div><p>Here is an example of a Terminal session that shows the <code class="literal">diskutil</code> and <code class="literal">dd</code> commands being used to discover the name of the SD card's disk drive, unmount the SD card, and write a Raspberry Pi disk image to the SD card:</p><div class="informalexample"><pre class="programlisting">
macosx:~ <span class="strong"><strong>$ diskutil list</strong></span>

/dev/disk0
   #:                   TYPE NAME              SIZEIDENTIFIER
   0:  GUID_partition_scheme*500.3 GB   disk0
   1:                    EFI EFI209.7 MB   disk0s1
   2:      Apple_CoreStorage499.4 GB   disk0s2
   3:             Apple_Boot Recovery HD       650.0 MB   disk0s3
/dev/disk1
   #:                   TYPE NAME              SIZE       IDENTIFIER
   0:              Apple_HFS Macintosh HD     *499.1 GB   disk1
/dev/disk2
   #:                   TYPE NAME              SIZE       IDENTIFIER
   0: FDisk_partition_scheme NO_NAME *4.0 GB   disk2
   1:             DOS_FAT_32 NO_NAME           4.0 GB     disk2s1

macosx:~ $<span class="strong"><strong> diskutilumountdisk /dev/disk2</strong></span>

macosx:~ $<span class="strong"><strong> cd Downloads</strong></span>

macosx:Downloads $<span class="strong"><strong> dd bs=1M if=raspbian.img of=/dev/rdisk2</strong></span></pre></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec27"/>How it works...</h2></div></div></div><p>The <code class="literal">diskutil</code> command<a class="indexterm" id="id65"/> is used to find the name of the SD card and <a class="indexterm" id="id66"/>unmount the disk.</p><p>The command is first used with the <code class="literal">list</code> subcommand to show information about each mounted disk drive.</p><p>After the SD card is inserted, the SD card appears in this list as <code class="literal">/dev/disk2</code>.</p><p>Now that we know that the SD card disk device is <code class="literal">/dev/disk2</code>, the SD card is unmounted by using the <code class="literal">unmountdisk</code> subcommand.</p><p>Finally, the <code class="literal">dd</code> command is used to write the Raspberry Pi disk image to the SD card:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Each written disk block is 1 MB (<code class="literal">bs=1M</code>)</li><li class="listitem" style="list-style-type: disc">The input file (<code class="literal">if</code>) is <code class="literal">raspbian.img</code></li><li class="listitem" style="list-style-type: disc">The output file (<code class="literal">of</code>) is the SD card disk device (<code class="literal">/dev/rdisk2</code>)</li></ul></div><p>Note that the output file is named <code class="literal">/dev/rdisk2</code> and not <code class="literal">/dev/disk2</code>. The extra <code class="literal">r</code> asks Mac OS X to use the raw mode when writing to the disk. The raw mode is much faster, if you want to write, than the default mode.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec28"/>There's more...</h2></div></div></div><p>The <code class="literal">diskutil</code> command<a class="indexterm" id="id67"/> utility is a feature-rich tool that is used to modify, verify, and repair disks on Mac OS X. More information about the <code class="literal">diskutil</code> command can be found by using the built-in man pages (<code class="literal">man diskutil</code>).</p><p>Before the image is copied to the SD card in the preceding example, the disk partition is unmounted (<code class="literal">diskutil unmountdisk</code>). It is important to unmount the disk before formatting or overwriting it.</p><p>When the image is copied with the <code class="literal">dd</code> command,</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">if=</code> specifies the input file (<code class="literal">raspbian.img</code>)</li><li class="listitem" style="list-style-type: disc"><code class="literal">of=</code> specifies the output file (<code class="literal">/dev/rdisk2</code>)</li><li class="listitem" style="list-style-type: disc"><code class="literal">bs=</code> specifies the size of the blocks written to the disk</li></ul></div><p>The <code class="literal">dd</code> utility can also be used as a backup tool. Just exchange the input file (<code class="literal">if=</code>) and output file (<code class="literal">of=</code>).</p><p>Use the following command to create a backup using the disk from the preceding example:</p><div class="informalexample"><pre class="programlisting">
dd bs=1M if=/dev/rdisk2 of=backup-2015-06-20.img
</pre></div><p>Pressing <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>T</em></span> while the <code class="literal">dd</code> command is running will cause the command to report its progress.</p><p>More information about the<a class="indexterm" id="id68"/> <code class="literal">dd</code> command can be found in its man pages (<code class="literal">man dd</code>).</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec29"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Disk Utility</strong></span> (<a class="ulink" href="http://en.wikipedia.org/wiki/Disk_Utility">http://en.wikipedia.org/wiki/Disk_Utility</a>): The <code class="literal">diskutil</code> command<a class="indexterm" id="id69"/> can be used to unmount disks from a system. This Wikipedia article explains in detail all the features of the <code class="literal">diskutil</code> command.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>diskutil – modify, verify, and repair local disks</strong></span> (<a class="ulink" href="https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man8/diskutil.8.html">https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man8/diskutil.8.html</a>): The <code class="literal">diskutil</code> command is part of the Mac OS X <a class="indexterm" id="id70"/>operating system. The Apple man page for <code class="literal">diskutil</code> describes the command and its options.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>dd – convert and copy a file</strong></span> (<a class="ulink" href="https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/dd.1.html">https://developer.apple.com/library/mac/documentation/Darwin/Reference/ManPages/man1/dd.1.html</a>): The <code class="literal">dd</code> command can be used to copy images to<a class="indexterm" id="id71"/> and from disks. The Apple man page for <code class="literal">dd</code> gives details about the command and its options.</li></ul></div></div></div>
<div class="section" title="Image Writer for Windows &#x2013; Win32DiskImager.exe"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec14"/>Image Writer for Windows – Win32DiskImager.exe</h1></div></div></div><p>This recipe shows how to<a class="indexterm" id="id72"/> install a Raspberry Pi operating system image on an SD card using the open source Image Writer for Windows, <code class="literal">Win32DiskImager.exe</code>.</p><p>You should have already <a class="indexterm" id="id73"/>downloaded a Raspberry Pi disk image, and you should be ready to write the disk image onto an SD card using a Windows PC.</p><p>To complete this recipe, you will also need an Internet connection to download Image Writer for Windows.</p><p>Once you've completed this recipe, you will be able to write Raspberry Pi images to SD cards from a Windows computer.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec30"/>Getting ready</h2></div></div></div><p>Here are the <a class="indexterm" id="id74"/>ingredients:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A computer running Windows with an SD card writer</li><li class="listitem" style="list-style-type: disc">An SD card of 4 GB or greater (class 10 has the best performance)</li><li class="listitem" style="list-style-type: disc">A Raspberry Pi operating system image file</li><li class="listitem" style="list-style-type: disc">A precompiled <code class="literal">Win32DiskImager</code> binary</li></ul></div><p>The precompiled binary<a class="indexterm" id="id75"/> of <code class="literal">Win32DiskImager</code> is distributed as a ZIP file and can be downloaded from <a class="ulink" href="https://launchpad.net/win32-image-writer">https://launchpad.net/win32-image-writer</a>.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec31"/>How to do it...</h2></div></div></div><p>The following steps are required to write a disk image to an SD card on a Windows computer:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Download the <code class="literal">Win32DiskImager</code> ZIP file<a class="indexterm" id="id76"/> from <a class="ulink" href="https://launchpad.net/win32-image-writer">https://launchpad.net/win32-image-writer</a>.</li><li class="listitem">Expand the ZIP file to a folder on disk, such as <code class="literal">C:\Win32DiskImager</code>.</li><li class="listitem">Run <code class="literal">Win32DiskImager.exe</code> from the install folder.</li><li class="listitem">Select the downloaded Raspberry Pi disk image as the source image file and the location of your SD card writer as the target device.</li><li class="listitem">Click on the <span class="strong"><strong>Write</strong></span> button to copy the image to the SD card.</li></ol></div><p>Writing an image to disk takes about 5 minutes for a 2 GB image file. Once the image is written to the SD card, the SD card can be ejected and used to boot the Raspberry Pi.</p></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec32"/>How it works...</h2></div></div></div><p>First, you will need to download and install Image Writer for Windows (<code class="literal">Win32DiskImager</code>). The <code class="literal">Win32DiskImager</code> is a single standalone executable and can be installed to a folder that is located anywhere on your PC.</p><p>Double-click on the expanded <code class="literal">Win32DiskImager</code> executable to start the application.</p><p>Once the application has started, select the downloaded Raspberry Pi disk image as the source Image File and then select the location of the SD card writer as the target device. When you click on the <span class="strong"><strong>Write</strong></span> button, the <code class="literal">Win32DiskImager</code> writes the Raspberry Pi disk image to the SD card.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec33"/>There's more...</h2></div></div></div><p>The <code class="literal">Win32DiskImager</code> is also an excellent backup tool! After booting and configuring the Raspberry Pi, a backup can be made to preserve the image in case the SD card is damaged or lost.</p><p>To create a backup, perform the following steps:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Run <code class="literal">Win32DiskImager.exe</code>.</li><li class="listitem">Select SD card as the source and a new image file as the target.</li><li class="listitem">Click on the <span class="strong"><strong>Read</strong></span> button to read the SD card in a new image on the disk.</li></ol></div><p>The steps needed to back up a Raspberry Pi disk image from an SD card are similar to those required to write the image. The only difference is that during a backup, the SD card is the source of the copy, and a new image on the disk is the target.</p><p>A new backup should be created after each update to the Raspberry Pi's operating system, application software, or configuration.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec34"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Image Writer for Windows</strong></span> (<a class="ulink" href="https://launchpad.net/win32-image-writer">https://launchpad.net/win32-image-writer</a>): This utility was <a class="indexterm" id="id77"/>originally written to read and write disk images for a specific Linux distribution. However, it has now been generalized and is now a popular tool for many development projects, such as the Raspberry Pi. The Image Writer for Windows homepage has details about this disk image utility.</li></ul></div></div></div>
<div class="section" title="Convert and copy for Linux &#x2013; dd"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec15"/>Convert and copy for Linux – dd</h1></div></div></div><p>This recipe explains how<a class="indexterm" id="id78"/> to install an operating system image on an SD card using<a class="indexterm" id="id79"/> the <code class="literal">dd</code> standard Linux utility.</p><p>You should have already<a class="indexterm" id="id80"/> downloaded a Raspberry Pi disk image, and you should now<a class="indexterm" id="id81"/> be ready to write the disk image onto an SD card using a Linux PC.</p><p>Most versions of Linux and Mac OS have the <code class="literal">dd</code> command installed. This powerful version of the copy command (<code class="literal">cp</code>) can be used to write blocks of data to devices such as an SD card.</p><p>Once you've completed this recipe, you will be able to write an SD card from a Linux computer.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec35"/>Getting ready</h2></div></div></div><p>Here are the ingredients:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A computer running Linux with an SD card writer</li><li class="listitem" style="list-style-type: disc">An SD card with a capacity of 4 GB or greater (class 10 has the best performance)</li><li class="listitem" style="list-style-type: disc">A Raspberry Pi operating system image file</li></ul></div><p>The <code class="literal">dd</code> utility is <a class="indexterm" id="id82"/>normally installed by default with most Linux <a class="indexterm" id="id83"/>distributions. If it is not installed, use the appropriate Linux <a class="indexterm" id="id84"/>installation utility to install it.</p><p>All the commands in this <a class="indexterm" id="id85"/>example are executed as a privileged user (root).</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec36"/>How to do it...</h2></div></div></div><p>Perform the following steps to write a disk image to an SD card on a Linux computer:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Determine the name of the SD drive by using the <code class="literal">df</code> command.<div class="informalexample"><pre class="programlisting">
df</pre></div></li><li class="listitem">Unmount the mounted disk partitions with <code class="literal">umount</code>, as follows:<div class="informalexample"><pre class="programlisting">
umount /dev/mmcblk0p1
</pre></div></li><li class="listitem">Use <code class="literal">dd</code> to copy the disk image to the SD card, as follows:<div class="informalexample"><pre class="programlisting">
dd bs=1M if=rasbian.img of=/dev/mmcblk0
</pre></div></li></ol></div><p>Here is an example of a Terminal session that shows the <code class="literal">df</code> command being used to discover the name of the SD card drive, the <code class="literal">umount</code> command being used to unmount the SD card, and the <code class="literal">dd</code> command being used to write a Raspberry Pi disk image to an SD card:</p><div class="informalexample"><pre class="programlisting">
user@host ~ $ <span class="strong"><strong>df –vh</strong></span>

Filesystem      Size  Used Avail Use% Mounted on
/dev/sda1       9.1G  7.3G  1.4G  85% /
udev            992M     0  992M   0% /dev
/dev/sda3       9.1G  4.9G  3.8G  57% /sys1
/dev/sda4       9.1G  4.2G  4.4G  49% /sys2
/dev/mmcblk0p   3.8G  1.2G  2.6G  32% /media/A181-918F

user@host ~ $ <span class="strong"><strong>umount /dev/mmcblk0p1</strong></span>

user@host ~ $ <span class="strong"><strong>dd bs=1M if=raspbian.img of=/dev/mmcblk0</strong></span></pre></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec37"/>How it works...</h2></div></div></div><p>The name of the <a class="indexterm" id="id86"/>SD drive is discovered using the <code class="literal">df</code> command.</p><p>The <code class="literal">df</code> command<a class="indexterm" id="id87"/> shows how much disk space is free on each mounted disk <a class="indexterm" id="id88"/>drive. After the SD card is inserted, the primary partition (<code class="literal">p1</code>) of the SD card appears in this list as <code class="literal">/dev/mmcblk0p1</code>. Therefore, the SD card <a class="indexterm" id="id89"/>disk device is <code class="literal">/dev/mmcblk0</code> (note that <code class="literal">p1</code> is missing).</p><p>Now that we know that the SD card disk device is <code class="literal">/dev/mmcblk0</code>, the SD card is unmounted using the <code class="literal">umount</code> command (note that there is no <code class="literal">n</code> in <code class="literal">umount</code>).</p><p>Finally, the <code class="literal">dd</code> command is used to write the Raspberry Pi disk image to the SD card:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Each written disk block is 1 MB (<code class="literal">bs=1M</code>)</li><li class="listitem" style="list-style-type: disc">The input file (<code class="literal">if</code>) is <code class="literal">raspbian.img</code></li><li class="listitem" style="list-style-type: disc">The output file (<code class="literal">of</code>) is the SD card disk device (<code class="literal">/dev/mmcblk0</code>)</li></ul></div><p>Pressing <span class="emphasis"><em>Ctrl</em></span> + <span class="emphasis"><em>T</em></span> while the <code class="literal">dd</code> command is running will cause the command to report its progress.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec38"/>There's more...</h2></div></div></div><p>The <code class="literal">dd</code> utility is one of the core Gnu utilities found in most Linux distributions. It is a low-level utility that simply copies blocks of data from one file to another.</p><p>The preceding example shows how the <code class="literal">df</code> command can be used to determine the name of the SD card disk drive. The first partition of the SD disk, <code class="literal">/dev/mmcblk0p1</code>, is mounted at /<code class="literal">media/A1B1-918F</code>. Disk images cover a whole disk and not just one partition. Therefore, the correct name of the disk drive in the preceding example is <code class="literal">/dev/mmcblk0</code> (note the missing <code class="literal">p1</code>).</p><p>Before the image is copied to the SD card in the preceding example, the disk partition is unmounted. It is good practice to unmount all disk partitions before formatting or overwriting a disk.</p><p>When the image is copied with the <code class="literal">dd</code> command,</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">if=</code> specifies the input file (<code class="literal">raspbian.img</code>)</li><li class="listitem" style="list-style-type: disc"><code class="literal">of=</code> specifies the output file <code class="literal">(/dev/mmcblk0</code>)</li><li class="listitem" style="list-style-type: disc"><code class="literal">bs=</code> specifies the size of the blocks written to the disk</li></ul></div><p>The <code class="literal">dd</code> utility can also be used as a backup tool. Just exchange the input file (<code class="literal">if=</code>) and output file (<code class="literal">of=</code>).</p><p>Use the following command to create a backup using the disk from the preceding example:</p><div class="informalexample"><pre class="programlisting">
dd bs=1M if=/dev/mmcblk0 of=backup-2015-06-20.img
</pre></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec39"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>dd (Unix)</strong></span> (<a class="ulink" href="http://en.wikipedia.org/wiki/Dd_(Unix)">http://en.wikipedia.org/wiki/Dd_(Unix)</a>): This Wikipedia article <a class="indexterm" id="id90"/>explains the original application of the <code class="literal">dd</code> command.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>dd – convert and copy a file</strong></span> (<a class="ulink" href="http://manpages.debian.net/cgi-bin/man.cgi?query=dd">http://manpages.debian.net/cgi-bin/man.cgi?query=dd</a>): The Debian man page for <code class="literal">dd</code> describes the command and its options.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>dd (gnu - coreutils)</strong></span> (<a class="ulink" href="http://www.gnu.org/software/coreutils/manual/html_node/dd-invocation.html">http://www.gnu.org/software/coreutils/manual/html_node/dd-invocation.html</a>): The <a class="indexterm" id="id91"/>GNU Operating System manual reference for <code class="literal">dd</code> has a detailed description.</li></ul></div></div></div>
<div class="section" title="Booting Raspbian Linux for the first time"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec16"/>Booting Raspbian Linux for the first time</h1></div></div></div><p>This recipe explains how to <a class="indexterm" id="id92"/>boot the official Raspbian Jessie Linux distribution and use the <code class="literal">raspi-config</code> command to complete the installation of the Raspberry Pi remotely.</p><p>When the Raspberry Pi boots for the first time, it automatically boots into the <span class="strong"><strong>graphical user interface</strong></span> (<span class="strong"><strong>GUI</strong></span>)<a class="indexterm" id="id93"/> mode—the Raspberry Pi Desktop. The Raspberry Pi also starts a secure shell server on the initial boot. Therefore, the installation can be completed without a display attached to the Raspberry Pi.</p><p>In this recipe, the <code class="literal">raspi-config</code> command is run from a remote shell (SSH or PuTTY) to complete the installation of the Raspberry Pi. Details of the use of <code class="literal">raspi-config</code> can be found in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span>.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note05"/>Note</h3><p>The installation of the Raspberry Pi can also be completed from the GUI using the <a class="indexterm" id="id94"/>
<span class="strong"><strong>Raspberry Pi Configuration</strong></span> tool, which is found in the <span class="strong"><strong>Preferences</strong></span> menu.</p></div></div><p>Once this recipe is complete, you will have booted the Raspberry Pi for the first time.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec40"/>Getting ready</h2></div></div></div><p>Here are the ingredients:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A basic networking setup for the Raspberry Pi (refer to the <span class="emphasis"><em>Preparing for the initial boot</em></span> recipe)</li><li class="listitem" style="list-style-type: disc">An SD card formatted with a Raspbian Linux image</li><li class="listitem" style="list-style-type: disc">A network connection</li></ul></div><p>For this recipe, the SD card should already be formatted with a Raspbian Jessie disk image, or the Raspbian operating system should have been selected using NOOBS and the Raspberry Pi should be connected to the local network, where another computer is being used to connect to the Raspberry Pi remotely.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec41"/>How to do it...</h2></div></div></div><p>Perform the following steps to <a class="indexterm" id="id95"/>boot the Raspberry Pi for the first time:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Insert the SD card into the Raspberry Pi and plug in the power supply. The Raspberry Pi should start booting.</li><li class="listitem">After a short initial boot, the Raspberry Pi will announce itself on the local network using the <code class="literal">raspberrypi.local</code> hostname.</li><li class="listitem">Log in to the Raspberry Pi using a secure shell. The default password for the user with a username of <code class="literal">pi</code> is raspberry (<a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span>, has two remote access recipes).<div class="informalexample"><pre class="programlisting">
golden-macbook:~ <span class="strong"><strong>rick$ ssh pi@raspberrypi.local</strong></span>

The authenticity of host 'raspberrypi.local (fe80::ba27:ebff:fe57:796d%en5)' can't be established.
RSA key fingerprint is da:2a:c1:d4:93:f8:02:2c:36:71:ae:6b:9e:83:a6:d4.

Are you sure you want to continue connecting (yes/no)? yes

pi@raspberrypi.local's password: 

The programs included with the Debian GNU/Linux system are free software;
the exact distribution terms for each program are described in the
individual files in /usr/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent
permitted by applicable law.
Last login: Thu Sep 24 15:33:00 2015

pi@raspberrypi ~ $ </pre></div></li><li class="listitem">Use the <code class="literal">raspi-config</code> command to update the operating system. This is a privileged command, and it requires the <code class="literal">sudo</code> prefix to run. More information on <span class="emphasis"><em>Executing commands with privileges</em></span> can be found in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span>.<div class="informalexample"><pre class="programlisting">
pi@raspberrypi ~ $ <span class="strong"><strong>sudo raspi-config</strong></span></pre></div></li><li class="listitem">Note that the<a class="indexterm" id="id96"/> <code class="literal">raspi-config</code> main menu has several options to update the Raspberry Pi operating system:<div class="informalexample"><pre class="programlisting">
┌─────────┤ Raspberry Pi Software Configuration Tool (raspi-config) ├──────────┐
│                                                                              │
│    1 Expand Filesystem              Ensures that all of the SD card s        │
│    2 Change User Password           Change password for the default u        │
│    3 Boot Options                   Choose whether to boot into a des        │
│    4 Internationalisation Options   Set up language and regional sett        │
│    5 Enable Camera                  Enable this Pi to work with the R        │
│    6 Add to Rastrack                Add this Pi to the online Raspber        │
│    7 Overclock                      Configure overclocking for your P        │
│    8 Advanced Options               Configure advanced settings              │
│    9 About raspi-config             Information about this configurat        │
│                                                                              │
│                                                                              │
│                                                                              │
│                     &lt;Select&gt;                     &lt;Finish&gt;                    │
│                                                                              │
└──────────────────────────────────────────────────────────────────────────────┘
</pre></div></li><li class="listitem">The following are the primary configuration options:<div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Expand Filesystem</strong></span>: This resizes the root partition to fill the SD card (not necessary if you used NOOBS)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Change User Password</strong></span>: This changes the default password (should be the first thing that you do).</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Boot Options</strong></span>: Choose to boot the Raspberry Pi in the text mode or the desktop GUI (this book exclusively uses the text mode).</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Internationalisation Options</strong></span>: This changes the display language and the default keyboard layout (the default language is British English and UK is the default keyboard layout)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Enable Camera</strong></span>: This enables the use of the Raspberry Pi camera</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Add to Rastrack</strong></span>: This includes the Raspberry Pi in the Raspberry Pi Foundation's usage statistics</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Overclock</strong></span>: This puts the Raspberry Pi into the Turbo mode (the newest model, Raspberry Pi 2, only has one speed to choose from)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Advanced Options</strong></span>: This is for additional configuration options for advanced <a class="indexterm" id="id97"/>users (such as overscan, SSH, memory split, and audio)</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>About raspi-config</strong></span>: This provides information about <code class="literal">raspi-config</code></li></ul></div></li><li class="listitem">Select <span class="strong"><strong>1 Expand Filesystem</strong></span> to expand the filesystem on the SD card to use all the available space on the SD Card. <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span>, has a recipe for <span class="emphasis"><em>Expanding the size of the filesystem</em></span>.</li><li class="listitem">Select <span class="strong"><strong>2 Change User Password</strong></span> to change the default password.</li><li class="listitem">Select <span class="strong"><strong>Finish</strong></span> to complete the configuration and reboot the system.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec42"/>How it works...</h2></div></div></div><p>Upon booting, the Raspberry Pi registers its hostname (<code class="literal">raspberrypi.local</code>) with the local<a class="indexterm" id="id98"/> <span class="strong"><strong>Multicast Domain Name Server</strong></span> (<span class="strong"><strong>mDNS</strong></span>). Most home gateways and local area networks include an mDNS that provides domain name registration services for mobile devices and computers that dynamically connect to the network.</p><p>Once the Raspberry Pi has booted and registered its hostname, a secure shell client is used to connect to the Raspberry Pi using the <code class="literal">raspberrypi.local</code> hostname, the username as <code class="literal">pi</code> and the password as <code class="literal">raspberry</code>. <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span>, has two remote access recipes, one for Windows (PuTTY), and one for Mac OS X and Linux (SSH).</p><p>The Raspbian Linux operating system distribution includes the <code class="literal">raspi-config</code> utility. This configuration utility should be run once upon the first boot of the operating system to expand the filesystem and change the default password.</p><p>The <code class="literal">raspi-config</code> command is privileged and requires the <code class="literal">sudo</code> prefix to be run. More information on <span class="emphasis"><em>Executing commands with privileges</em></span> can be found in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span>.</p><p>When the <code class="literal">raspi-config</code> main menu appears, you can use the keyboard arrow keys, the <span class="emphasis"><em>Tab</em></span> key, the Spacebar, or the <span class="emphasis"><em>Return</em></span> key to navigate the menus.</p><p><a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span>, has a number of recipes that use the <code class="literal">raspi-config</code> command to configure the Raspberry Pi. For now, just use the <span class="strong"><strong>Expand Filesystem</strong></span> and <span class="strong"><strong>Change User Password</strong></span> menu items and the <span class="emphasis"><em>Expand the size of the filesystem</em></span> and <span class="emphasis"><em>Changing the login password</em></span> recipes.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note06"/>Note</h3><p>If you have used NOOBS, it is not necessary to expand the filesystem. NOOBS has already expanded the filesystem.</p></div></div><p>Selecting <span class="strong"><strong>Finish</strong></span> from the main menu will cause the Raspberry Pi to reboot.</p><p>Once rebooted, the Raspberry Pi is ready for use!</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec43"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Multicast DNS</strong></span> (<a class="ulink" href="https://en.wikipedia.org/wiki/Multicast_DNS">https://en.wikipedia.org/wiki/Multicast_DNS</a>): This Wikipedia <a class="indexterm" id="id99"/>article describes how mDNS is used to resolve host names to IP address with small local area networks.</li></ul></div></div></div>
<div class="section" title="Shutting down the Raspberry Pi"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec17"/>Shutting down the Raspberry Pi</h1></div></div></div><p>This recipe shows how the <a class="indexterm" id="id100"/>Raspberry Pi can be powered off safely.</p><p>Before powering off the Raspberry Pi, it is important to first shut down the operating system so that all of the applications and services on the Raspberry Pi have a chance to complete any disk writing that may be in progress and to prepare for the next boot.</p><p>External devices, such as hard disks, also need time to shut down and flush their buffers. The <code class="literal">shutdown</code> command also gives the devices attached to the Raspberry Pi an opportunity to clean up and prepare for the next boot.</p><p>After completing this recipe, you will be able to power off the Raspberry Pi safely.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec44"/>Getting ready</h2></div></div></div><p>Here are my ingredients:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">An Initial Setup for the Raspberry Pi (refer to the <span class="emphasis"><em>Preparing for initiating the boot</em></span> recipe)</li><li class="listitem" style="list-style-type: disc">An SD card formatted with the official Raspbian Linux image</li></ul></div><p>The Raspberry Pi should already be powered on and booted before implementing this recipe.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec45"/>How to do it...</h2></div></div></div><p>Perform the following steps to shut down the Raspberry Pi:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">If you have not already done so, log in to the Raspberry Pi as the user <code class="literal">pi</code> (the default password is <code class="literal">raspberry</code>):<div class="informalexample"><pre class="programlisting">
Raspbian GNU/Linux 7raspberrypi tty1

Raspberrypi login: <span class="strong"><strong>pi</strong></span>
Password:

Last Login: Sun Jun 21 19:45:35 UTC 2015 on tty1
Linux raspberrypi 3.18.11-v7+ #781SMP PREEEMPT Tue Apr 21 18:07:59 BST 2015armv7l

The programs included with the Debian GNU/Linux system are free software;The exact distribution terms for each program are described in the individual files in /user/share/doc/*/copyright.

Debian GNU/Linux comes with ABSOLUTELY NO WARRANTY, to the extent permitted by applicable law.

pi@raspberrypi ~ $ </pre></div></li><li class="listitem">Shut down and halt (<code class="literal">-h</code>) the operating system. This command is privileged. Use the <code class="literal">sudo</code> prefix to run the shutdown command as a privileged user, as follows:<div class="informalexample"><pre class="programlisting">
pi@raspberrypi ~ $ <span class="strong"><strong>sudo shutdown –h now</strong></span>

Broadcast message from root@raspberrypi (pts/0) (Sun Jun 21 19:53:03 2015):
The system is going down for system halt NOW!
</pre></div></li><li class="listitem">After the <code class="literal">shutdown</code> command is executed, the Raspberry Pi will begin its shutdown process, displaying messages from applications, devices, and services, as they clean up and prepare for the next boot.</li><li class="listitem">Once the operating system has shut down, the Raspberry Pi will halt, leaving only a single red LED lit on the Raspberry Pi (as long as the LEDs are flashing, the Raspberry Pi is still busy shutting down).</li><li class="listitem">The power supply can now be unplugged from the Raspberry Pi.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec46"/>How it works...</h2></div></div></div><p>If you have not <a class="indexterm" id="id101"/>already logged into the Raspberry Pi, you will need to log in to the Raspberry Pi before shutting it down.</p><p>The default user is <code class="literal">pi</code>. You should have already changed the default user's password during the first boot (refer to the <span class="emphasis"><em>Booting Raspbian Linux for the first time</em></span> recipe). In case you have not changed it, the default password is <code class="literal">raspberry</code>.</p><p>After logging in, the <code class="literal">shutdown</code> command is executed with the <code class="literal">–h</code> option, which tells the Raspberry Pi to halt after the operating system is shut down.</p><p>The <code class="literal">shutdown</code> command is privileged. Therefore, the <code class="literal">sudo</code> command is used as a prefix to temporarily grant privileges. More information on <span class="emphasis"><em>Executing commands with privileges</em></span> can be found in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span>.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec47"/>There's more...</h2></div></div></div><p>The <code class="literal">shutdown</code> command can also be used to reboot the system. Just use the <code class="literal">–r</code> reboot option instead of the <code class="literal">–h</code> halt option.</p><p>Rebooting the system when you're logged in as the user <code class="literal">pi</code> can be done with the help of the following command: </p><div class="informalexample"><pre class="programlisting">
pi@raspberrypi ~ $ <span class="strong"><strong>sudo shutdown –r now</strong></span>
</pre></div><p>Synonyms exist for the <code class="literal">shutdown</code> command, which include <code class="literal">poweroff</code> and <code class="literal">reboot</code>.</p><p>To power off the system instead of using <code class="literal">shutdown –h</code>, you can also use the following command:</p><div class="informalexample"><pre class="programlisting">
pi@raspberrypi ~ $ <span class="strong"><strong>sudo poweroff</strong></span>
</pre></div><p>Instead of <code class="literal">shutdown –r</code>, you can also use the following command:</p><div class="informalexample"><pre class="programlisting">
pi@raspberrypi ~ $ <span class="strong"><strong>sudo reboot</strong></span>
</pre></div><p>More information <a class="indexterm" id="id102"/>about these commands can be found in their man pages.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec48"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>halt, reboot, poweroff – stop the system</strong></span> (<a class="ulink" href="http://manpages.debian.net/cgi-bin/man.cgi?query=halt">http://manpages.debian.net/cgi-bin/man.cgi?query=halt</a>): There are<a class="indexterm" id="id103"/> alternatives <a class="indexterm" id="id104"/>to the <code class="literal">shutdown</code> command. The Debian man page for halt, poweroff, and reboot<a class="indexterm" id="id105"/> describes these commands in detail.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>shutdown – bring the system down</strong></span> (<a class="ulink" href="http://manpages.debian.net/cgi-bin/man.cgi?query=shutdown">http://manpages.debian.net/cgi-bin/man.cgi?query=shutdown</a>): The <code class="literal">shutdown</code> command<a class="indexterm" id="id106"/> can be used to halt (<code class="literal">-h</code>) or reboot (<code class="literal">-r</code>) the system. The Debian man page for <code class="literal">shutdown</code> describes the command and all of its options in detail.</li></ul></div></div></div></body></html>