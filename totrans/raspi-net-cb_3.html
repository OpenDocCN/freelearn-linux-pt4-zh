<html><head></head><body><div class="chapter" title="Chapter&#xA0;3.&#xA0;Maintenance"><div class="titlepage"><div><div><h1 class="title"><a id="ch03"/>Chapter 3. Maintenance</h1></div></div></div><p>In this chapter, we will cover the following topics:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">Updating the operating system (<code class="literal">apt-get</code>)</li><li class="listitem" style="list-style-type: disc">Upgrading Raspbian from <code class="literal">wheezy</code> to <code class="literal">jessie</code> using <code class="literal">sources.list</code></li><li class="listitem" style="list-style-type: disc">Searching for software packages (<code class="literal">apt-cache</code>)</li><li class="listitem" style="list-style-type: disc">Installing a package (<code class="literal">apt-get</code>)</li><li class="listitem" style="list-style-type: disc">Package management (<code class="literal">aptitude</code>)</li><li class="listitem" style="list-style-type: disc">Reading the built-in documentation (<code class="literal">man</code>)</li><li class="listitem" style="list-style-type: disc">Reading the built-in documentation (<code class="literal">info</code>)</li></ul></div><div class="section" title="Introduction"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec28"/>Introduction</h1></div></div></div><p>The recipes in this chapter are for the basic maintenance of the Raspberry Pi. </p><p>The first few recipes show you how to update the Raspbian operating system and install new software packages, while the last two recipes show you how to access the documentation that is already built into the Raspberry Pi.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note11"/>Note</h3><p>The recipes in this chapter work for Debian-based operating systems such as PiNet, Raspbian (recommended by the Raspberry Pi Foundation), and Ubuntu MATE.</p><p>Other operating systems, such as Pidora and RISC OS, have their own update and installation mechanisms. For instructions on how to update and install software on these operating systems, visit their respective websites. The <span class="emphasis"><em>See Also</em></span> section at the end of this recipe has the needed reference links.</p></div></div><p>After completing the recipes in this chapter, you will be able to update the Raspberry Pi and better understand the built-in documentation.</p></div></div>
<div class="section" title="Updating the operating system (apt-get)"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec29"/>Updating the operating system (apt-get)</h1></div></div></div><p>This <a class="indexterm" id="id197"/>recipe shows how to update <a class="indexterm" id="id198"/>the Raspberry Pi using the <code class="literal">apt-get</code> command.</p><p>The Raspberry Pi and the operating systems that run on the Raspberry Pi, such as the Raspbian Linux distribution, are evolving at a rapid pace. Every week, if not everyday, there are new updates and security patches that can be downloaded and installed.</p><p>This recipe uses the Advance Packaging Tools command-line utility called <code class="literal">apt-get</code> to update the existing software on the Raspberry Pi to the latest version. This recipe does not install new software; it simply upgrades the software that has already been installed. The recipes named <span class="emphasis"><em>Searching for software packages</em></span> and <span class="emphasis"><em>Installing a package</em></span> show how to search for and install new software packages respectively.</p><p>After completing this recipe, you will be able to update the Raspbian operating system using <code class="literal">apt-get</code>, the advanced packaging tool.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec89"/>Getting ready</h2></div></div></div><p>Ingredients:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">You will need an <span class="emphasis"><em>Initial Setup</em></span> or a <span class="emphasis"><em>Basic Networking</em></span> setup for the Raspberry Pi that has been powered on. You also need to log in as the user with <code class="literal">pi</code> as their username (take a look at the recipes in <a class="link" href="ch01.html" title="Chapter 1. Installation and Setup">Chapter 1</a>, <span class="emphasis"><em>Installation and Setup </em></span>to learn how to boot and log in and the recipes in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span> to understand how to log in remotely).</li><li class="listitem" style="list-style-type: disc">You will also require a network connection.</li></ul></div><p>The Raspberry Pi will need access to the Internet to reach the update server(s) from which it will pull software updates and security fixes.</p><p>If the Raspberry Pi has remote access enabled, this recipe can be completed remotely using <code class="literal">SSH</code> or PuTTY (see the <span class="emphasis"><em>Remote access</em></span> recipes in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>
<span class="emphasis"><em>, Administration)</em></span>.</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec90"/>How to do it...</h2></div></div></div><p>Perform the following steps to update the operating system of the Raspberry Pi:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Log in to the Raspberry Pi either directly or remotely.</li><li class="listitem">Execute the <code class="literal">apt-get update</code> command to update the local package database, as follows:<div class="informalexample"><pre class="programlisting">golden@raspberrypi ~ $ sudo apt-get update
Get:1 http://mirrordirector.raspbian.org jessie InRelease [15.0 kB]            
Get:2 http://archive.raspberrypi.org jessie InRelease [13.3 kB]                
Get:3 http://mirrordirector.raspbian.org jessie/main armhf Packages [8,961 kB]
Get:4 http://archive.raspberrypi.org jessie/main Sources [31.2 kB]
Get:5 http://archive.raspberrypi.org jessie/ui Sources [5,197 B]              
Get:6 http://archive.raspberrypi.org jessie/main armhf Packages [101 kB]     
Get:7 http://archive.raspberrypi.org jessie/ui armhf Packages [7,639 B]       
Ign http://archive.raspberrypi.org jessie/main Translation-en_GB                                                       
Ign http://archive.raspberrypi.org jessie/main Translation-en                                                          
Ign http://archive.raspberrypi.org jessie/ui Translation-en_GB                                                         
Ign http://archive.raspberrypi.org jessie/ui Translation-en                                                            
Get:8 http://mirrordirector.raspbian.org jessie/contrib armhf Packages [37.5 kB]                                       
Get:9 http://mirrordirector.raspbian.org jessie/non-free armhf Packages [70.2 kB]                                      
Get:10 http://mirrordirector.raspbian.org jessie/rpi armhf Packages [1,356 B]                                          
Ign http://mirrordirector.raspbian.org jessie/contrib Translation-en_GB                                                
Ign http://mirrordirector.raspbian.org jessie/contrib Translation-en                                                   
Ign http://mirrordirector.raspbian.org jessie/main Translation-en_GB                                                   
Ign http://mirrordirector.raspbian.org jessie/main Translation-en                                                      
Ign http://mirrordirector.raspbian.org jessie/non-free Translation-en_GB                                               
Ign http://mirrordirector.raspbian.org jessie/non-free Translation-en                                                  
Ign http://mirrordirector.raspbian.org jessie/rpi Translation-en_GB                                                    
Ign http://mirrordirector.raspbian.org jessie/rpi Translation-en                                                       
Fetched 9,243 kB in 37s (245 kB/s)                                                                                     
Reading package lists... Done

pi@raspberrypi ~ $ </pre></div></li><li class="listitem">Execute<a class="indexterm" id="id199"/> the <code class="literal">apt-get –y dist-upgrade</code> command to upgrade the system, as follows:<div class="informalexample"><pre class="programlisting">golden@raspberrypi ~ $ <span class="strong"><strong>sudo apt-get dist-upgrade -y</strong></span>

Reading package lists... Done
Building dependency tree       
Reading state information... Done
Calculating upgrade... Done</pre></div></li><li class="listitem">The upgradable list of packages is<a class="indexterm" id="id200"/> calculated in the following way:<div class="informalexample"><pre class="programlisting">The following packages will be upgraded:
  cups-bsd cups-client cups-common fuse libcups2 libcupsimage2 libfuse2
  libsqlite3-0 libssl1.0.0 openssl raspi-config
11 upgraded, 0 newly installed, 0 to remove and 0 not upgraded.
Need to get 3,877 kB of archives.
After this operation, 455 kB disk space will be freed.</pre></div></li><li class="listitem">A status message is displayed as each package is downloaded, as follows:<div class="informalexample"><pre class="programlisting">Get:1 http://mirrordirector.raspbian.org/raspbian/ jessie/main libssl1.0.0 armhf 1.0.1e-2+rvt+deb7u17 [1,053 kB]
Get:2 http://archive.raspberrypi.org/debian/ jessie/main raspi-config all 20150131-4 [13.2 kB]
…

Get:11 http://mirrordirector.raspbian.org/raspbian/ jessie/main openssl armhf 1.0.1e-2+rvt+deb7u17 [702 kB]
Fetched 3,877 kB in 3s (1,060 kB/s)</pre></div></li><li class="listitem">After the upgradable packages have been downloaded, they are preconfigured and prepared for installation:<div class="informalexample"><pre class="programlisting">Preconfiguring packages ...
(Reading database ... 77851 files and directories currently installed.)
Preparing to replace libssl1.0.0:armhf 1.0.1e-2+rvt+deb7u16 (using .../libssl1.0.0_1.0.1e-2+rvt+deb7u17_armhf.deb) ...
Unpacking replacement libssl1.0.0:armhf ...
Preparing to replace libsqlite3-0:armhf 3.7.13-1+deb7u1 (using .../libsqlite3-0_3.7.13-1+deb7u2_armhf.deb) ...
Unpacking replacement libsqlite3-0:armhf ... 
…</pre></div></li><li class="listitem">After the packages have been preconfigured and prepared for installation, they are installed:<div class="informalexample"><pre class="programlisting">Processing triggers for man-db ...
Processing triggers for initramfs-tools ...
Setting up libssl1.0.0:armhf (1.0.1e-2+rvt+deb7u17) ...
Setting up libsqlite3-0:armhf (3.7.13-1+deb7u2) ...
Setting up libcups2:armhf (1.5.3-5+deb7u6) ...
Setting up libcupsimage2:armhf (1.5.3-5+deb7u6) ...
Setting up cups-common (1.5.3-5+deb7u6) ...
Setting up cups-client (1.5.3-5+deb7u6) ...
Setting up cups-bsd (1.5.3-5+deb7u6) ...
Setting up libfuse2:armhf (2.9.0-2+deb7u2) ...
Setting up fuse (2.9.0-2+deb7u2) ...
udev active, skipping device node creation.
update-initramfs: deferring update (trigger activated)
Setting up openssl (1.0.1e-2+rvt+deb7u17) ...
Setting up raspi-config (20150131-4) ...

golden@raspberrypi ~ $ </pre></div></li><li class="listitem">When<a class="indexterm" id="id201"/> the <code class="literal">apt-get dist-upgrade</code> command is completed, the <a class="indexterm" id="id202"/>currently upgradeable software on the Raspberry Pi will be completely installed and configured, and all the current security fixes will also be applied.</li><li class="listitem">To ensure that the Raspberry Pi is using all the upgradable packages, reboot the system. Use the <code class="literal">reboot</code> command to reboot the Raspberry Pi, as follows:<div class="informalexample"><pre class="programlisting">pi@raspberrypi ~ $ sudo reboot

Broadcast message from root@raspberrypi (pts/0) (Sun Jul  5 12:24:10 2015):
The system is going down for reboot NOW!

pi@raspberrypi ~ $ 

Connection to 192.168.2.8 closed by remote host.
Connection to 192.168.2.8 closed.

golden-macbook:~ rick$ </pre></div></li><li class="listitem">When the Raspberry Pi has rebooted, the upgrade is complete!</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec91"/>How it works...</h2></div></div></div><p>After logging in to the Raspberry Pi, the <code class="literal">apt-get</code> update command is used to update the local package database, which is a local copy of the currently available software packages.</p><p>After the local package database has been updated, the <code class="literal">apt-get dist-upgrade</code> command is used to determine which packages are currently upgradable, download the upgradeable packages, and preconfigure and install the packages.</p><p>When the <code class="literal">apt-get dist-upgrade</code> command is complete, the Raspberry Pi is rebooted to ensure that it is using all the newly upgraded packages and security fixes.</p></div><div class="section" title="There's more…"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec92"/>There's more…</h2></div></div></div><p>The<a class="indexterm" id="id203"/> Raspbian Linux distribution, like most operating system distributions for the Raspberry Pi, is organized as a <a class="indexterm" id="id204"/>collection of software packages. Each software package contains one or more applications with their configuration files and support libraries. Each package is also labeled with its current version and its dependency on other software packages. The <span class="strong"><strong>Advanced Package Tool</strong></span> (<code class="literal">apt</code>) and <a class="indexterm" id="id205"/>its supporting utilities, such as <code class="literal">apt-get</code>, are used to manage the software packages of the Raspbian Linux distribution.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec93"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>apt – Advance Package Tool </strong></span>(<a class="ulink" href="http://manpages.debian.net/cgi-bin/man.cgi?query=apt">http://manpages.debian.net/cgi-bin/man.cgi?query=apt</a>): This is the Debian<a class="indexterm" id="id206"/> manual page for <code class="literal">apt</code>.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>apt-get – APT package handling</strong></span> (<a class="ulink" href="http://manpages.debian.net/cgi-bin/man.cgi?query=apt-get">http://manpages.debian.net/cgi-bin/man.cgi?query=apt-get</a>): This is the Debian <a class="indexterm" id="id207"/>man-page for <code class="literal">apt-get</code>.</li></ul></div></div></div>
<div class="section" title="Upgrading Raspbian from wheezy to jessie using sources.list"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec30"/>Upgrading Raspbian from wheezy to jessie  using sources.list</h1></div></div></div><p>This<a class="indexterm" id="id208"/> recipe shows how to upgrade the Raspberry Pi 2 from the <code class="literal">jessie</code> version of the Raspbian Linux distribution to the <code class="literal">stretch</code> version.</p><p>Currently, there are three versions of the Raspbian operating system distribution that are available for the Raspberry Pi 2, namely <code class="literal">wheezy</code>, <code class="literal">jessie</code>, and <code class="literal">stretch</code>. The source of these <a class="indexterm" id="id209"/>distributions is located at <a class="ulink" href="http://mirrordirector.raspbian.org/raspbian">http://mirrordirector.raspbian.org/raspbian</a>.</p><p>The <code class="literal">wheezy</code> distribution is based on Debian 7, <code class="literal">jessie</code> is based on Debian 8, and <code class="literal">stretch</code> is based on Debian 9. The current <code class="literal">stable</code> version is <code class="literal">jessie</code>. The default <code class="literal">wheezy</code> version is considered to be the <code class="literal">oldstable</code> release. The next planned release, <code class="literal">testing</code>, is <code class="literal">stretch</code>.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="tip02"/>Tip</h3><p>If you are planning on upgrading an operating system from one version to another, which includes upgrading from <code class="literal">jessie</code> to <code class="literal">stretch</code>, you should do so before installing another software package, as this will greatly simplify the overall upgrade.</p></div></div><p>The Raspberry Pi Foundation provides default images for both the <code class="literal">wheezy</code> and <code class="literal">jessie</code> versions of the operating system. The instructions in this recipe are for when you would like to keep your existing <code class="literal">wheezy</code> configuration but try upgrading to <code class="literal">jessie</code>. Alternatively, these instructions can be used when you would like to try out <code class="literal">stretch</code>, the next release of the Raspbian operating system.</p><p>Raspbian does<a class="indexterm" id="id210"/> not currently have a tool to upgrade a version of the operating system distribution. The only way to upgrade from one version to another, such as upgrading from <code class="literal">wheezy</code> to <code class="literal">jessie</code> (that is, from <code class="literal">old stable</code> to <code class="literal">stable</code>), is to follow the instructions in this recipe.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note12"/>Note</h3><p>This upgrade will modify more than a thousand software packages. The upgrade requires at least 4 hours!</p></div></div><p>Upgrading an operating system from one version to another is risky. Interrupting a version upgrade can leave the system in an unstable state. However, you may find the risk worthwhile if you would like to try out the newest operating features or upgrade an already configured operating system.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note13"/>Note</h3><p>There is not enough room to finish on an SD card smaller than 8 GB. It will take longer if you have installed additional packages before upgrading.</p></div></div><p>After completing this recipe, you will have upgraded Raspbian from one version to another: from <code class="literal">wheezy</code> to <code class="literal">jessie</code>, or from <code class="literal">jessie</code> to <code class="literal">stretch</code>.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec94"/>Getting ready</h2></div></div></div><p>Ingredients:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">You require an <span class="emphasis"><em>Initial Setup</em></span> or a <span class="emphasis"><em>Basic Networking</em></span> setup for the Raspberry Pi that has been powered on. You also need to be logged in as the user whose username is <code class="literal">pi</code> (have a look at the recipes in <a class="link" href="ch01.html" title="Chapter 1. Installation and Setup">Chapter 1</a>, <span class="emphasis"><em>Installation and Setup</em></span> to learn how to boot and log in and the recipes in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span> to understand how to log in remotely).</li><li class="listitem" style="list-style-type: disc">A network connection is also required.</li></ul></div><p>The Raspberry Pi will need access to the Internet to reach the update server(s) from which it will pull software updates and security fixes.</p><p>If the Raspberry Pi has remote access enabled, this recipe can be completed remotely using <code class="literal">ssh</code> or PuTTY (take a look at the <span class="emphasis"><em>Remote access</em></span> recipes in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span>).</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note14"/>Note</h3><p>This recipe uses the <code class="literal">vi</code> text editor to modify configuration files. Some other text editor can be used instead. Another editor that is available on the Raspberry Pi is the <code class="literal">nano</code> text editor.</p><p>A documentation on the use of editors can be found in the editors themselves (type <span class="strong"><strong>:help</strong></span> in <code class="literal">vi</code> or press <span class="strong"><strong>&lt;ctrl-g&gt;</strong></span> in <code class="literal">nano</code> to get help).</p></div></div></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec95"/>How to do it...</h2></div></div></div><p>Perform<a class="indexterm" id="id211"/> the following steps to upgrade Raspbian Linux from one version to another:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Log in to the Raspberry Pi either directly or remotely.</li><li class="listitem">Use vi (or another editor) to modify <code class="literal">/etc/apt/sources.list</code>. For an upgrade from wheezy to jessie, change the value in the third field of each line from wheezy to jessie. For an upgrade from jessie to <code class="literal">stretch</code>, change the value in the third field to <code class="literal">stretch</code>, as follows:<div class="informalexample"><pre class="programlisting">pi@raspberrypi:~$ <span class="strong"><strong>sudo vi /etc/apt/sources.list</strong></span>

deb http://mirrordirector.raspbian.org/raspbian/ stretch main contrib non-free rpi
# Uncomment line below then 'apt-get update' to enable 'apt-get source'
#deb-src http://archive.raspbian.org/raspbian/ stretch main contrib non-free rpi
~                                                                               
~                                                                               
~                                                                               
"/etc/apt/sources.list" 3 lines, 234 characters</pre></div></li><li class="listitem">Use <code class="literal">vi</code> (or another editor) to modify <code class="literal">/etc/apt/sources.list.d/raspi.list</code>. For an upgrade from <code class="literal">wheezy</code> to <code class="literal">jessie</code>, change the value in the third field of each line from <code class="literal">wheezy</code> to <code class="literal">jessie</code>. For an upgrade from <code class="literal">jessie</code> to <code class="literal">stretch</code>, <span class="emphasis"><em>do not change this file this time</em></span>:<div class="informalexample"><pre class="programlisting">pi@raspberrypi:~$ <span class="strong"><strong>sudo vi /etc/apt/sources.list.d/raspi.list</strong></span>

deb http://archive.raspberrypi.org/debian/ jessie main
# Uncomment line below then 'apt-get update' to enable 'apt-get source'
#deb-src http://archive.raspberrypi.org/debian/ jessie main
~                                                                               
~                                                                               
~                                                                               
"/etc/apt/sources.list.d/raspi.list" 3 lines, 187 characters</pre></div></li><li class="listitem">If you are upgrading from <code class="literal">wheezy</code> to <code class="literal">jessie</code>, use the <code class="literal">rm</code> command to remove the <code class="literal">collabora.list</code> configuration file. If you are upgrading from <code class="literal">jessie</code> to <code class="literal">stretch</code>, this file does not exist. Therefore, you need to <span class="emphasis"><em>skip this step</em></span>:<div class="informalexample"><pre class="programlisting">pi@raspberrypi ~ $ <span class="strong"><strong>sudo rm /etc/apt/sources.list.d/collabora.list </strong></span>

pi@raspberrypi ~ $ </pre></div></li><li class="listitem">Now, update the operating system, as described in the previous recipe (<span class="emphasis"><em>Updating the operating system</em></span>).<div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="tip03"/>Tip</h3><p>Be aware of the fact that this update can take longer than 4 hours!</p></div></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec96"/>How it works...</h2></div></div></div><p>After logging<a class="indexterm" id="id212"/> in to the Raspberry Pi, the <code class="literal">sources.list</code> configuration for <code class="literal">apt</code> is changed.</p><p>The <code class="literal">/etc/apt/sources.list</code> file is modified so that it references the next version of Debian. For example, it is changed to <code class="literal">jessie</code> if the previous version is <code class="literal">wheezy</code>, and it is changed to <code class="literal">stretch</code> if the previous version is <code class="literal">jessie</code>.</p><p>The <code class="literal">/etc/apt/sources.list.d/raspi.list</code> file is only modified if the previous version is <code class="literal">wheezy</code>. The file should reference the Debian version, that is, <code class="literal">jessie</code> even if you are upgrading to <code class="literal">stretch</code>.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note15"/>Note</h3><p>At the time of writing this book, if you are upgrading from <code class="literal">jessie</code> to <code class="literal">stretch</code>, the <code class="literal">raspi.list</code> file requires no change. If you are using this recipe after <a class="indexterm" id="id213"/>Spring 2016, you'll need to check out the Debian repository at <a class="ulink" href="http://archive.raspberrypi.org/debian/dists/">http://archive.raspberrypi.org/debian/dists/</a> to check whether there is a <code class="literal">stretch</code> distribution folder. If there is a folder, update the third field of this file to <code class="literal">stretch</code>.</p></div></div><p>When upgrading from <code class="literal">wheezy</code> to <code class="literal">jessie</code>, the <code class="literal">collabora.list</code> configuration file is removed using the <code class="literal">rm</code> command. This file does not exist for the <code class="literal">jessie</code> version of the Raspbian operating system. Hence, this step can be skipped.</p><p>After the sources are changed, the previous recipe (<span class="emphasis"><em>Updating the operating system</em></span>) is used to update the operating system.</p></div><div class="section" title="There's more…"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec97"/>There's more…</h2></div></div></div><p>The <code class="literal">apt-get update</code> command is used to fetch the current software catalogs from the software distribution sites that are configured in the <code class="literal">/etc/apt/sources.list</code> file and those configured in the files located in the /<code class="literal">etc/apt/sources.list.d</code> directory.</p><div class="section" title="The sources.list and sources.list.d"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec20"/>The sources.list and sources.list.d</h3></div></div></div><p>The <code class="literal">sources.list</code> file located in the <code class="literal">/etc/apt</code> directory points to the base operating system <a class="indexterm" id="id214"/>distribution from <code class="literal">raspbian.org</code>, and the files (<code class="literal">raspi.list</code>) located<a class="indexterm" id="id215"/> in the <code class="literal">/etc/apt/sources.list.d</code> directory point to the location of the additional Raspberry Pi packages.</p><p>In the following terminal session, the content of the source files for the <code class="literal">wheezy</code> version of the Raspbian Linux distribution are displayed using the <code class="literal">cat</code> command:</p><div class="informalexample"><pre class="programlisting">pi@raspberrypi ~ $ <span class="strong"><strong>cat /etc/apt/sources.list</strong></span>

deb http://mirrordirector.raspbian.org/raspbian/ wheezy main contrib non-free rpi
# Uncomment line below then 'apt-get update' to enable 'apt-get source'
#deb-src http://archive.raspbian.org/raspbian/ wheezy main contrib non-free rpi

pi@raspberrypi ~ $ <span class="strong"><strong>ls /etc/apt/sources.list.d/</strong></span>

collabora.list  raspi.list

pi@raspberrypi ~ $ <span class="strong"><strong>cat /etc/apt/sources.list.d/collabora.list </strong></span>

deb http://raspberrypi.collabora.com wheezy rpi

pi@raspberrypi ~ $ <span class="strong"><strong>cat /etc/apt/sources.list.d/raspi.list </strong></span>

deb http://archive.raspberrypi.org/debian/ wheezy main
# Uncomment line below then 'apt-get update' to enable 'apt-get source'
#deb-src http://archive.raspberrypi.org/debian/ wheezy main

pi@raspberrypi ~ $ </pre></div><p>Each of these configuration files describe the location of one or more software package repositories. The most preferred repository is listed first in each file. The entire <code class="literal">sources.list</code> file is preferred over the files in the <code class="literal">sources.list.d</code> directory.</p></div><div class="section" title="The sources.list file format"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec21"/>The sources.list file format</h3></div></div></div><p>The file <a class="indexterm" id="id216"/>format for each of these files is simple. Each line of the file describes a single collection of packages within a software distribution repository, providing the type of collection, the name of the collection, and the location of the collection's packages.</p><p>The first item in each line defines the type of the collection. For Debian-based distributions, such as the Raspbian Linux distribution, the definition is either <code class="literal">deb</code> or <code class="literal">deb-src</code>. The <code class="literal">deb-src</code> catalogs include source code as well as compiled binaries.</p><p>The second item in each line is the location of the root of the software distribution repository. The <code class="literal">sources.list</code> file points to the root of the <code class="literal">raspbian</code> operating system distribution that is located on the <code class="literal">mirrordirector.raspbian.org</code> website. The <code class="literal">collabora.list</code> file points to the software packages provided by Collabora that are located at the <code class="literal">raspberrypi.collabora.com</code> website. Furthermore, the <code class="literal">raspi.list</code> file points to the additional Raspberry Pi-specific packages that are provided by the Raspberry Pi Foundation and which are located on the <code class="literal">archive.raspberrypi.org</code> website.</p><p>The third item in <a class="indexterm" id="id217"/>each line is the name of the Debian operating system version that you want to use. All files should specify the same version. At the time of writing this book, <code class="literal">jessie</code> is considered the current stable release of Debian. A new release, named <code class="literal">stretch</code>, will soon be available.</p><p>The remainder of the line is a list of distribution components. The configuration file for the base distribution, which is named <code class="literal">source.list</code>, points to the Raspbian Linux distribution and has a number of components defined. Each of the secondary configuration files, namely <code class="literal">collabra.list</code> and <code class="literal">raspi.list</code>, points to a smaller distribution of Raspberry Pi-specific packages. Each secondary configuration file has only one component, namely <code class="literal">rpi</code> for <code class="literal">collabra.list</code> and <code class="literal">main</code> for <code class="literal">raspi.list</code>.</p><p>The <a class="indexterm" id="id218"/>standard package collections for the Debian operating system are as follows:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">main</code>: This is the base distribution that is supported by the core team</li><li class="listitem" style="list-style-type: disc"><code class="literal">contrib</code>: This contains the packages that are contributed to Debian but are supported outside of the core team</li><li class="listitem" style="list-style-type: disc"><code class="literal">non-free</code>: This contains the packages that are not open source or have some rights restrictions and are also supported outside of the core team</li><li class="listitem" style="list-style-type: disc"><code class="literal">rpi</code>: This contains Raspberry Pi-specific packages that are supported by the Raspberry Pi community</li><li class="listitem" style="list-style-type: disc"><code class="literal">rpi2</code>: This contains the Raspberry Pi packages that are specific to the new Raspberry Pi 2 chipset and which are supported by the Raspberry Pi community</li></ul></div></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec98"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>sources.list – Package resource list for APT</strong></span> (<a class="ulink" href="http://manpages.debian.net/cgi-bin/man.cgi?query=sources.list">http://manpages.debian.net/cgi-bin/man.cgi?query=sources.list</a>) The Debian man-page for <code class="literal">sources.list</code> describes<a class="indexterm" id="id219"/> the format of the configuration file.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>vim – VI improved</strong></span> (<a class="ulink" href="http://manpages.debian.net/cgi-bin/man.cgi?query=vi">http://manpages.debian.net/cgi-bin/man.cgi?query=vi</a>): The Debian man-page for <code class="literal">vi</code> describes the basic use <a class="indexterm" id="id220"/>of the text editor.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>cat – concatenate files and print on the standard output </strong></span>(<a class="ulink" href="http://manpages.debian.net/cgi-bin/man.cgi?query=cat">http://manpages.debian.net/cgi-bin/man.cgi?query=cat</a>): The Debian<a class="indexterm" id="id221"/> man-page for cat describes how to print files to the standard output.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Debian – the universal operating system</strong></span> (<a class="ulink" href="https://www.debian.org/">https://www.debian.org/</a>): The<a class="indexterm" id="id222"/> Raspbian Linux operating system distribution is based on Debian.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Debian releases</strong></span> (<a class="ulink" href="https://www.debian.org/releases/">https://www.debian.org/releases/</a>): The naming convention <a class="indexterm" id="id223"/>for Debian releases is explained here.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Raspberry Pi Foundation Forum</strong></span>s (<a class="ulink" href="https://www.raspberrypi.org/forums/">https://www.raspberrypi.org/forums/</a>): You can report a bug, an error, or <a class="indexterm" id="id224"/>other software deficiency, or<a class="indexterm" id="id225"/> suggest an improvement on one of the Raspberry Pi Foundation's forums.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Pidora is Fedora Remix optimized for the Raspberry Pi</strong></span> (<a class="ulink" href="http://pidora.ca/">http://pidora.ca/</a>): Pidora is not a Debian-based operating system. It is based <a class="indexterm" id="id226"/>on Fedora, which is an open source version of the Red Hat Linux enterprise distribution.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>RISC OS – a fast and easily customizable operating system for ARM devices </strong></span>(<a class="ulink" href="https://www.riscosopen.org/content/">https://www.riscosopen.org/content/</a>): RISC OS is the original <a class="indexterm" id="id227"/>operating system for ARM devices that was designed in the 1980s.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>Collabora  (</strong></span><a class="ulink" href="https://www.collabora.com/">https://www.collabora.com/</a>): Collabora supports a number<a class="indexterm" id="id228"/> of open source projects, including contributions that are specifically for the Raspberry Pi.</li></ul></div></div></div>
<div class="section" title="Searching for software packages (apt-cache)"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec31"/>Searching for software packages (apt-cache)</h1></div></div></div><p>This recipe shows how to search for software packages using <code class="literal">apt-cache</code>.</p><p>The <a class="indexterm" id="id229"/>complete software catalog of the <a class="indexterm" id="id230"/>Raspbian Linux distribution contains a large number of prebuilt software packages that are ready to be downloaded and installed. With the <code class="literal">apt-cache</code> command, this large software catalog can be searched by using keywords.</p><p>This recipe specifically searches for the keyword "fortune" in the names of all the software packages of the Raspbian Linux distribution. Searches can be made for other software packages by replacing the "fortune" keyword with keywords that interest you.</p><p>After you've completed this recipe, you will be able to locate software packages by searching for keywords using the <code class="literal">apt-cache search</code> command.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec99"/>Getting ready</h2></div></div></div><p>Ingredients:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">You will need an <span class="emphasis"><em>Initial Setup</em></span> or a <span class="emphasis"><em>Basic Networking</em></span> setup for the Raspberry Pi that has been powered on. You also need to log in as the user whose username is <code class="literal">pi</code> (see the recipes in <a class="link" href="ch01.html" title="Chapter 1. Installation and Setup">Chapter 1</a>, <span class="emphasis"><em>Installation and Setup</em></span> to learn how to boot and log in and the recipes in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span> to know how to log in remotely).</li><li class="listitem" style="list-style-type: disc">You will also require a network connection.</li></ul></div><p>The<a class="indexterm" id="id231"/> Raspberry Pi will need access to the<a class="indexterm" id="id232"/> Internet to reach the update server(s) from which it will pull software updates and security fixes.</p><p>If the Raspberry Pi has remote access enabled, this recipe can be completed remotely using <code class="literal">ssh</code> or PuTTY (see the <span class="emphasis"><em>Remote access</em></span> recipes in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span>).</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec100"/>How to do it...</h2></div></div></div><p>Perform the following steps to search the Raspbian Linux software packages:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Log in to the Raspberry Pi either directly or remotely.</li><li class="listitem">Use the <code class="literal">apt-get update</code> command to update the software catalog, as described in the first recipe of this chapter (<span class="emphasis"><em>Updating the operating system</em></span>), as follows:<div class="informalexample"><pre class="programlisting">pi@raspberrypi ~ $ <span class="strong"><strong>sudo apt-get update</strong></span></pre></div></li><li class="listitem">Execute the <code class="literal">apt-cache search -–names-only fortune</code> command. Searching the cache does not require super user privileges:<div class="informalexample"><pre class="programlisting">pi@raspberrypi ~ $ <span class="strong"><strong>apt-cache search -–names-only fortune</strong></span>

fortune-mod - provides fortune cookies on demand
fortunes - Data files containing fortune cookies
fortunes-min - Data files containing selected fortune cookies
fortunes-off - Data files containing offensive fortune cookies
fortune-zh - Chinese Data files for fortune
fortunes-bg - Bulgarian data files for fortune
fortunes-bofh-excuses - BOFH excuses for fortune
fortunes-br - Data files with fortune cookies in Portuguese
fortunes-cs - Czech and Slovak data files for fortune
fortunes-de - German data files for fortune
fortunes-debian-hints - Debian Hints for fortune
fortunes-eo - Collection of esperanto fortunes.
fortunes-eo-ascii - Collection of esperanto fortunes (ascii encoding).
fortunes-eo-iso3 - Collection of esperanto fortunes (ISO3 encoding).
fortunes-es - Spanish fortune database
fortunes-es-off - Spanish fortune cookies (Offensive section)
fortunes-fr - French fortunes cookies
fortunes-ga - Irish (Gaelige) data files for fortune
fortunes-it - Data files containing Italian fortune cookies
fortunes-it-off - Data files containing Italian fortune cookies, offensive section
fortunes-mario - Fortunes files from Mario
fortunes-pl - Polish data files for fortune
fortunes-ru - Russian data files for fortune
libfortune-perl - Perl module to read fortune (strfile) databases

golden@raspberrypi ~ $</pre></div></li><li class="listitem">The command displays a list of packages with <span class="strong"><strong>fortune</strong></span> in the package name.</li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec101"/>How it works...</h2></div></div></div><p>After logging in to the Raspberry Pi, the Raspbian Linux software catalog is updated using the first recipe in this chapter, namely <span class="emphasis"><em>Updating the operating system</em></span>.</p><p>Once the <a class="indexterm" id="id233"/>software catalog has been updated, the <code class="literal">apt-cache search</code> command is used to search the software catalog for software <a class="indexterm" id="id234"/>packages that have the <code class="literal">fortune</code> keyword in their names (<code class="literal">--names-only</code>).</p><p>One of the packages returned by the search, <span class="strong"><strong>fortune-mod</strong></span>, is a command-line utility that provides fortune cookies on demand.</p><p>The packages that begin with <span class="strong"><strong>fortunes-</strong></span> contain collections of fortunes that the <code class="literal">fortune</code> command-line utility selects from when displaying fortune cookies.</p></div><div class="section" title="There's more…"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec102"/>There's more…</h2></div></div></div><p>In this recipe, we searched the Raspbian Linux software catalog for packages that have the keyword "fortune" in their package names. The search was limited to the package names because the <code class="literal">–-names-only option</code> was specified. When the <code class="literal">apt-cache</code> command is run without the<code class="literal">–-names-only</code> option, the summaries of packages are also searched for the specified keyword.</p><p>The <code class="literal">apt-cache search</code> command takes a list of keywords as parameters. If more than one keyword is given, the results will be narrowed down to only those packages that contain all the keywords. Here is an example of how to search for German fortunes:</p><div class="informalexample"><pre class="programlisting">pi@raspberrypi:~$ <span class="strong"><strong>apt-cache search fortunes german</strong></span>

fortunes-de - German data files for fortune

pi@raspberrypi:~$</pre></div><p>Instructions on how to install the <code class="literal">fortune</code> package are in the next recipe.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec103"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>apt-cache – query the APT cache (</strong></span><a class="ulink" href="http://manpages.debian.net/cgi-bin/man.cgi?query=apt-cache">http://manpages.debian.net/cgi-bin/man.cgi?query=apt-cache</a>) The <code class="literal">apt-cache</code> command can generate interesting<a class="indexterm" id="id235"/> output from the metadata in the local cache of the Debian software catalog. The Debian man-page for <code class="literal">apt-cache</code> describes the command and its options.</li></ul></div></div></div>
<div class="section" title="Installing a package (apt-get)"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec32"/>Installing a package (apt-get)</h1></div></div></div><p>This recipe shows how new software packages are installed using the <code class="literal">apt-get install </code>command.</p><p>In<a class="indexterm" id="id236"/> addition to updating the software package catalog and <a class="indexterm" id="id237"/>upgrading the already installed software packages, the <code class="literal">apt-get</code> command can also be used to install new software packages.</p><p>In this recipe, the <code class="literal">fortune-mod</code> software package is installed using the <code class="literal">apt-get install</code> command. Other software packages can be installed using this same recipe; just replace the <code class="literal">fortune-mod</code> package with the software package that you would like to install.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="tip04"/>Tip</h3><p>It is always a good idea to first update the software catalog using the <code class="literal">apt-get update </code>command and then upgrade the existing software packages using the <code class="literal">apt-get dist-upgrade</code> command before you begin installing new software packages (go through the <span class="emphasis"><em>Updating the operating system</em></span> recipe for more information).</p></div></div><p>After completing this recipe, you will be able to install new software packages using the <code class="literal">apt-get install</code> command.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec104"/>Getting ready</h2></div></div></div><p>Ingredients:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">You require an <span class="emphasis"><em>Initial Setup</em></span> or a <span class="emphasis"><em>Basic Networking</em></span> setup for the Raspberry Pi that has been powered on. You also need to be logged in as the user whose username is <code class="literal">pi</code> (have a look at the recipes in <a class="link" href="ch01.html" title="Chapter 1. Installation and Setup">Chapter 1</a>, <span class="emphasis"><em>Installation and Setup</em></span> to know how to boot and log in and the recipes in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span> to learn how to log in remotely).</li><li class="listitem" style="list-style-type: disc">A network connection is also required.</li></ul></div><p>The Raspberry Pi will need access to the Internet to reach the update server(s) from which it will pull software updates and security fixes.</p><p>If the Raspberry Pi has remote access enabled, this recipe can be completed remotely using <code class="literal">ssh</code> or PuTTY (see the <span class="emphasis"><em>Remote access</em></span> recipes in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span>).</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec105"/>How to do it...</h2></div></div></div><p>Perform the following steps to install a software package:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Log in to the Raspberry Pi either directly or remotely.</li><li class="listitem">Use the <code class="literal">apt-get update</code> command to update the software catalog, as described in the first recipe of this chapter (<span class="emphasis"><em>Updating the operating system</em></span>):<div class="informalexample"><pre class="programlisting">golden@raspberrypi ~ $ sudo apt-get update</pre></div></li><li class="listitem">Use the <code class="literal">apt-get install –y</code> command to install the <code class="literal">fortune-mod</code> software package. The <code class="literal">–y</code> option for the command answers 'yes' automatically to all the installation questions:<div class="informalexample"><pre class="programlisting">golden@raspberrypi:~$ sudo apt-get install -y fortune-mod</pre></div></li><li class="listitem">The <a class="indexterm" id="id238"/>command calculates the package<a class="indexterm" id="id239"/> dependencies and the additional space that will be used by the package and its configuration files:<div class="informalexample"><pre class="programlisting">Reading package lists... Done
Building dependency tree       
Reading state information... Done
The following extra packages will be installed:
  fortunes-min librecode0
Suggested packages:
  fortunes x11-utils
The following NEW packages will be installed:
  fortune-mod fortunes-min librecode0
0 upgraded, 3 newly installed, 0 to remove and 0 not upgraded.
Need to get 599 kB of archives.
After this operation, 1,588 kB of additional disk space will be used.</pre></div></li><li class="listitem">The command then downloads the necessary software packages, namely <span class="strong"><strong>fortunes-mod</strong></span>, <span class="strong"><strong>fortunes-min</strong></span>, and <span class="strong"><strong>librecode0</strong></span>:<div class="informalexample"><pre class="programlisting">Get:1 http://ftp.debian.org/debian/ jessie/main librecode0 armhf 3.6-21 [477 kB]
Get:2 http://ftp.debian.org/debian/ jessie/main fortune-mod armhf 1:1.99.1-7 [47.4 kB]
Get:3 http://ftp.debian.org/debian/ jessie/main fortunes-min all 1:1.99.1-7 [74.3 kB]
Fetched 599 kB in 2s (252 kB/s)    </pre></div></li><li class="listitem">The downloaded files are unpacked and preconfigured:<div class="informalexample"><pre class="programlisting">Selecting previously unselected package librecode0:armhf.
(Reading database ... 19391 files and directories currently installed.)
Preparing to unpack .../librecode0_3.6-21_armhf.deb ...
Unpacking librecode0:armhf (3.6-21) ...
Selecting previously unselected package fortune-mod.
Preparing to unpack .../fortune-mod_1%3a1.99.1-7_armhf.deb ...
Unpacking fortune-mod (1:1.99.1-7) ...
Selecting previously unselected package fortunes-min.
Preparing to unpack .../fortunes-min_1%3a1.99.1-7_all.deb ...
Unpacking fortunes-min (1:1.99.1-7) ...</pre></div></li><li class="listitem">Then, the software packages and their dependencies are installed and the execution of command is completed:<div class="informalexample"><pre class="programlisting">Processing triggers for man-db (2.7.0.2-5) ...
Setting up librecode0:armhf (3.6-21) ...
Setting up fortune-mod (1:1.99.1-7) ...
Setting up fortunes-min (1:1.99.1-7) ...
Processing triggers for libc-bin (2.19-18) ...

golden@raspberrypi:~$ </pre></div></li><li class="listitem">Finally, the <code class="literal">fortune</code> command is tested to check whether it works:<div class="informalexample"><pre class="programlisting">golden@raspberrypi:~$ fortune

You single-handedly fought your way into this hopeless mess.

golden@raspberrypi:~$ fortune

Your best consolation is the hope that the things you failed to get weren't
really worth having.

golden@raspberrypi:~$ fortune

Q:	How many hardware engineers does it take to change a light bulb?
A:	None.  We'll fix it in software.

Q:	How many system programmers does it take to change a light bulb?
A:	None.  The application can work around it.

Q:	How many software engineers does it take to change a light bulb?
A:	None.  We'll document it in the manual.

Q:	How many tech writers does it take to change a light bulb?
A:	None.  The user can figure it out.

golden@raspberrypi:~$ </pre></div></li></ol></div></div><div class="section" title="How it works..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec106"/>How it works...</h2></div></div></div><p>After<a class="indexterm" id="id240"/> logging in to the Raspberry Pi, the Raspbian <a class="indexterm" id="id241"/>Linux software catalog is updated using the first recipe in <a class="link" href="ch03.html" title="Chapter 3. Maintenance">Chapter 3</a>, <span class="emphasis"><em>Updating the operating system</em></span>.</p><p>Once the software catalog is updated, the <code class="literal">fortune-mod</code> software package is installed using the <code class="literal">apt-get install</code> command.</p><p>The command first calculates the package dependencies, determining which other packages need to be installed prior to the installation of the <span class="strong"><strong>fortune-mod</strong></span> package.</p><p>The <code class="literal">apt-get install</code> command continues by downloading the <code class="literal">fortunes-mod</code> package and the two packages that it is dependent upon (<code class="literal">fortune-min</code> and <code class="literal">librecode0</code>).</p><p>Then, the command unpacks and preconfigures the three packages. Finally, the <code class="literal">apt-get install</code> command installs the software packages. After the installation is complete, the <code class="literal">fortune</code> command is tested.</p></div><div class="section" title="There's more…"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec107"/>There's more…</h2></div></div></div><p>The <code class="literal">apt-get install</code> command uses the same local software catalog as that of the <code class="literal">apt-cache search</code> command. Both commands rely on the <code class="literal">apt-get update</code> command to<a class="indexterm" id="id242"/> download the<a class="indexterm" id="id243"/> updated package information.</p></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec108"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>fortune – sample lines from a file</strong></span> (<a class="ulink" href="http://manpages.debian.net/cgi-bin/man.cgi?query=fortune">http://manpages.debian.net/cgi-bin/man.cgi?query=fortune</a>) The Debian man-page for the <code class="literal">fortune</code> command<a class="indexterm" id="id244"/> lists all of its options.</li></ul></div></div></div>
<div class="section" title="Package management (aptitude)"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec33"/>Package management (aptitude)</h1></div></div></div><p>This<a class="indexterm" id="id245"/> recipe uses the <code class="literal">aptitude</code> frontend to find and install the <code class="literal">pianobar</code> application.</p><p>There are a number of frontends for the Advance Package Tool (<code class="literal">apt</code>) that provide a feature-rich user interface. Behind the scenes, these frontends still call the <code class="literal">apt-get</code> command and the <code class="literal">apt-cache</code> command. However, they combine the functionality of all the <code class="literal">apt</code> tools into a single user interface.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="tip05"/>Tip</h3><p>If you do not already have the <code class="literal">aptitude</code> application installed on your Raspberry Pi, use the instructions in the previous recipe (<span class="emphasis"><em>Installing a package</em></span>) to install the <code class="literal">aptitude</code> software package and its dependencies.</p></div></div><p>After completing this recipe, you will be able to use the <code class="literal">aptitude</code> application to find and install software packages.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec109"/>Getting ready</h2></div></div></div><p>Ingredients:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">You require an <span class="emphasis"><em>Initial Setup</em></span> or a <span class="emphasis"><em>Basic Networking</em></span> setup for the Raspberry Pi that has been powered on. You also need to be logged in as the user whose username is <code class="literal">pi</code> (take a look at the recipes in <a class="link" href="ch01.html" title="Chapter 1. Installation and Setup">Chapter 1</a>, <span class="emphasis"><em>Installation and Setup</em></span> to learn how to boot and log in and the recipes in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span> to understand how to log in remotely)</li><li class="listitem" style="list-style-type: disc">A network connection is also required.</li></ul></div><p>The Raspberry Pi will need access to the Internet to reach the update server(s) from which it will pull new software packages, software updates, and security fixes.</p><p>If the<a class="indexterm" id="id246"/> Raspberry Pi has remote access enabled, this recipe can be completed remotely using <code class="literal">ssh</code> or PuTTY (take a look at the <span class="emphasis"><em>Remote access</em></span> recipes in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span>).</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec110"/>How to do it...</h2></div></div></div><p>Perform the following steps to manage software packages using <code class="literal">aptitude</code>:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Log in to the Raspberry Pi either directly or remotely.</li><li class="listitem">Execute the <code class="literal">aptitude</code> command. This command is privileged and needs to be run as a privileged user:<div class="informalexample"><pre class="programlisting">golden@raspberrypi:~$ sudo aptitude</pre></div></li><li class="listitem">The main screen of the <code class="literal">aptitude</code> application is displayed:<div class="informalexample"><pre class="programlisting">Actions  Undo  Package  Resolver  Search  Options  Views  Help
C-T: Menu  ?: Help  q: Quit  u: Update  g: Download/Install/Remove Pkgs
aptitude 0.6.11
--- New Packages (1)                                                            
--- Installed Packages (317)
--- Not Installed Packages (49041)
--- Virtual Packages (7075)
--- Tasks (216)

These packages have been added to Debian since the last time you cleared the   
list of "new" packages (choose "Forget new packages" from the Actions menu to  
empty this list).                                                              
                                                                               
This group contains 1 package.</pre></div></li><li class="listitem">Press <span class="strong"><strong>u</strong></span> to update the local software package catalogue cache. The screen then displays the status messages that are being downloaded.</li><li class="listitem">Type <span class="strong"><strong>/pianobar</strong></span> to search for the <code class="literal">pianobar</code> package. Then, press the <span class="strong"><strong>&lt;enter&gt;</strong></span> key to go to the first package that was found:<div class="informalexample"><pre class="programlisting">Actions  Undo  Package  Resolver  Search  Options  Views  Help
C-T: Menu  ?: Help  q: Quit  u: Update  g: Download/Install/Remove Pkgs
aptitude 0.6.11
p     pianobar-dbg                          &lt;none&gt;         2014.06.08-1+b
p     pianobooster-dbg                      &lt;none&gt;         0.6.4b-2
p     pidgin-dbg                            &lt;none&gt;         2.10.11-1
p     pidgin-microblog-dbg                  &lt;none&gt;         0.3.0-3
p     pidgin-mra-dbg                        &lt;none&gt;         20100304-1
p ┌───────────────────────────────────────────────────────────────────┐
p │Search for:                                                        │
p │pianobar                                                           │
co│              [ Ok ]                             [ Cancel ]        │
pi└─────────────────────────────────────────────────── ───────────────┘ 
Pandora, supporting all important features the official Flash™ client has:     
                                                                               
* Create, delete, rename stations and add more music                           
* Rate and temporary ban tracks as well as move them to another station        
* "Shared stations"                                                            </pre></div></li><li class="listitem">Press <span class="strong"><strong>n</strong></span> until the <span class="strong"><strong>pianobar</strong></span> package is selected. Each time the '<span class="strong"><strong>n</strong></span>' key is pressed, the search for the <code class="literal">pianobar</code> package <a class="indexterm" id="id247"/>continues to the next package. The search will loop past the last package that matches <code class="literal">pianobar</code> and continue with the first package that matches.</li><li class="listitem">Press <span class="strong"><strong>+</strong></span> to select the package for installation. The letter "i" appears next to the package name to indicate the package that has been selected for installation:<div class="informalexample"><pre class="programlisting">Actions  Undo  Package  Resolver  Search  Options  Views  Help
C-T: Menu  ?: Help  q: Quit  u: Update  g: Download/Install/Remove Pkgs
aptitude 0.6.11                 Will use 59.7 MB of disk space DL Size: 18.8 MB
pi    pianobar                           +119 kB   &lt;none&gt;         2014.06.08-1+b
p     picard                                       &lt;none&gt;         1.2-2+b8
p     plait                                        &lt;none&gt;         1.6.2-1
p     playmidi                                     &lt;none&gt;         2.4debian-10
p     pmidi                                        &lt;none&gt;         1.6.0-5
p     pms                                          &lt;none&gt;         0.42-1
p     poc-streamer                                 &lt;none&gt;         0.4.2-3
p     pocketsphinx                                 &lt;none&gt;         0.8-5
p     pocketsphinx-hmm-en-hub4wsj                  &lt;none&gt;         0.8-5
p     pocketsphinx-hmm-en-tidigits                 &lt;none&gt;         0.8-5
console based player for Pandora radio 
pianobar is a cross-platform console client for the personalized web radio     
Pandora, supporting all important features the official Flash™ client has:     
                                                                               
* Create, delete, rename stations and add more music                           
* Rate and temporary ban tracks as well as move them to another station        
* "Shared stations"                                                            </pre></div></li><li class="listitem">Press <span class="strong"><strong>g</strong></span> to preview the installation of the selected package(s). The list of dependent packages is displayed:<div class="informalexample"><pre class="programlisting">Actions  Undo  Package  Resolver  Search  Options  Views  Help
C-T: Menu  ?: Help  q: Quit  u: Update  g: Download/Install/Remove Pkgs
                Packages                                Preview
aptitude 0.6.11                 Will use 59.7 MB of disk space DL Size: 18.8 MB
--\ Packages being automatically installed to satisfy dependencies (55)         
piA  libao-common                        +49.2 kB  &lt;none&gt;         1.1.0-3       
piA  libao4                              +113 kB   &lt;none&gt;         1.1.0-3       
piA  libavcodec56                        +7,131 kB &lt;none&gt;         6:11.4-1~deb8u
piA  libavfilter5                        +324 kB   &lt;none&gt;         6:11.4-1~deb8u
piA  libavformat56                       +1,254 kB &lt;none&gt;         6:11.4-1~deb8u
piA  libavresample2                      +131 kB   &lt;none&gt;         6:11.4-1~deb8u
piA  libavutil54                         +226 kB   &lt;none&gt;         6:11.4-1~deb8u
piA  libdrm-freedreno1                   +75.8 kB  &lt;none&gt;         2.4.58-2      
piA  libdrm-nouveau2                     +84.0 kB  &lt;none&gt;         2.4.58-2      </pre></div><div class="informalexample"><pre class="programlisting">These packages are being installed because they are required by another package
you have chosen for installation.                                              
                                                                               
This group contains 55 packages.                                               
                                                                               
If you select a package, an explanation of its current state will appear in this space.</pre></div></li><li class="listitem">Press <span class="strong"><strong>g</strong></span> a second time to complete the installation.</li><li class="listitem">The <code class="literal">aptitude</code> application downloads the selected software package, <span class="strong"><strong>pianobar</strong></span>, and its dependencies. Then, it clears the screen and runs the <code class="literal">apt-get install</code> command to complete the installation. Press the <span class="strong"><strong>&lt;enter&gt;</strong></span> key after the installation is complete to return to <code class="literal">aptitude</code>:<div class="informalexample"><pre class="programlisting">Setting up libao-common (1.1.0-3) ...
Setting up libao4 (1.1.0-3) ...
Setting up pianobar (2014.06.08-1+b1) ...
Setting up va-driver-all:armhf (1.4.1-1) ...
Processing triggers for libc-bin (2.19-18) ...
Processing triggers for systemd (215-17+deb8u1) ...
Press Return to continue.</pre></div></li><li class="listitem">After returning to <code class="literal">aptitude</code>, press <span class="strong"><strong>q</strong></span> and then <span class="strong"><strong>y</strong></span> to quit.</li></ol></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec111"/>How it works…</h2></div></div></div><p>After logging in to the Raspberry Pi, the <code class="literal">aptitude</code> application is started.</p><p>When<a class="indexterm" id="id248"/> the <code class="literal">aptitude</code> application is started, the application first takes a moment to initialize and then the application's main screen is displayed.</p><p>The main screen has a toolbar at the top of the screen with a list of menu items, a list of common commands (including <span class="strong"><strong>?: Help</strong></span> and <span class="strong"><strong>q: Quit</strong></span> – press '<span class="strong"><strong>?</strong></span>' for help and '<span class="strong"><strong>q</strong></span>' to quit), and the version of the application, which is <span class="strong"><strong>aptitude 0.6.11</strong></span>.</p><p>The application is navigated and controlled using the following command keys:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">For help using the application, press <span class="strong"><strong>?</strong></span> (question mark)</li><li class="listitem" style="list-style-type: disc">Navigate the packages using the arrow keys</li><li class="listitem" style="list-style-type: disc">Update the package cache by pressing <span class="strong"><strong>u</strong></span> (the lowercase letter u)</li><li class="listitem" style="list-style-type: disc">Select the updated packages by pressing <span class="strong"><strong>U</strong></span> (the uppercase letter U)</li><li class="listitem" style="list-style-type: disc">Search for packages by pressing <span class="strong"><strong>/</strong></span> (slash)</li><li class="listitem" style="list-style-type: disc">To go to the next package that was found, press <span class="strong"><strong>n</strong></span> (the lowercase letter n)</li><li class="listitem" style="list-style-type: disc">To go to the previous package that was found, press <span class="strong"><strong>p</strong></span> (the lowercase letter p)</li><li class="listitem" style="list-style-type: disc">Select individual packages by pressing <span class="strong"><strong>+</strong></span> (plus) to select; press <span class="strong"><strong>-</strong></span> (minus) to deselect the highlighted package</li><li class="listitem" style="list-style-type: disc">Install the selected packages by pressing <span class="strong"><strong>g</strong></span> (the lowercase letter g)</li><li class="listitem" style="list-style-type: disc">Activate the menus by pressing <span class="strong"><strong>&lt;ctrl-T&gt;</strong></span></li><li class="listitem" style="list-style-type: disc">Quit the application by pressing <span class="strong"><strong>q</strong></span></li></ul></div><p>After the application has finished initializing, press <span class="strong"><strong>u</strong></span> (the lowercase letter u) to update the package cache. The <span class="strong"><strong>Downloading</strong></span> status messages are displayed as the local software package cache is downloaded and updated.</p><p>After the cache update is complete, type <span class="strong"><strong>/pianobar</strong></span>. Pressing <span class="strong"><strong>/</strong></span> starts the search mode, and <span class="strong"><strong>pianobar</strong></span> is the search string. As the search string is typed, aptitude incrementally searches for the string. Press the <span class="strong"><strong>&lt;enter&gt;</strong></span> key to complete the search phrase and select the first package that is found.</p><p>If <a class="indexterm" id="id249"/>the <span class="strong"><strong>pianobar</strong></span> package is not selected, press <span class="strong"><strong>n</strong></span> to go to the next package that matches the search string, or press <span class="strong"><strong>p</strong></span> to go to the previous package that matches the search string.</p><p>When the <span class="strong"><strong>pianobar</strong></span> package is selected, press <span class="strong"><strong>+</strong></span> to select the package. If you have incorrectly selected a package, press <span class="strong"><strong>-</strong></span> to deselect the package.</p><p>With the <span class="strong"><strong>pianobar</strong></span> package selected, press <span class="strong"><strong>g</strong></span> to calculate the dependent packages and prepare the installation of the selected package and its dependents.</p><p>Press <span class="strong"><strong>g</strong></span> once again to install the <span class="strong"><strong>pianobar</strong></span> package and its dependents. The <span class="strong"><strong>aptitude</strong></span> application then starts the <span class="strong"><strong>apt-get install</strong></span> command and begins installing the <span class="strong"><strong>pianobar</strong></span> package and its dependents.</p><p>The display fills with installation messages from the <code class="literal">apt-get install</code> command (refer to the <span class="emphasis"><em>Installing a package</em></span> recipe for more information about the <code class="literal">apt-get install</code> command). When the installation is complete, you will be asked to <span class="strong"><strong>Press Return to continue</strong></span>, press the <span class="strong"><strong>&lt;enter&gt;</strong></span> key to continue.</p><p>Finally, press <span class="strong"><strong>q</strong></span> to quit the <span class="strong"><strong>aptitude</strong></span> application and <span class="strong"><strong>y</strong></span> to accept that you are quitting.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="tip06"/>Tip</h3><p>Although it's not always necessary, rebooting after an installation is always a good idea. This can be done by using the following command:</p><p><code class="literal">sudo reboot</code></p></div></div></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec112"/>There's more...</h2></div></div></div><p>The <code class="literal">aptitude</code> software package manager is a software application that combines the functionality of the <code class="literal">apt-cache</code> and <code class="literal">apt-get</code> commands with a sophisticated terminal user interface that can still be used remotely with commands such as <code class="literal">ssh</code>.</p><p>The terminal-based user interface provided by the <code class="literal">aptitude</code> application simplifies searching for and installing software packages. By using simple keystrokes, software packages can be located, installed, and updated.</p><p>The <code class="literal">aptitude</code> application's terminal user interface is useful for interactive use. However, a <a class="indexterm" id="id250"/>command-line interface will be better for scripts and automation.</p><div class="section" title="The command line interface"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec22"/>The command line interface</h3></div></div></div><p>The <code class="literal">aptitude</code> application also has a set of commands that can be used as an alternative frontend<a class="indexterm" id="id251"/> to the functionality provided by the <code class="literal">apt-cache</code> and <code class="literal">apt-get</code> commands (refer to the recipes named <span class="emphasis"><em>Searching for software packages</em></span> and <span class="emphasis"><em>Installing a package </em></span>for instructions on using the <code class="literal">apt-cache</code> and <code class="literal">apt-get</code> commands to locate and install software packages).</p><p>The <code class="literal">aptitude update</code> command can be used to update the software package catalog. It provides the same functionality that the <code class="literal">apt-get update</code> command provides:</p><div class="informalexample"><pre class="programlisting">pi@raspberrypi ~ $ <span class="strong"><strong>sudo aptitude update</strong></span>

Hit http://archive.raspberrypi.org jessie InRelease
Hit http://mirrordirector.raspbian.org stretch InRelease
Hit http://archive.raspberrypi.org jessie/main Sources

...</pre></div><p>The <code class="literal">aptitude full-upgrade</code> command can be used to fully upgrade the already installed software packages. It provides a functionality that is similar to that of the <code class="literal">apt-get dist-upgrade</code> command:</p><div class="informalexample"><pre class="programlisting">pi@raspberrypi ~ $ <span class="strong"><strong>sudo aptitude full-upgrade</strong></span>

The following NEW packages will be installed:
  raspberrypi-sys-mods{a} 
The following packages will be upgraded:
  bluej dhcpcd5 epiphany-browser epiphany-browser-data fonts-opensymbol 
  gir1.2-gdkpixbuf-2.0 gir1.2-gtk-3.0 gstreamer1.0-omx krb5-locales 
  libfreetype6 libfreetype6-dev libgdk-pixbuf2.0-0 libgdk-pixbuf2.0-common 

...</pre></div><p>The <code class="literal">aptitude search</code> command can be used to search for software packages, as follows:</p><div class="informalexample"><pre class="programlisting">pi@raspberrypi ~ $ <span class="strong"><strong>sudo aptitude search pianobar</strong></span>

p   pianobar                        - console based player for Pandora radio    
p   pianobar-dbg                    - console based player for Pandora radio - d

pi@raspberrypi ~ $ </pre></div><p>The <code class="literal">aptitude install</code> command is used to install software packages. This is the same functionality as that of the <code class="literal">apt-get install</code> command:</p><div class="informalexample"><pre class="programlisting">pi@raspberrypi ~ $ <span class="strong"><strong>sudo aptitude install pianobar</strong></span>

The following NEW packages will be installed:
  libao-common{a} libao4{a} libavfilter5{a} libpiano0{a} pianobar 
0 packages upgraded, 5 newly installed, 0 to remove and 0 not upgraded.
Need to get 246 kB of archives. After unpacking 546 kB will be used.
Do you want to continue? [Y/n/?] 

...</pre></div><p>More information on the command-line use of the <code class="literal">aptitude</code> software package manager can be<a class="indexterm" id="id252"/> found in the <code class="literal">aptitude</code> manual pages (<code class="literal">man aptitude</code>).</p></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec113"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>aptitude – high-level interface to the package manage</strong></span>r (<a class="ulink" href="http://manpages.debian.net/cgi-bin/man.cgi?query=aptitude">http://manpages.debian.net/cgi-bin/man.cgi?query=aptitude</a>) The<a class="indexterm" id="id253"/> Debian man-page for <code class="literal">aptitude</code> has details about the command and its options.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>pianobar – personalized online radio client</strong></span> (<a class="ulink" href="http://6xq.net/projects/pianobar/">http://6xq.net/projects/pianobar/</a>) The <code class="literal">pianobar</code> application is an<a class="indexterm" id="id254"/> open source, console-based client for Pandora.</li></ul></div></div></div>
<div class="section" title="Reading the built-in documentation (man)"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec34"/>Reading the built-in documentation (man)</h1></div></div></div><p>This<a class="indexterm" id="id255"/> recipe shows how the <code class="literal">man</code> command can be used to display built-in documentation.</p><p>The <a class="indexterm" id="id256"/>Raspbian Linux distribution comes with a large amount of local documentation that is built into the system. There are three primary sources of built-in documentation, namely the man-pages, the <code class="literal">Info</code> documents, and the <code class="literal">/usr/share/docs</code> directory. </p><p>This recipe uses the <code class="literal">man</code> command to display the man-page documentation for the <code class="literal">fortune</code> command.</p><p>The next recipe in this chapter shows how to use the <code class="literal">info</code> command to navigate through documentation stored as info-pages.</p><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="note16"/>Note</h3><p>Instructions to install the <code class="literal">fortune</code> command can be found in the recipe named <span class="emphasis"><em>Installing a package</em></span> that was discussed earlier in this chapter.</p></div></div><p>After completing this recipe, you will able to use the <code class="literal">man</code> command to read the man-page documentation, which is a built-in feature of the Raspbian Linux distribution.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec114"/>Getting ready</h2></div></div></div><p>Ingredients:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">You need an <span class="emphasis"><em>Initial Setup</em></span> or a <span class="emphasis"><em>Basic Networking</em></span> setup for the Raspberry Pi that has been powered on. You also need to be logged in as the user whose username is <code class="literal">pi</code> (refer to the recipes in <a class="link" href="ch01.html" title="Chapter 1. Installation and Setup">Chapter 1</a>, <span class="emphasis"><em>Installation and Setup</em></span> to know how to boot and log in and the recipes in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span> to learn how to log in remotely).</li><li class="listitem" style="list-style-type: disc">A network connection is an optional requirement.</li></ul></div><p>The<a class="indexterm" id="id257"/> Raspberry Pi does not <a class="indexterm" id="id258"/>need access to the Internet for this application.</p><p>If the Raspberry Pi has remote access enabled, this recipe can be completed remotely using <code class="literal">ssh</code> or PuTTY (see the <span class="emphasis"><em>Remote access</em></span> recipes in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span>).</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec115"/>How to do it...</h2></div></div></div><p>Perform the following steps to read the built-in documentation using <code class="literal">man</code>:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Log in to the Raspberry Pi either directly or remotely.</li><li class="listitem">Execute the <code class="literal">man</code> command to read the built-in documentation for the <code class="literal">fortune</code> command:<div class="informalexample"><pre class="programlisting">pi@raspberrypi:~$ <span class="strong"><strong>man fortune</strong></span></pre></div></li><li class="listitem">The man-page for the fortune command is displayed, which looks like this:<div class="informalexample"><pre class="programlisting">FORTUNE(6)                   UNIX Reference Manual                  FORTUNE(6)

NAME
       fortune - print a random, hopefully interesting, adage

SYNOPSIS
       fortune [-acefilosuw] [-n length] [ -m pattern] [[n%] file/dir/all]

DESCRIPTION
       When  fortune  is run with no arguments it prints out a random epigram.
       Epigrams are divided into several categories, where  each  category  is
       sub-divided  into those which are potentially offensive and those which
       are not.

   Options
       The options are as follows:

       -a     Choose from all lists of maxims, both offensive and  not.   (See
              the -o option for more information on offensive fortunes.)

       -c     Show the cookie file from which the fortune came.

       -e     Consider  all  fortune files to be of equal size (see discussion
              below on multiple files).

 Manual page fortune(6) line 1 (press h for help or q to quit)</pre></div></li><li class="listitem">Press <span class="strong"><strong>&lt;space&gt;</strong></span> to page through the manual. Press <span class="strong"><strong>h</strong></span> for a list of the key commands used for reading and searching. Press <span class="strong"><strong>q</strong></span> to quit reading the man-page.</li></ol></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec116"/>How it works…</h2></div></div></div><p>After logging in to the Raspberry Pi, the <code class="literal">man</code> command is used to display the built-in documentation for the <code class="literal">fortune</code> command.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec117"/>There's more...</h2></div></div></div><p>Most <a class="indexterm" id="id259"/>command-line utilities <a class="indexterm" id="id260"/>have a man-page. There are man-pages for configuration files and software libraries too. All the man-pages can be accessed via the <code class="literal">man</code> command.</p><p>For more information, use the <code class="literal">man</code> command to read its own man page, that is, by using the <code class="literal">man man</code> command.</p><p>It is possible to search the library of man pages using the <code class="literal">apropos</code> command. The <code class="literal">apropos</code> command searches the man pages database for keywords and returns a list of man pages. The <code class="literal">man</code> command also has an apropos form, namely <code class="literal">man –k</code>.</p><p>Here is a short terminal session that uses the <code class="literal">apropos</code> command to search for the keyword "music":</p><div class="informalexample"><pre class="programlisting">pi@raspberrypi:~$ <span class="strong"><strong>apropos music</strong></span>

pianobar (1)         - console pandora.com music player

pi@raspberrypi:~$ </pre></div><div class="note" style="" title="Note"><div class="inner"><h3 class="title"><a id="tip07"/>Tip</h3><p>The <code class="literal">pianobar</code> console music player can be installed using the <code class="literal">aptitude</code> package management application (refer to the recipe named <span class="emphasis"><em>Package Management</em></span>).</p></div></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec118"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>apropos - search</strong></span><a class="indexterm" id="id261"/><span class="strong"><strong> the manual page names and descriptions</strong></span>(<a class="ulink" href="http://manpages.debian.net/cgi-bin/man.cgi?query=apropos">http://manpages.debian.net/cgi-bin/man.cgi?query=apropos</a>) The Debian man-page for <code class="literal">apropos</code> has information about the command and its options.</li><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>man – an interface to the on-line reference manuals</strong></span> (<a class="ulink" href="http://manpages.debian.net/cgi-bin/man.cgi?query=man">http://manpages.debian.net/cgi-bin/man.cgi?query=man</a>) The Debian<a class="indexterm" id="id262"/> man-page for <code class="literal">man</code> can be found online or locally on the Raspberry Pi.</li></ul></div></div></div>
<div class="section" title="Reading the built-in documentation (info)"><div class="titlepage"><div><div><h1 class="title"><a id="ch03lvl1sec35"/>Reading the built-in documentation (info)</h1></div></div></div><p>This<a class="indexterm" id="id263"/> recipe shows how the <code class="literal">info</code> command is used to read info-pages.</p><p>Info-pages <a class="indexterm" id="id264"/>are yet another source of documentation that has already been installed with the base Raspbian Linux distribution. The <code class="literal">info</code> command is used to display documentation stored as info-pages.</p><p>After completing this recipe, you will be able to use the <code class="literal">info</code> command to read the built-in documentation that has been stored as info-pages.</p><div class="section" title="Getting ready"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec119"/>Getting ready</h2></div></div></div><p>Ingredients:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">You need an <span class="emphasis"><em>Initial Setup</em></span> or a <span class="emphasis"><em>Basic Networking</em></span> setup for the Raspberry Pi that has been powered on. You also need to be logged in as the user whose username is <code class="literal">pi</code> (refer to the recipes in <a class="link" href="ch01.html" title="Chapter 1. Installation and Setup">Chapter 1</a>, <span class="emphasis"><em>Installation and Setup</em></span> to learn how to boot and log in and the recipes in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span> to know how to log in remotely).</li><li class="listitem" style="list-style-type: disc">A network connection is an optional requirement.</li></ul></div><p>The Raspberry Pi does not need access to the Internet for this application.</p><p>If the Raspberry Pi has remote access enabled, this recipe can be completed remotely using <code class="literal">ssh</code> or PuTTY (refer to the <span class="emphasis"><em>Remote access</em></span> recipes in <a class="link" href="ch02.html" title="Chapter 2. Administration">Chapter 2</a>, <span class="emphasis"><em>Administration</em></span>).</p></div><div class="section" title="How to do it..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec120"/>How to do it...</h2></div></div></div><p>Perform the following steps to read the built-in documentation using <code class="literal">info</code>:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Log in to the Raspberry Pi either directly or remotely.</li><li class="listitem">Execute the <code class="literal">info</code> command, as follows:<div class="informalexample"><pre class="programlisting">pi@raspberrypi:~$ <span class="strong"><strong>info</strong></span></pre></div></li><li class="listitem">The main screen of the info-page is displayed, which looks like this:<div class="informalexample"><pre class="programlisting">File: dir,      Node: Top       This is the top of the INFO tree

  This (the Directory node) gives a menu of major topics.
  Typing "q" exits, "?" lists all Info commands, "d" returns here,
  "h" gives a primer for first-timers,
  "mEmacs&lt;Return&gt;" visits the Emacs manual, etc.

  In Emacs, you can click mouse button 2 on a menu item or cross reference
  to select it.

* Menu:

Basics
* Common options: (coreutils)Common options.
* Coreutils: (coreutils).       Core GNU (file, text, shell) utilities.

-----Info: (dir)Top, 174 lines --Top--------------------------------------------</pre></div></li><li class="listitem">Press<a class="indexterm" id="id265"/> the spacebar<a class="indexterm" id="id266"/> to page through the documentation. This is the easiest way to read the file from top to bottom.</li><li class="listitem">Use the arrow keys to put the cursor next to the <span class="strong"><strong>*</strong></span> symbol of a menu item and then press the <span class="strong"><strong>&lt;enter&gt;</strong></span> key to jump to that location in the file.</li><li class="listitem">Press <span class="strong"><strong>h</strong></span> (the lowercase letter h) to learn more about the <code class="literal">info</code> command. Press <span class="strong"><strong>H</strong></span> (the uppercase letter H) to start a tutorial on how to use <code class="literal">info</code>.</li><li class="listitem">Press <span class="strong"><strong>q</strong></span> to quit.</li></ol></div></div><div class="section" title="How it works…"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec121"/>How it works…</h2></div></div></div><p>After logging in to the Raspberry Pi, the <code class="literal">info</code> application is started.</p></div><div class="section" title="There's more..."><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec122"/>There's more...</h2></div></div></div><p>The <code class="literal">info</code> command reads specially formatted files and info-pages and displays them in a text browser. Info-pages are well-structured with menu hierarchies to navigate through documentation by concepts. They look very much like web pages. The root of all the info-pages is displayed when the <code class="literal">info</code> command is entered without parameters: <code class="literal">info</code>.</p><div class="section" title="Coreutils – the most common Raspbian Linux utilities"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec23"/>Coreutils – the most common Raspbian Linux utilities</h3></div></div></div><p>The <code class="literal">Coreutils</code> section <a class="indexterm" id="id267"/>of the info-pages documentation covers the most common command-line utilities that are used in the Raspbian Linux distribution, including common options that should be understood by all applications:</p><div class="informalexample"><pre class="programlisting">File: coreutils.info,  Node: Common options,  Next: Output of entire files,  Pr\
ev: Introduction,  Up: Top

2 Common options
****************

Certain options are available in all of these programs.  Rather than
writing identical descriptions for each of the programs, they are
described here.  (In fact, every GNU program accepts (or should accept)
these options.)

   Normally options and operands can appear in any order, and programs
act as if all the options appear before any operands.  For example,
'sort -r passwd -t :' acts like 'sort -r -t : passwd', since ':' is an
option-argument of '-t'.  However, if the 'POSIXLY_CORRECT' environment
variable is set, options must appear before operands, unless otherwise
specified for a particular command.

   A few programs can usefully have trailing operands with leading '-'.
With such a program, options must precede operands even if
'POSIXLY_CORRECT' is not set, and this fact is noted in the program
description.  For example, the 'env' command's options must appear
before its operands, since in some cases the operands specify a command

--zz-Info: (coreutils.info.gz)Common options, 73 lines --Top--------------------</pre></div><p>In the <a class="indexterm" id="id268"/>info-pages, there is documentation on file permissions, access modes, and other concepts that are useful when you wish to manage the Raspberry Pi. Unlike man-pages, the info-pages documentation goes beyond just a summary; there exists a list of options to also explain the concepts behind the commands and their intended use.</p><p>Ironically, the info-page for the <code class="literal">info</code> command is not included by default with the Raspbian Linux distribution. Instead, use the <code class="literal">man info</code> command to read more about the <code class="literal">info</code> command.</p></div><div class="section" title="Searching for info"><div class="titlepage"><div><div><h3 class="title"><a id="ch03lvl3sec24"/>Searching for info</h3></div></div></div><p>You <a class="indexterm" id="id269"/>can search the info-pages using the <code class="literal">–k</code> option of the <code class="literal">info</code> command. Try searching for (<code class="literal">-k</code>) both <code class="literal">man</code> and <code class="literal">info</code> for keywords such as "permission", "access", or "download" when you cannot remember the name of a command.</p><p>Here is what you get when you search the Info pages for 'permissions':</p><div class="informalexample"><pre class="programlisting">golden@raspberrypi:~$ <span class="strong"><strong>info -k permissions</strong></span>

"(coreutils)chmod invocation" -- access permissions, changing
"(coreutils)Setting Permissions" -- adding permissions
"(coreutils)chmod invocation" -- changing access permissions
"(coreutils)Copying Permissions" -- copying existing permissions
"(coreutils)Umask and Protection" -- giving away permissions
"(coreutils)Setting Permissions" -- group, permissions for
"(coreutils)Multiple Changes" -- multiple changes to permissions
"(coreutils)Setting Permissions" -- other permissions
"(coreutils)Setting Permissions" -- owner of file, permissions for
"(coreutils)install invocation" -- permissions of installed files, setting
"(coreutils)chmod invocation" -- permissions, changing access
"(coreutils)Copying Permissions" -- permissions, copying existing
"(coreutils)touch invocation" -- permissions, for changing file timestamps
"(coreutils)What information is listed" -- permissions, output by 'ls'
"(coreutils)chmod invocation" -- recursively changing access permissions
"(coreutils)Setting Permissions" -- removing permissions
"(coreutils)Setting Permissions" -- setting permissions
"(coreutils)Setting Permissions" -- subtracting permissions
"(coreutils)chmod invocation" -- symbolic links, permissions of
"(gnupg1)GPG Esoteric Options" -- preserve-permissions
"(wget)FTP Options" -- file permissions

golden@raspberrypi:~$ </pre></div><p>You already have a lot of detailed information about Linux, Debian, and the Raspbian Linux operating system that is installed on your Raspberry Pi. The <code class="literal">info</code> command gives you<a class="indexterm" id="id270"/> access to the information stored as info-pages.</p></div></div><div class="section" title="See also"><div class="titlepage"><div><div><h2 class="title"><a id="ch03lvl2sec123"/>See also</h2></div></div></div><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><span class="strong"><strong>info – read Info documents</strong></span> (<a class="ulink" href="http://manpages.debian.net/cgi-bin/man.cgi?query=info">http://manpages.debian.net/cgi-bin/man.cgi?query=info</a>. The Debian man-page for <code class="literal">info</code> describes the command<a class="indexterm" id="id271"/> and its options.</li></ul></div></div></div></body></html>