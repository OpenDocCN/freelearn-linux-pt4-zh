- en: Preface
  id: totrans-0
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 前言
- en: CentOS (Community Enterprise Operating System) is known as a robust, stable,
    and generally trouble-free operating system that is particularly well-suited to
    the role of a server. As a faithful adaption of RHEL, CentOS has been with us
    since its initial release in May 2004\. It is used by a significant number of
    servers across the world, by an increasing number of individuals and businesses
    for a variety of needs, and it can be found in many mission critical situations.
    CentOS is considered to be a favorite among Linux professionals, and if it is
    configured correctly, serviced, and maintained, in most instances, a CentOS-based
    server should never give rise to any major complications. However, there are occasions
    when things do go wrong, and in such a situation, where the old joke of "rebooting
    the machine" is not the most appropriate form of action, then your only recourse
    is to consider troubleshooting the system.
  id: totrans-1
  prefs: []
  type: TYPE_NORMAL
  zh: CentOS（Community Enterprise Operating System）被认为是一款强大、稳定且通常没有问题的操作系统，尤其适合作为服务器使用。作为RHEL的忠实版本，CentOS自2004年5月首次发布以来就一直陪伴我们。它被全球大量服务器使用，越来越多的个人和企业也在各种需求下选择它，并且在许多关键任务场景中都有它的身影。CentOS被认为是Linux专业人士的最爱，如果配置正确、服务到位并进行妥善维护，通常情况下，基于CentOS的服务器不应产生任何重大问题。然而，也有可能出现故障，在这种情况下，当“重启机器”这种老掉牙的笑话并不适用时，你唯一的选择就是考虑进行系统故障排除。
- en: Based on the overall theme of troubleshooting a CentOS 7 server, the purpose
    of this book is to take you on a journey across the whole spectrum of issue-based
    problem solving. Active processes, the networking environment, package management,
    users, directories and files, shared resources, security, databases, web-based
    services, and DNS will all be encountered with the sole purpose of building your
    knowledge base and enabling you to develop a fresh approach to problem solving.
  id: totrans-2
  prefs: []
  type: TYPE_NORMAL
  zh: 本书以故障排除CentOS 7服务器为总体主题，旨在带领你走过一条涉及广泛问题解决方案的学习之路。你将遇到活跃进程、网络环境、包管理、用户、目录和文件、共享资源、安全性、数据库、基于Web的服务以及DNS等多个领域，最终目标是构建你的知识库，并帮助你发展一种全新的问题解决方法。
- en: What this book covers
  id: totrans-3
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书涵盖的内容
- en: '[Chapter 1](ch01.html "Chapter 1. Basics of Troubleshooting CentOS"), *Basics
    of Troubleshooting CentOS*, serves as an introduction to the book, in general,
    by giving you the low-down on gathering hardware information, dmesg, working with
    log files, and learning how to manipulate these log files using an array of command-line
    tools.'
  id: totrans-4
  prefs: []
  type: TYPE_NORMAL
  zh: '[第1章](ch01.html "第1章. CentOS故障排除基础")，*CentOS故障排除基础*，作为本书的引言，向你介绍了如何收集硬件信息、dmesg的使用、处理日志文件，以及如何利用一系列命令行工具操作这些日志文件。'
- en: '[Chapter 2](ch02.html "Chapter 2. Troubleshooting Active Processes"), *Troubleshooting
    Active Processes*, takes up the running and dives into the world of tuning server
    performance, swap, memory management, system load, monitoring disk I/O, a tour
    of the system, guidance on issuing the kill signal, and running additional performance
    checks using many more tools associated with the command line.'
  id: totrans-5
  prefs: []
  type: TYPE_NORMAL
  zh: '[第2章](ch02.html "第2章. 故障排除活跃进程")，*故障排除活跃进程*，重点讨论了服务器性能调优、交换空间、内存管理、系统负载、磁盘I/O监控、系统巡检、发出kill信号以及使用更多命令行工具进行性能检查等内容。'
- en: '[Chapter 3](ch03.html "Chapter 3. Troubleshooting the Network Environment"),
    *Troubleshooting the Network Environment*, walks you through the process of diagnosing
    a variety of issues related to the network environment. ping, dig, host, traceroute,
    mtr, ss, and tcpdump are just some of the tools that will be discussed when highlighting
    a whole host of network-related problems.'
  id: totrans-6
  prefs: []
  type: TYPE_NORMAL
  zh: '[第3章](ch03.html "第3章. 故障排除网络环境")，*故障排除网络环境*，带你逐步诊断与网络环境相关的各种问题。ping、dig、host、traceroute、mtr、ss和tcpdump只是一些工具，书中将讨论如何通过它们解决一系列网络相关的问题。'
- en: '[Chapter 4](ch04.html "Chapter 4. Troubleshooting Package Management and System
    Upgrades"), *Troubleshooting Package Management and System Upgrades*, puts yum
    (Yellowdog Updater, Modified) in the spotlight with the intention of showing you
    how to manage plugins, add additional repositories, download RPM packages, restore
    the RPM database, and gather generalized software information.'
  id: totrans-7
  prefs: []
  type: TYPE_NORMAL
  zh: '[第4章](ch04.html "第4章. 故障排除包管理和系统升级")，*故障排除包管理和系统升级*，将yum（Yellowdog Updater,
    Modified）置于聚光灯下，目的是向你展示如何管理插件、添加额外的软件仓库、下载RPM包、恢复RPM数据库并收集通用的软件信息。'
- en: '[Chapter 5](ch05.html "Chapter 5. Troubleshooting Users, Directories, and Files"),
    *Troubleshooting Users, Directories, and Files*, takes a stance on on-going maintenance
    and provides the information you need to prepare you for a variety of issues that
    the professional troubleshooter may face. From user management to login.defs,
    utmpdump to general file and directory audits. This chapter also builds on your
    existing knowledge related to the XFS filesystem and shows you how to recover
    the lost data with Scalpel.'
  id: totrans-8
  prefs: []
  type: TYPE_NORMAL
  zh: '[第5章](ch05.html "第5章. 用户、目录和文件故障排除")，*用户、目录和文件故障排除*，着眼于持续维护，提供专业故障排除员可能面临的各种问题的信息。从用户管理到login.defs，utmpdump到一般的文件和目录审计。本章还建立在你现有的XFS文件系统知识基础上，展示如何使用Scalpel恢复丢失的数据。'
- en: '[Chapter 6](ch06.html "Chapter 6. Troubleshooting Shared Resources"), *Troubleshooting
    Shared Resources*, takes a magnifying glass to NFS on CentOS 7 and shows you how
    to provide shares, manage exports, and access them via a client workstation while
    simultaneously approaching the subject of CIFS and autofs to deliver an all round
    problem solving guide.'
  id: totrans-9
  prefs: []
  type: TYPE_NORMAL
  zh: '[第6章](ch06.html "第6章. 共享资源故障排除")，*共享资源故障排除*，聚焦于CentOS 7中的NFS，展示如何提供共享、管理导出，并通过客户端工作站访问它们，同时探讨CIFS和autofs，提供一份全面的问题解决指南。'
- en: '[Chapter 7](ch07.html "Chapter 7. Troubleshooting Security Issues"), *Troubleshooting
    Security Issues*, builds on the momentum and discusses why you need to keep SELinux
    by showing you how to generate audit reports with aureport. From this point onward,
    you will discover a comprehensive review on FirewallD and an installation guide
    for Tripwire so that you can develop your very own intrusion detection system.'
  id: totrans-10
  prefs: []
  type: TYPE_NORMAL
  zh: '[第7章](ch07.html "第7章. 安全问题故障排除")，*安全问题故障排除*，在已有势头的基础上，讨论为什么你需要保持SELinux，并展示如何使用aureport生成审计报告。从这一点开始，你将发现对FirewallD的全面回顾，并获得Tripwire安装指南，以便开发自己的入侵检测系统。'
- en: '[Chapter 8](ch08.html "Chapter 8. Troubleshooting Database Services"), *Troubleshooting
    Database Services*, lends a hand to troubleshooters and system administrators
    alike by taking the key points regarding MariaDB, MySQL, and PostgreSQL to provide
    a birds eye view of how to deal with a lost root password, database tuning, database
    metrics, and how to install MySQL server on CentOS 7.'
  id: totrans-11
  prefs: []
  type: TYPE_NORMAL
  zh: '[第8章](ch08.html "第8章. 数据库服务故障排除")，*数据库服务故障排除*，为故障排除人员和系统管理员提供帮助，通过解决MariaDB、MySQL和PostgreSQL的关键问题，提供如何处理丢失的root密码、数据库调优、数据库指标的概览，以及如何在CentOS
    7上安装MySQL服务器。'
- en: '[Chapter 9](ch09.html "Chapter 9. Troubleshooting Web Services"), *Troubleshooting
    Web Services*, takes a step back from recovery and examines the need to improve
    a system, website, or web application. Taking you through the art of cURL, you
    will not only discover how to audit your server and access FTP, but you will also
    learn how to validate your Akamai headers and manage Varnish with the overall
    intention to illustrate the fine line between Dev/Ops and troubleshooting.'
  id: totrans-12
  prefs: []
  type: TYPE_NORMAL
  zh: '[第9章](ch09.html "第9章. Web服务故障排除")，*Web服务故障排除*，从恢复问题中退后一步，探讨提高系统、网站或Web应用程序性能的需求。通过cURL的艺术，你不仅会发现如何审计你的服务器和访问FTP，还会学到如何验证Akamai头部并管理Varnish，整体目标是阐明Dev/Ops与故障排除之间的微妙界限。'
- en: '[Chapter 10](ch10.html "Chapter 10. Troubleshooting DNS Services"), *Troubleshooting
    DNS Services*, completes our journey with an investigation into a variety of domain
    name service issues. Hostnames, FQDNs, BIND, and iftop are all under the knife
    as we navigate to a number of issues related to bandwidth, cache flushing, and
    how to make a DNS health check.'
  id: totrans-13
  prefs: []
  type: TYPE_NORMAL
  zh: '[第10章](ch10.html "第10章. DNS服务故障排除")，*DNS服务故障排除*，通过调查各种域名服务问题，完成我们的旅程。主机名、FQDN、BIND和iftop都被深入探讨，我们将解决与带宽、缓存清除和如何进行DNS健康检查等相关的问题。'
- en: What you need for this book
  id: totrans-14
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书所需内容
- en: The requirement of this book is based on the use of CentOS 7, a community-supported
    distribution derived from sources freely provided to the public by Red Hat. As
    such, CentOS Linux is functionally compatible with RHEL (**Red** **Hat** **Enterprise**
    **Linux**), although some package names may have been changed in order to remove
    upstream vendor branding and artwork. CentOS Linux is available for free, at no
    cost, and free to redistribute.
  id: totrans-15
  prefs: []
  type: TYPE_NORMAL
  zh: 本书的要求基于使用CentOS 7，这是一个社区支持的发行版，源代码由Red Hat公开提供。因此，CentOS Linux在功能上与RHEL（**红帽企业Linux**）兼容，尽管某些软件包名称可能已更改，以去除上游供应商的品牌和艺术设计。CentOS
    Linux是免费的，无需付费，并且可以自由重新分发。
- en: Who this book is for
  id: totrans-16
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 本书适合谁
- en: This is a practical guide used to troubleshoot the CentOS 7 community-based
    enterprise server. It is assumed that you already have a server up and running,
    a good working knowledge of CentOS, and that you are comfortable with the concept
    of working with the services used by your server. You are not expected to be an
    expert by any means, but the familiarity of working with a server by remote administration
    will always help.
  id: totrans-17
  prefs: []
  type: TYPE_NORMAL
  zh: 本书是一本实际的指南，旨在解决CentOS 7社区版企业服务器的问题。假设你已经有一个运行中的服务器，具备一定的CentOS知识，并且能够熟悉地使用你的服务器所用的服务。我们并不要求你成为专家，但有远程管理服务器的经验会对你有所帮助。
- en: Conventions
  id: totrans-18
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 约定
- en: In this book, you will find a number of text styles that distinguish between
    different kinds of information. Here are some examples of these styles and an
    explanation of their meaning.
  id: totrans-19
  prefs: []
  type: TYPE_NORMAL
  zh: 在本书中，你将看到多种文本样式，用来区分不同类型的信息。以下是这些样式的几个示例，并解释它们的含义。
- en: 'Code words in text, database table names, folder names, filenames, file extensions,
    pathnames, dummy URLs, user input, and Twitter handles are shown as follows: "Discover
    how to gather hardware-based system information using `lscpu` and `lspci`."'
  id: totrans-20
  prefs: []
  type: TYPE_NORMAL
  zh: 文本中的代码词、数据库表名、文件夹名、文件名、文件扩展名、路径名、虚拟URL、用户输入和Twitter用户名如下所示：“了解如何使用`lscpu`和`lspci`收集硬件系统信息。”
- en: 'A block of code is set as follows:'
  id: totrans-21
  prefs: []
  type: TYPE_NORMAL
  zh: 代码块的设置如下：
- en: '[PRE0]'
  id: totrans-22
  prefs: []
  type: TYPE_PRE
  zh: '[PRE0]'
- en: 'Any command-line input or output is written as follows:'
  id: totrans-23
  prefs: []
  type: TYPE_NORMAL
  zh: 任何命令行输入或输出都如下所示：
- en: '[PRE1]'
  id: totrans-24
  prefs: []
  type: TYPE_PRE
  zh: '[PRE1]'
- en: Note
  id: totrans-25
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 注意
- en: Warnings or important notes appear in a box like this.
  id: totrans-26
  prefs: []
  type: TYPE_NORMAL
  zh: 警告或重要的注意事项会以类似这样的框展示。
- en: Tip
  id: totrans-27
  prefs:
  - PREF_H3
  type: TYPE_NORMAL
  zh: 小贴士
- en: Tips and tricks appear like this.
  id: totrans-28
  prefs: []
  type: TYPE_NORMAL
  zh: 小贴士和技巧以这种形式出现。
- en: Reader feedback
  id: totrans-29
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 读者反馈
- en: Feedback from our readers is always welcome. Let us know what you think about
    this book—what you liked or disliked. Reader feedback is important for us as it
    helps us develop titles that you will really get the most out of.
  id: totrans-30
  prefs: []
  type: TYPE_NORMAL
  zh: 我们始终欢迎读者的反馈。告诉我们你对本书的看法——你喜欢什么，或者不喜欢什么。读者反馈对我们很重要，因为它帮助我们开发出你能够从中获得最大收益的书籍。
- en: To send us general feedback, simply e-mail `<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`,
    and mention the book's title in the subject of your message.
  id: totrans-31
  prefs: []
  type: TYPE_NORMAL
  zh: 若要向我们发送一般反馈，只需发送电子邮件至`<[feedback@packtpub.com](mailto:feedback@packtpub.com)>`，并在邮件主题中提到书名。
- en: If there is a topic that you have expertise in and you are interested in either
    writing or contributing to a book, see our author guide at [www.packtpub.com/authors](http://www.packtpub.com/authors).
  id: totrans-32
  prefs: []
  type: TYPE_NORMAL
  zh: 如果你在某个领域有专业知识，并且有兴趣写作或为书籍贡献内容，请查看我们的作者指南，网址为[www.packtpub.com/authors](http://www.packtpub.com/authors)。
- en: Customer support
  id: totrans-33
  prefs:
  - PREF_H1
  type: TYPE_NORMAL
  zh: 客户支持
- en: Now that you are the proud owner of a Packt book, we have a number of things
    to help you to get the most from your purchase.
  id: totrans-34
  prefs: []
  type: TYPE_NORMAL
  zh: 现在你已经是一本Packt书籍的骄傲拥有者，我们为你提供了一些帮助，以便你从购买中获得最大收益。
- en: Errata
  id: totrans-35
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 勘误
- en: Although we have taken every care to ensure the accuracy of our content, mistakes
    do happen. If you find a mistake in one of our books—maybe a mistake in the text
    or the code—we would be grateful if you could report this to us. By doing so,
    you can save other readers from frustration and help us improve subsequent versions
    of this book. If you find any errata, please report them by visiting [http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata),
    selecting your book, clicking on the **Errata Submission Form** link, and entering
    the details of your errata. Once your errata are verified, your submission will
    be accepted and the errata will be uploaded to our website or added to any list
    of existing errata under the Errata section of that title.
  id: totrans-36
  prefs: []
  type: TYPE_NORMAL
  zh: 尽管我们已经尽力确保内容的准确性，但错误仍然可能发生。如果你在我们的书籍中发现错误——可能是文本或代码中的错误——我们将非常感激你能向我们报告。这样，你不仅能帮助其他读者避免困扰，还能帮助我们改进书籍的后续版本。如果你发现任何勘误，请访问[http://www.packtpub.com/submit-errata](http://www.packtpub.com/submit-errata)报告，选择你的书籍，点击**Errata
    Submission Form**链接，并输入勘误的详细信息。一旦你的勘误被验证，通过审核后，勘误将被上传到我们的网站，或添加到该书籍勘误列表的Errata部分。
- en: To view the previously submitted errata, go to [https://www.packtpub.com/books/content/support](https://www.packtpub.com/books/content/support)
    and enter the name of the book in the search field. The required information will
    appear under the **Errata** section.
  id: totrans-37
  prefs: []
  type: TYPE_NORMAL
  zh: 若要查看已提交的勘误，请访问[https://www.packtpub.com/books/content/support](https://www.packtpub.com/books/content/support)，并在搜索框中输入书名。所需的信息将出现在**Errata**部分。
- en: Piracy
  id: totrans-38
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 盗版
- en: Piracy of copyrighted material on the Internet is an ongoing problem across
    all media. At Packt, we take the protection of our copyright and licenses very
    seriously. If you come across any illegal copies of our works in any form on the
    Internet, please provide us with the location address or website name immediately
    so that we can pursue a remedy.
  id: totrans-39
  prefs: []
  type: TYPE_NORMAL
  zh: 网络上盗版受版权保护的材料是一个持续存在的问题，涵盖了所有媒体。我们在 Packt 对版权和许可的保护非常重视。如果您在网络上发现我们作品的任何非法副本，请立即向我们提供位置地址或网站名称，以便我们采取措施。
- en: Please contact us at `<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`
    with a link to the suspected pirated material.
  id: totrans-40
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您发现涉嫌盗版的内容，请通过 `<[copyright@packtpub.com](mailto:copyright@packtpub.com)>`
    联系我们，并提供涉嫌盗版材料的链接。
- en: We appreciate your help in protecting our authors and our ability to bring you
    valuable content.
  id: totrans-41
  prefs: []
  type: TYPE_NORMAL
  zh: 我们感谢您在保护我们的作者和帮助我们为您提供有价值内容方面的支持。
- en: Questions
  id: totrans-42
  prefs:
  - PREF_H2
  type: TYPE_NORMAL
  zh: 问题
- en: If you have a problem with any aspect of this book, you can contact us at `<[questions@packtpub.com](mailto:questions@packtpub.com)>`,
    and we will do our best to address the problem.
  id: totrans-43
  prefs: []
  type: TYPE_NORMAL
  zh: 如果您对本书的任何内容有疑问，可以通过 `<[questions@packtpub.com](mailto:questions@packtpub.com)>`
    联系我们，我们将尽最大努力解决问题。
