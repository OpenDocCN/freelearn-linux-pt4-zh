<html><head></head><body><div class="chapter" title="Chapter&#xA0;1.&#xA0;Configuring and Programming Raspberry Pi"><div class="titlepage"><div><div><h1 class="title"><a id="ch01"/>Chapter 1. Configuring and Programming Raspberry Pi</h1></div></div></div><p>Robots are beginning to infiltrate our world. They come in all shapes and sizes, with a wide range of capabilities. And, just like the evolution of the personal computer before them, much of what is happening in the robot development world is coming from hobbyists and do-it-yourselfers that are using a new generation of inexpensive hardware and free, open source software to build machines with all kinds of amazing capabilities. In this book, you<a id="id0" class="indexterm"/> will learn how to build robots by building a robot, a four-legged quadruped with sensor and vision capabilities. The skills you will learn, however, can also be used on a wide variety of walking, rolling, swimming, or flying robots.</p><p>In this chapter, you'll learn:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">How to configure your Raspberry Pi, the control center of your robot, with the Raspbian operating system</li><li class="listitem" style="list-style-type: disc">How to set up a remote development environment so you can program your robot</li><li class="listitem" style="list-style-type: disc">Basic programming skills in both Python and C so you can both create and edit the programs your robot will need to do all those amazing things</li></ul></div><div class="section" title="Configuring Raspberry Pi – the brain of your robot"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec08"/>Configuring Raspberry Pi – the brain of your robot</h1></div></div></div><p>One<a id="id1" class="indexterm"/> of the most important parts of your robot is the processor system you use to control all the different hardware. In this book, you'll learn how to use Raspberry Pi, a small, inexpensive, easy-to-use processor system. Raspberry Pi comes in several flavors – the original A and B model, and the new and improved A+ and B+ model. The B+ flavor is the most popular and comes with additional input/output capability, four USB connections, more memory, and will be the flavor we'll focus on in this book.</p><p>Here are the items you'll need to set up an initial Raspberry Pi development environment:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc">A Raspberry Pi, Model B 2. There are three other Raspberry Pi models, the B+, the B, and the A. These are models with less processing power and different hardware configurations. In this book, we'll focus on the Raspberry Pi Model B 2; it has the best processing power and the most useful input/output access. However, many of the items in this book will also work with the<a id="id2" class="indexterm"/> Raspberry Pi B+ and A versions, perhaps with some additional hardware.</li><li class="listitem" style="list-style-type: disc">The USB cable to provide power to the board.</li><li class="listitem" style="list-style-type: disc">A microSD card — at least 4 GB.</li><li class="listitem" style="list-style-type: disc">A microSD card writer.</li><li class="listitem" style="list-style-type: disc">Another computer that is connected to the Internet.</li><li class="listitem" style="list-style-type: disc">An Internet connection for the board — for the initial configuration steps, you'll need a LAN cable and wired LAN connection.</li><li class="listitem" style="list-style-type: disc">A wireless LAN device.</li></ul></div><p>Here is what the Raspberry Pi B 2 board looks like:</p><div class="mediaobject"><img src="graphics/B04591_01_01.jpg" alt="Configuring Raspberry Pi – the brain of your robot"/></div><p>You should also acquaint yourself with the different connections on the board. Here they are on <a id="id3" class="indexterm"/>the B 2, labelled for your information:</p><div class="mediaobject"><img src="graphics/B04591_01_02.jpg" alt="Configuring Raspberry Pi – the brain of your robot"/></div></div></div>
<div class="section" title="Installing the operating system"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec09"/>Installing the operating system</h1></div></div></div><p>Before you get started, you'll need to download and create a card with the Raspbian operating system. You are going to install Raspbian, an open source version of the Debian<a id="id4" class="indexterm"/> version of Linux, on your Raspberry Pi.</p><p>There are two approaches to getting Raspbian on your board. The board is getting popular enough that you can now buy an SD card that already has Rasbpian installed, or you can download it onto your personal computer and then install it on the card. If you are going to download a distribution, you need to decide if you are going to use a Windows computer to download and create an SD card, or a Linux machine.</p><p>No matter which machine you are going to use, you'll need to download an image. Open a browser window. Go to the Raspberry Pi site, <a class="ulink" href="http://www.raspberrypi.org">www.raspberrypi.org</a>, and select <span class="strong"><strong>Downloads</strong></span> from <a id="id5" class="indexterm"/>the top of the page. This will give you a variety of download choices. Go to the <span class="strong"><strong>Raspbian</strong></span> section and select the <code class="literal">.zip</code> file just to the right of the image identifier. This will download an archived file that has the image for your Raspbian operating system. Note the default username and password; you'll need those later.</p><p>If you're using <a id="id6" class="indexterm"/>Windows, you'll need to unzip the file using an archiving program like 7-Zip. This will leave you with a file that has the <code class="literal">.img</code> extension, a file that can be imaged on your card. Next, you'll need a program that can write the image to the card. Use Image Writer if you are going to create your card using a Windows machine. You can find a link to this program at the top of the download section on the <a class="ulink" href="http://www.raspberrypi.org">www.raspberrypi.org</a> website. Plug your card into the PC, run this program, and you should see this:</p><div class="mediaobject"><img src="graphics/B04591_01_03.jpg" alt="Installing the operating system"/></div><p>Select the correct card and image; it should look something like this:</p><div class="mediaobject"><img src="graphics/B04591_01_04.jpg" alt="Installing the operating system"/></div><p>Then select <span class="strong"><strong>Write</strong></span>. This will take some time, but when it is complete, eject the card from the PC.</p><p>If you are using Linux, you'll need to unarchive the file and then write it to the card. You can do all <a id="id7" class="indexterm"/>of this with one command. However, you do need to find the <code class="literal">/dev</code> device label for your card. You can do this with the <code class="literal">ls -la /dev/sd*</code> command. If you run this before you plug in your card, you might see something like the following:</p><div class="mediaobject"><img src="graphics/B04591_01_05.jpg" alt="Installing the operating system"/></div><p>After plugging in your card, you might see something like the following:</p><div class="mediaobject"><img src="graphics/B04591_01_06.jpg" alt="Installing the operating system"/></div><p>Note that your card is <code class="literal">sdb</code>. Now, go to the directory where you downloaded the archived image file and issue the following command:</p><div class="informalexample"><pre class="programlisting">
<span class="strong"><strong>sudo dd if=2015-01-31-raspbian.img  of=/dev/sdX</strong></span>
</pre></div><p>The <code class="literal">2015-01-31-raspbian.img</code> command will be replaced with the image file that you downloaded, and <code class="literal">/dev/sdX</code> will be replaced with your card ID; in this example, <code class="literal">/dev/sdb</code>.</p><p>Once your<a id="id8" class="indexterm"/> card image has been created, install it on the Raspberry Pi. You'll also need to plug your Raspberry Pi into the LAN cable, and the LAN cable into your wired LAN network.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note02"/>Note</h3><p>If you don't have a wired connection, you can complete the following steps by connecting your Raspberry Pi directly to a monitor, keyboard, and mouse.</p></div></div><p>Power the device. The <span class="strong"><strong>POWER LED</strong></span> should light and your device should boot from the card. To configure the card, you'll need to access it remotely. To do this, you'll now need to connect to the device via SSH, a secure protocol that allows you to control one computer remotely from another computer.</p><p>One of the challenges of accessing the system remotely is that you need to know the IP address of your board. There is a way to discover this by using an IP scanner application. There are several scanners available for free; on Windows, a possible choice is Advanced IP Scanner, which <a id="id9" class="indexterm"/>is available from <a class="ulink" href="http://www.advanced-ip-scanner.com/">http://www.advanced-ip-scanner.com/</a>. Here is what the program looks like when it is run:</p><div class="mediaobject"><img src="graphics/B04591_01_07.jpg" alt="Installing the operating system"/></div><p>Clicking on the <span class="strong"><strong>Scan</strong></span> selector scans for all the devices connected to the network. You can also do this <a id="id10" class="indexterm"/>in Linux; one application for IP scanning in Linux is called Nmap. To install Nmap, type in <code class="literal">sudo apt-get install nmap</code>. To run Nmap, type in <code class="literal">sudo nmap -sP 10.25.155.1/154</code> and the scanner will scan the addresses from 10.25.155.1 to 10.25.155.154.</p><p>These <a id="id11" class="indexterm"/>scanners can let you know which addresses are being used, and this should then let you find your Raspberry Pi IP address. Since you are going to access your device via SSH, you'll also need an SSH terminal program running on your remote computer. If you are running Microsoft Windows, you can download such an application. One simple and easy choice is Putty. It is free and does a very <a id="id12" class="indexterm"/>good job of allowing you to save your configuration so you don't have to type it in each time. This program is available at <a class="ulink" href="http://www.putty.org">www.putty.org</a>.</p><p>Download <a id="id13" class="indexterm"/>Putty on your Microsoft Windows machine. Then run <code class="literal">putty.exe</code>. You should see a configuration window. It will look something like the following screenshot:</p><div class="mediaobject"><img src="graphics/B04591_01_08.jpg" alt="Installing the operating system"/></div><p>Type in the <code class="literal">inet addr</code> from the IP Scanner in the <span class="strong"><strong>Host Name</strong></span> space and make sure that the SSH is selected. You may want to save this configuration under Raspberry Pi so you can reload it each time.</p><p>When you click on <span class="strong"><strong>Open</strong></span>, the system will try to open a terminal window onto your Raspberry Pi via the LAN connection. The first time you do this, you will get a warning about an RSA key, as the two computers don't know about each other; so Windows is complaining<a id="id14" class="indexterm"/> that a computer it doesn't know is about to be connected in a fairly intimate way. Simply click on <span class="strong"><strong>OK</strong></span>, and you should get a terminal with a login prompt, like the following screenshot:</p><div class="mediaobject"><img src="graphics/B04591_01_09.jpg" alt="Installing the operating system"/></div><p>Now <a id="id15" class="indexterm"/>you can log in and issue commands to your Raspberry Pi. If you'd like to do this from a Linux machine, the process is even simpler. Bring up a terminal window and then type in <code class="literal">ssh pi@xxx.xxx.xxx.xxx –p 22</code>, where <code class="literal">xxx.xxx.xxx.xxx</code> is the <code class="literal">inet addr</code> of your device. This will then bring you to the login screen of your Raspberry Pi, which should look similar to the previous screenshot.</p><p>After your log in, you should get a screen that looks like the following:</p><div class="mediaobject"><img src="graphics/B04591_01_10.jpg" alt="Installing the operating system"/></div><p>First, you'll <a id="id16" class="indexterm"/>want to expand the file system to take up the entire card. So, hit the <span class="emphasis"><em>Enter</em></span> key, and you'll see the following screen:</p><div class="mediaobject"><img src="graphics/B04591_01_11.jpg" alt="Installing the operating system"/></div><p>Hit <span class="emphasis"><em>Enter</em></span> once again and you'll go back to the main configuration screen. Now, select the <span class="strong"><strong>Enable Boot to Desktop/Scratch</strong></span> option.</p><div class="mediaobject"><img src="graphics/B04591_01_12.jpg" alt="Installing the operating system"/></div><p>When <a id="id17" class="indexterm"/>you hit <span class="emphasis"><em>Enter</em></span>, you'll see the following screen:</p><div class="mediaobject"><img src="graphics/B04591_01_13.jpg" alt="Installing the operating system"/></div><p>You can also choose to overclock your device. This is a way for you to get higher performance from your system. However, there is a risk that you can end up with a system that has reliability problems.</p><p>Once <a id="id18" class="indexterm"/>you are done and are back at the main configuration menu, hit the <span class="emphasis"><em>Tab</em></span> key until you are positioned over the <span class="strong"><strong>&lt;Finish&gt;</strong></span> selection, then hit <span class="emphasis"><em>Enter</em></span>. Then, hit <span class="emphasis"><em>Enter</em></span> again so that you can reboot your Raspberry Pi. This time, when you log in, you will not see any configuration selections. However, if you ever want to change your configuration choices, you can run the configuration tool by typing in <code class="literal">raspi-config</code> at the command prompt.</p></div>
<div class="section" title="Adding a remote graphical user interface"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec10"/>Adding a remote graphical user interface</h1></div></div></div><p>For <a id="id19" class="indexterm"/>some steps in your robot build, you will need a graphical look at your system. You can get this on your Raspberry Pi using an application called vncserver. You'll need to install a version of this on your Raspberry Pi by typing in <code class="literal">sudo apt-get install tightvncserver</code> in a terminal window on your Raspberry Pi.</p><p>Tightvncserver is <a id="id20" class="indexterm"/>an application that will allow you to remotely view your complete graphical desktop. Once you have it installed, you can do the following:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">You'll need to start the server by typing in <code class="literal">vncserver</code> in a terminal window on the Raspberry Pi.</li><li class="listitem">You will then be prompted for a password, prompted to verify the password, and then asked if you'd like to have a view only password. Remember the password you entered; you'll need it to remotely log in via a VNC viewer.</li><li class="listitem">You'll <a id="id21" class="indexterm"/>need a VNC viewer application for your remote computer; a good choice is Real VNC, available from <a class="ulink" href="http://www.realvnc.com/download/viewer/">http://www.realvnc.com/download/viewer/</a>. When you run it, you should see this:<div class="mediaobject"><img src="graphics/B04591_01_14.jpg" alt="Adding a remote graphical user interface"/></div></li><li class="listitem">Enter<a id="id22" class="indexterm"/> the VNC server address, which is the IP address of your Raspberry Pi, and click on <span class="strong"><strong>Connect</strong></span>. You will get a warning about an unencrypted connection; select <span class="strong"><strong>Continue</strong></span> and you will get this pop-up window:<div class="mediaobject"><img src="graphics/B04591_01_15.jpg" alt="Adding a remote graphical user interface"/></div></li><li class="listitem">Type in the password you just entered while starting the vncserver, and you should then get a graphical view of your Raspberry Pi, which looks like the following screenshot:<div class="mediaobject"><img src="graphics/B04591_01_16.jpg" alt="Adding a remote graphical user interface"/></div></li></ol></div><p>You <a id="id23" class="indexterm"/>can now access all the capabilities of your system, albeit they may be slower if you are doing a graphics-intense data transfer. To avoid having to type in vncserver each time you boot your Raspberry Pi, use the instructions <a id="id24" class="indexterm"/>at <a class="ulink" href="http://www.havetheknowhow.com/Configure-the-server/Run-VNC-on-boot.html">http://www.havetheknowhow.com/Configure-the-server/Run-VNC-on-boot.html</a>.</p><p>Vncserver <a id="id25" class="indexterm"/>is also available via Linux. You can use an application called Remote Desktop Viewer to view the remote Raspberry Pi Windows system. If you have not installed this application, install it using the updated software application based on the type of Linux system you have. Once you have the software, do the following:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem">Run the application, and you should see the following screenshot:<div class="mediaobject"><img src="graphics/B04591_01_17.jpg" alt="Adding a remote graphical user interface"/></div></li><li class="listitem">Make <a id="id26" class="indexterm"/>sure that vncserver is running on the Raspberry Pi; the easiest way to do this is to log in using SSH and run vncserver at the prompt. Now, click on <span class="strong"><strong>Connect</strong></span> on the <span class="strong"><strong>Remote Desktop Viewer</strong></span>. Fill in the screen as follows. Under the <span class="strong"><strong>Protocol</strong></span> selection, choose <span class="strong"><strong>VNC</strong></span>, and you should see the following screenshot:<div class="mediaobject"><img src="graphics/B04591_01_18.jpg" alt="Adding a remote graphical user interface"/></div></li><li class="listitem">Now, <a id="id27" class="indexterm"/>enter the Host inet address—make sure to include <code class="literal">:1</code> at the end, and then click on <span class="strong"><strong>Connect</strong></span>. You'll need to enter the vncserver password you set up, like the following screenshot:<div class="mediaobject"><img src="graphics/B04591_01_19.jpg" alt="Adding a remote graphical user interface"/></div></li></ol></div><p>You<a id="id28" class="indexterm"/> should now see the graphical screen of the Raspberry Pi. You are ready to start interacting with the system!</p><div class="section" title="Establishing wireless access"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec07"/>Establishing wireless access</h2></div></div></div><p>Now that <a id="id29" class="indexterm"/>your system is configured, the next step is to connect your Raspberry Pi to your remote computer using wireless. To do this, you'll add a wireless USB device and configure it. See <a class="ulink" href="http://elinux.org/RPi_USB_Wi-Fi_Adapters">http://elinux.org/RPi_USB_Wi-Fi_Adapters</a> to identify wireless devices that have been <a id="id30" class="indexterm"/>verified to work with Raspberry Pi. Here is one available at many online electronics outlets:</p><div class="mediaobject"><img src="graphics/B04591_01_20.jpg" alt="Establishing wireless access"/></div><p>To <a id="id31" class="indexterm"/>connect to your wireless LAN, boot the system and edit the network file by typing in <code class="literal">sudo nano /etc/network/interfaces</code>. Then, edit the file to look like this:</p><div class="mediaobject"><img src="graphics/B04591_01_21.jpg" alt="Establishing wireless access"/></div><p>Reboot your device and it should now be connected to your wireless network.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note03"/>Note</h3><p>If you are using a US keyboard, you may need to edit the keyboard file for your keyboard to use nano effectively. To do this, type in <code class="literal">sudo nano /etc/default/keyboard</code> and change <code class="literal">XKBLAYOUT="gb"</code> to <code class="literal">XKBLAYOUT="us"</code>.</p></div></div><p>Your <a id="id32" class="indexterm"/>system has lots of capabilities. Feel free to play with the system, which will give you an understanding of what is already there and what you'll want to add from a software perspective.</p></div></div>
<div class="section" title="Programming on Raspberry Pi"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec11"/>Programming on Raspberry Pi</h1></div></div></div><p>One <a id="id33" class="indexterm"/>last bit of introduction. You'll need some basic programming skills to be successful on your project. This section will touch a little on Python and C programming on the Raspberry Pi.</p><div class="section" title="Creating and running Python programs on the Raspberry Pi"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec08"/>Creating and running Python programs on the Raspberry Pi</h2></div></div></div><p>You'll be <a id="id34" class="indexterm"/>using Python for two reasons. First, it is a simple language that is intuitive and very easy to use. Second, a lot of <a id="id35" class="indexterm"/>open source functionality in the robotics world is available in Python. To work the examples in this section, you'll need a version of Python installed. Fortunately, the basic Raspbian system has a version already installed, so you are ready to begin.</p><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note04"/>Note</h3><p>If you are new to programming, there are a number of different websites that provide interactive tutorials. If you'd like to practice some of the basic programming concepts<a id="id36" class="indexterm"/> in Python using these tools, go to <a class="ulink" href="http://www.codeacademy.com">www.codeacademy.com</a> or <a class="ulink" href="http://www.learnpython.org/">http://www.learnpython.org/</a> and give it a try.</p></div></div><p>But, to get you started, let's first cover how to create and run a Python file. It turns out that Python is an interactive language, so you could run Python and then type in commands one at a time. However, you want to use Python to create programs, so you are going to create Python programs and then run these programs from the command line by invoking Python.</p><p>Open an example Python file by typing in <code class="literal">emacs example.py</code>. Now, put some code in the file. Start with the lines shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/B04591_01_22.jpg" alt="Creating and running Python programs on the Raspberry Pi"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note05"/>Note</h3><p>Your code may be color coded. I have removed the color coding here so that it is easier to read.</p></div></div><p>Let's go<a id="id37" class="indexterm"/> through the code to see what is <a id="id38" class="indexterm"/>happening:</p><div class="orderedlist"><ol class="orderedlist arabic"><li class="listitem"><code class="literal">a = input("Input value: ")</code>: One of the basic needs of a program is to get input from the user. The <code class="literal">raw_input</code> part allows us to do that. The data will be input by the user and stored in <code class="literal">a</code>. The prompt <code class="literal">"Input value:"</code> will be shown to the user.</li><li class="listitem"><code class="literal">b = input("Input second value: ")</code>: This data will also be input by the user and stored in <code class="literal">b</code>. The prompt <code class="literal">"Input second value:"</code> will be shown to the user.</li><li class="listitem"><code class="literal">c = a + b</code>: This is an example of something you can do with the data; in this example, you can add <code class="literal">a</code> and <code class="literal">b</code>.</li><li class="listitem"><code class="literal">print c</code>: Another basic need of our program is to print out results. The print command prints out the value of <code class="literal">c</code>.</li></ol></div><p>Once you have created your program, save it (using <code class="literal">ctrl-x ctrl-s</code>) and quit emacs (using <code class="literal">ctrl-x ctrl-c</code>). Now, from the command line, run your program by typing in <code class="literal">python example.py</code>. You should see something similar to the following screenshot:</p><div class="mediaobject"><img src="graphics/B04591_01_23.jpg" alt="Creating and running Python programs on the Raspberry Pi"/></div><p>You <a id="id39" class="indexterm"/>can also run the program right from the <a id="id40" class="indexterm"/>command line without typing in <code class="literal">python example.py</code> by adding one line to the program. Now, the program should look like the following screenshot:</p><div class="mediaobject"><img src="graphics/B04591_01_24.jpg" alt="Creating and running Python programs on the Raspberry Pi"/></div><p>Adding <code class="literal">#!/usr/bin/python</code> as the first line simply makes this file available for us to execute from the command line. Once you have saved the file and exited emacs, type in <code class="literal">chmod +x example.py</code>. This will change the file's execution permissions, so the computer will now believe it and execute it. You should be able to simply type in <code class="literal">./example.py</code> and the program should run, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/B04591_01_25.jpg" alt="Creating and running Python programs on the Raspberry Pi"/></div><p>Note <a id="id41" class="indexterm"/>that if you simply type in <code class="literal">example.py</code>, the <a id="id42" class="indexterm"/>system will not find the executable file. In this case, the file has not been registered with the system, so you have to give it a path to the file. In this case, <code class="literal">./</code> is the current directory.</p></div><div class="section" title="An introduction to the C/C++ programming language"><div class="titlepage"><div><div><h2 class="title"><a id="ch01lvl2sec09"/>An introduction to the C/C++ programming language</h2></div></div></div><p>Now<a id="id43" class="indexterm"/> that you've been introduced to a simple programming language in Python, you'll also need a bit of exposure to a more complex, but <a id="id44" class="indexterm"/>powerful, language called C. C is the original language of Linux and has been around for many decades, but is still widely used by open source developers. It is similar to Python, but is also a bit different, and since you may need to understand and make changes to C code, you should be familiar with it and know how it is used.</p><p>As with Python, you will need to have access to the language capabilities. These come in the form of a compiler and build system, which turns your text files into ones that contain programs to machine code that the processor can actually execute. To do this, type in <code class="literal">sudo apt-get install build-essential</code>. This will install the programs you need to turn your code into executables for the system.</p><p>Now that the <a id="id45" class="indexterm"/>tools are installed, let's walk through some simple examples. Here is the first C/C++ code example:</p><div class="mediaobject"><img src="graphics/B04591_01_26.jpg" alt="An introduction to the C/C++ programming language"/></div><p>The <a id="id46" class="indexterm"/>following<a id="id47" class="indexterm"/> is an explanation of the code:</p><div class="itemizedlist"><ul class="itemizedlist"><li class="listitem" style="list-style-type: disc"><code class="literal">#include &lt;iostream&gt;</code>: This is a library that is included so that your program can input data from the keyboard and output information to the screen.</li><li class="listitem" style="list-style-type: disc"><code class="literal">int main()</code>: As with Python, we can put functions and classes in the file, but you will always want to start execution at a known point; C defines this as the <code class="literal">main</code> function.</li><li class="listitem" style="list-style-type: disc"><code class="literal">int a;</code>: This defines a variable named <code class="literal">a</code>, of type <code class="literal">int</code>. C is what we call a strongly typed language, which means that we need to declare the type of the variable we are defining. The normal types are <code class="literal">int</code>, a number that has no decimal points; <code class="literal">float</code>, a number that requires decimal points; <code class="literal">char</code>, a character of text, and <code class="literal">bool</code>, a <code class="literal">true</code> or <code class="literal">false</code> value. Also note that every line in C ends with the <code class="literal">;</code> character.</li><li class="listitem" style="list-style-type: disc"><code class="literal">int b;</code>: This defines a variable named <code class="literal">b</code>, of type <code class="literal">int</code>.</li><li class="listitem" style="list-style-type: disc"><code class="literal">int c;</code>: This defines a variable named <code class="literal">c</code>, of type <code class="literal">int</code>.</li><li class="listitem" style="list-style-type: disc"><code class="literal">std::cout &lt;&lt; "Input value: ";</code>: This will display the string <code class="literal">"Input value: "</code> on the screen.</li><li class="listitem" style="list-style-type: disc"><code class="literal">std::cin &gt;&gt; a;</code>: The input that the user types will go into the variable <code class="literal">a</code>.</li><li class="listitem" style="list-style-type: disc"><code class="literal">std::cout &lt;&lt; "Input second value: ";</code>: This will display the string <code class="literal">"Input second value: "</code> on the screen.</li><li class="listitem" style="list-style-type: disc"><code class="literal">std::cin &gt;&gt; b;</code>: The input that the user types will go into the variable <code class="literal">b</code>.</li><li class="listitem" style="list-style-type: disc"><code class="literal">c = a + b</code>: The statement is a simple addition of two values.</li><li class="listitem" style="list-style-type: disc"><code class="literal">std::cout &lt;&lt; c &lt;&lt; std::endl;</code>: The <code class="literal">cout</code> command prints out the value of <code class="literal">c</code>. The <code class="literal">endl</code> command at the end prints out a carriage return so that the next character appears on the next line.</li><li class="listitem" style="list-style-type: disc"><code class="literal">return 0;</code>: The main function ends and returns <code class="literal">0</code>.</li></ul></div><p>To run <a id="id48" class="indexterm"/>this program, you'll need to run a compile <a id="id49" class="indexterm"/>process to turn it into an executable program that you can run. To do this, after you have created the program, type in <code class="literal">g++ example2.cpp –o example2</code>. This will then process your program, turning it into a file that the computer can execute. The name of the executable program will be <code class="literal">example2</code> (as specified by the name after the <code class="literal">–o</code> option).</p><p>If you run an <code class="literal">ls</code> on your directory after you have compiled this, you should see the <code class="literal">example2</code> file in your directory, as shown in the following screenshot:</p><div class="mediaobject"><img src="graphics/B04591_01_27.jpg" alt="An introduction to the C/C++ programming language"/></div><p>If you<a id="id50" class="indexterm"/> run into a problem, the compiler will try to<a id="id51" class="indexterm"/> help you figure out the problem. If, for example, you forgot the <code class="literal">int</code> before <code class="literal">a</code> in the expression <code class="literal">int a</code>, you would get the following error when you try to compile:</p><div class="mediaobject"><img src="graphics/B04591_01_28.jpg" alt="An introduction to the C/C++ programming language"/></div><p>The error message indicates a problem in the <code class="literal">int main()</code> function and tells you that the variable <code class="literal">a</code> was <a id="id52" class="indexterm"/>not successfully declared. Once <a id="id53" class="indexterm"/>you have the file compiled, to run the executable, type in <code class="literal">./example2</code>, and you should be able to create the following result:</p><div class="mediaobject"><img src="graphics/B04591_01_29.jpg" alt="An introduction to the C/C++ programming language"/></div><div class="note" title="Note" style=""><div class="inner"><h3 class="title"><a id="note06"/>Note</h3><p>If you are interested in learning more about C programming, there are several good<a id="id54" class="indexterm"/> tutorials out on the Internet that can help-for example, at <a class="ulink" href="http://www.cprogramming.com/tutorial/c-tutorial.html">http://www.cprogramming.com/tutorial/c-tutorial.html</a> and <a class="ulink" href="http://thenewboston.org/list.php?cat=14">http://thenewboston.org/list.php?cat=14</a>.</p></div></div><p>There is one more aspect of C you will need to know about. The compile process that you just encountered seemed fairly straightforward. However, if you have your functionality distributed between a lot of files or need lots of libraries, the command-line approach to executing a compile can get unwieldy.</p><p>The C development environment provides a way to automate this process; it is called the make process. When using this, you create a text program named <code class="literal">makefile</code> that defines the files you want to include and compile, and then, instead of typing a long command or set of commands, you simply type in <code class="literal">make</code> and the system will execute a compile based on the <a id="id55" class="indexterm"/>definitions<a id="id56" class="indexterm"/> in the <code class="literal">makefile</code> program. There are several good tutorials that talk more about this system-for example, <a class="ulink" href="http://www.cs.colby.edu/maxwell/courses/tutorials/maketutor/">http://www.cs.colby.edu/maxwell/courses/tutorials/maketutor/</a> or <a class="ulink" href="http://mrbook.org/tutorials/make/">http://mrbook.org/tutorials/make/</a>.</p><p>Now you are equipped to edit and create your own programming files. The next chapters will<a id="id57" class="indexterm"/> provide you with lots of opportunities to <a id="id58" class="indexterm"/>practice your skills as you translate lines of code into cool robotic capabilities.</p></div></div>
<div class="section" title="Summary"><div class="titlepage"><div><div><h1 class="title"><a id="ch01lvl1sec12"/>Summary</h1></div></div></div><p>Congratulations! You have your Raspberry Pi up and working. No gathering dust in the bin for this piece of hardware, Now, you are ready to start commanding your Raspberry Pi to do something.</p><p>The next chapter will show you how to construct your biped robot.</p></div></body></html>